(self.webpackChunklaminas=self.webpackChunklaminas||[]).push([[179],{6304:(mt,De,U)=>{"use strict";U.d(De,{Dh:()=>Me,GT:()=>ye,cc:()=>Le,hO:()=>Ze,on:()=>Z,pX:()=>he,xv:()=>Ie});var s=U(5879),G=U(7142),L=U(2994);mt=U.hmd(mt);const re=["ngOnDestroy"],he=(ze,at,st,ce={})=>new Proxy(ze,{get:(Ve,ge)=>st.runOutsideAngular(()=>{var Pe;if(ze[ge])return!(null===(Pe=ce?.spy)||void 0===Pe)&&Pe.get&&ce.spy.get(ge,ze[ge]),ze[ge];if(re.indexOf(ge)>-1)return()=>{};const oe=at.toPromise().then(pe=>{const Re=pe&&pe[ge];return"function"==typeof Re?Re.bind(pe):Re&&Re.then?Re.then(Je=>st.run(()=>Je)):st.run(()=>Re)});return new Proxy(()=>{},{get:(pe,Re)=>oe[Re],apply:(pe,Re,Je)=>oe.then(_t=>{var wn;const kn=_t&&_t(...Je);return!(null===(wn=ce?.spy)||void 0===wn)&&wn.apply&&ce.spy.apply(ge,Je,kn),kn})})})}),ye=(ze,at)=>{at.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(ce=>{Object.defineProperty(ze.prototype,ce,Object.getOwnPropertyDescriptor(st.prototype||st,ce))})})};class Se{constructor(at){return at}}const Me=new s.OlP("angularfire2.app.options"),Ie=new s.OlP("angularfire2.app.name");function Z(ze,at,st){const Ve="object"==typeof st&&st||{};Ve.name=Ve.name||"string"==typeof st&&st||"[DEFAULT]";const Pe=G.Z.apps.filter(oe=>oe&&oe.name===Ve.name)[0]||at.runOutsideAngular(()=>G.Z.initializeApp(ze,Ve));try{JSON.stringify(ze)!==JSON.stringify(Pe.options)&&Q("error",`${Pe.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(Pe)}const Q=(ze,...at)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ze](...at)},ue={provide:Se,useFactory:Z,deps:[Me,s.R0b,[new s.FiY,Ie]]};let Ze=(()=>{class ze{constructor(st){G.Z.registerVersion("angularfire",L.q4.full,"core"),G.Z.registerVersion("angularfire",L.q4.full,"app-compat"),G.Z.registerVersion("angular",s.q4F.full,st.toString())}static initializeApp(st,ce){return{ngModule:ze,providers:[{provide:Me,useValue:st},{provide:Ie,useValue:ce}]}}}return ze.\u0275fac=function(st){return new(st||ze)(s.LFG(s.Lbi))},ze.\u0275mod=s.oAB({type:ze}),ze.\u0275inj=s.cJS({providers:[ue]}),ze})();function Le(ze,at,st,ce,Ve){const[,ge,Pe]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===ze)||[];if(ge)return function nt(ze,at){try{return ze.toString()===at.toString()}catch{return ze===at}}(Ve,Pe)||(V("error",`${at} was already initialized on the ${st} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),V("warn",{is:Ve,was:Pe})),ge;{const oe=ce();return globalThis.\u0275AngularfireInstanceCache.push([ze,oe,Ve]),oe}}const Fe=!!mt.hot,V=(ze,...at)=>{(0,s.X6Q)()&&typeof console<"u"&&console[ze](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2994:(mt,De,U)=>{"use strict";U.d(De,{q4:()=>d_,iC:()=>xc,fc:()=>Hu,HU:()=>oa,vb:()=>ur,JM:()=>Ec});var s=U(5879),G=U(3182),L=U(5861),re=U(4303),he=U(9058),ye=U(4537),Se=U(7879),Me=U(1878);const Ie="@firebase/installations",Z="0.6.1",Q=1e4,ue=`w:${Z}`,Ze="FIS_v2",Le="https://firebaseinstallations.googleapis.com/v1",nt=36e5,at=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(D){return D instanceof he.ZR&&D.code.includes("request-failed")}function ce({projectId:D}){return`${Le}/projects/${D}/installations`}function Ve(D){return{token:D.token,requestStatus:2,expiresIn:_t(D.expiresIn),creationTime:Date.now()}}function ge(D,A){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,L.Z)(function*(D,A){const W=(yield A.json()).error;return at.create("request-failed",{requestName:D,serverCode:W.code,serverMessage:W.message,serverStatus:W.status})})).apply(this,arguments)}function oe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Re(D){return Je.apply(this,arguments)}function Je(){return(Je=(0,L.Z)(function*(D){const A=yield D();return A.status>=500&&A.status<600?D():A})).apply(this,arguments)}function _t(D){return Number(D.replace("s","000"))}function dn(){return(dn=(0,L.Z)(function*({appConfig:D,heartbeatServiceProvider:A},{fid:O}){const W=ce(D),se=oe(D),we=A.getImmediate({optional:!0});if(we){const wt=yield we.getHeartbeatsHeader();wt&&se.append("x-firebase-client",wt)}const gt={method:"POST",headers:se,body:JSON.stringify({fid:O,authVersion:Ze,appId:D.appId,sdkVersion:ue})},Ct=yield Re(()=>fetch(W,gt));if(Ct.ok){const wt=yield Ct.json();return{fid:wt.fid||O,registrationStatus:2,refreshToken:wt.refreshToken,authToken:Ve(wt.authToken)}}throw yield ge("Create Installation",Ct)})).apply(this,arguments)}function bn(D){return new Promise(A=>{setTimeout(A,D)})}const Cs=/^[cdef][\w-]{21}$/,ve="";function be(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function xe(D){return function qn(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Cs.test(O)?O:ve}catch{return ve}}function Ee(D){return`${D.appName}!${D.appId}`}const S=new Map;function X(D,A){const O=Ee(D);At(O,A),function je(D,A){const O=function Xe(){return!tt&&"BroadcastChannel"in self&&(tt=new BroadcastChannel("[Firebase] FID Change"),tt.onmessage=D=>{At(D.data.key,D.data.fid)}),tt}();O&&O.postMessage({key:D,fid:A}),function Nt(){0===S.size&&tt&&(tt.close(),tt=null)}()}(O,A)}function At(D,A){const O=S.get(D);if(O)for(const W of O)W(A)}let tt=null;const hn="firebase-installations-database",Fn=1,Kt="firebase-installations-store";let li=null;function Zi(){return li||(li=(0,Me.X3)(hn,Fn,{upgrade:(D,A)=>{0===A&&D.createObjectStore(Kt)}})),li}function Oi(D,A){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,L.Z)(function*(D,A){const O=Ee(D),se=(yield Zi()).transaction(Kt,"readwrite"),we=se.objectStore(Kt),We=yield we.get(O);return yield we.put(A,O),yield se.done,(!We||We.fid!==A.fid)&&X(D,A.fid),A})).apply(this,arguments)}function ri(D){return yi.apply(this,arguments)}function yi(){return(yi=(0,L.Z)(function*(D){const A=Ee(D),W=(yield Zi()).transaction(Kt,"readwrite");yield W.objectStore(Kt).delete(A),yield W.done})).apply(this,arguments)}function or(D,A){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,L.Z)(function*(D,A){const O=Ee(D),se=(yield Zi()).transaction(Kt,"readwrite"),we=se.objectStore(Kt),We=yield we.get(O),gt=A(We);return void 0===gt?yield we.delete(O):yield we.put(gt,O),yield se.done,gt&&(!We||We.fid!==gt.fid)&&X(D,gt.fid),gt})).apply(this,arguments)}function qt(D){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,L.Z)(function*(D){let A;const O=yield or(D.appConfig,W=>{const se=function Jn(D){return Is(D||{fid:be(),registrationStatus:0})}(W),we=function Dr(D,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(at.create("app-offline"))};const O={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},W=function ar(D,A){return Lt.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:W}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:ci(D)}:{installationEntry:A}}(D,se);return A=we.registrationPromise,we.installationEntry});return O.fid===ve?{installationEntry:yield A}:{installationEntry:O,registrationPromise:A}}),Zt.apply(this,arguments)}function Lt(){return Lt=(0,L.Z)(function*(D,A){try{const O=yield function kn(D,A){return dn.apply(this,arguments)}(D,A);return Oi(D.appConfig,O)}catch(O){throw st(O)&&409===O.customData.serverCode?yield ri(D.appConfig):yield Oi(D.appConfig,{fid:A.fid,registrationStatus:0}),O}}),Lt.apply(this,arguments)}function ci(D){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,L.Z)(function*(D){let A=yield Dn(D.appConfig);for(;1===A.registrationStatus;)yield bn(100),A=yield Dn(D.appConfig);if(0===A.registrationStatus){const{installationEntry:O,registrationPromise:W}=yield qt(D);return W||O}return A})).apply(this,arguments)}function Dn(D){return or(D,A=>{if(!A)throw at.create("installation-not-found");return Is(A)})}function Is(D){return function tn(D){return 1===D.registrationStatus&&D.registrationTime+Q<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Ar(){return(Ar=(0,L.Z)(function*({appConfig:D,heartbeatServiceProvider:A},O){const W=function Xr(D,{fid:A}){return`${ce(D)}/${A}/authTokens:generate`}(D,O),se=function pe(D,{refreshToken:A}){const O=oe(D);return O.append("Authorization",function wn(D){return`${Ze} ${D}`}(A)),O}(D,O),we=A.getImmediate({optional:!0});if(we){const wt=yield we.getHeartbeatsHeader();wt&&se.append("x-firebase-client",wt)}const gt={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:ue,appId:D.appId}})},Ct=yield Re(()=>fetch(W,gt));if(Ct.ok)return Ve(yield Ct.json());throw yield ge("Generate Auth Token",Ct)})).apply(this,arguments)}function es(D){return lr.apply(this,arguments)}function lr(){return lr=(0,L.Z)(function*(D,A=!1){let O;const W=yield or(D.appConfig,we=>{if(!pn(we))throw at.create("not-registered");const We=we.authToken;if(!A&&function J(D){return 2===D.requestStatus&&!function Y(D){const A=Date.now();return A<D.creationTime||D.creationTime+D.expiresIn<A+nt}(D)}(We))return we;if(1===We.requestStatus)return O=function ft(D,A){return Be.apply(this,arguments)}(D,A),we;{if(!navigator.onLine)throw at.create("app-offline");const gt=function ie(D){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:A})}(we);return O=function xt(D,A){return Gt.apply(this,arguments)}(D,gt),gt}});return O?yield O:W.authToken}),lr.apply(this,arguments)}function Be(){return(Be=(0,L.Z)(function*(D,A){let O=yield dt(D.appConfig);for(;1===O.authToken.requestStatus;)yield bn(100),O=yield dt(D.appConfig);const W=O.authToken;return 0===W.requestStatus?es(D,A):W})).apply(this,arguments)}function dt(D){return or(D,A=>{if(!pn(A))throw at.create("not-registered");return function $(D){return 1===D.requestStatus&&D.requestTime+Q<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Gt(){return Gt=(0,L.Z)(function*(D,A){try{const O=yield function Vn(D,A){return Ar.apply(this,arguments)}(D,A),W=Object.assign(Object.assign({},A),{authToken:O});return yield Oi(D.appConfig,W),O}catch(O){if(!st(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const W=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Oi(D.appConfig,W)}else yield ri(D.appConfig);throw O}}),Gt.apply(this,arguments)}function pn(D){return void 0!==D&&2===D.registrationStatus}function q(){return(q=(0,L.Z)(function*(D){const A=D,{installationEntry:O,registrationPromise:W}=yield qt(A);return W?W.catch(console.error):es(A).catch(console.error),O.fid})).apply(this,arguments)}function Ye(){return Ye=(0,L.Z)(function*(D,A=!1){const O=D;return yield function lt(D){return Ft.apply(this,arguments)}(O),(yield es(O,A)).token}),Ye.apply(this,arguments)}function Ft(){return(Ft=(0,L.Z)(function*(D){const{registrationPromise:A}=yield qt(D);A&&(yield A)})).apply(this,arguments)}function Do(D){return at.create("missing-app-config-values",{valueName:D})}const ao="installations",fn=D=>{const A=D.getProvider("app").getImmediate(),O=function Gs(D){if(!D||!D.options)throw Do("App Configuration");if(!D.name)throw Do("App Name");const A=["projectId","apiKey","appId"];for(const O of A)if(!D.options[O])throw Do(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(A);return{app:A,appConfig:O,heartbeatServiceProvider:(0,re._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Yo=D=>{const A=D.getProvider("app").getImmediate(),O=(0,re._getProvider)(A,ao).getImmediate();return{getId:()=>function F(D){return q.apply(this,arguments)}(O),getToken:se=>function me(D){return Ye.apply(this,arguments)}(O,se)}};(function Ta(){(0,re._registerComponent)(new ye.wA(ao,fn,"PUBLIC")),(0,re._registerComponent)(new ye.wA("installations-internal",Yo,"PRIVATE"))})(),(0,re.registerVersion)(Ie,Z),(0,re.registerVersion)(Ie,Z,"esm2017");const Ea="@firebase/remote-config",Li=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kd{constructor(A,O,W,se){this.client=A,this.storage=O,this.storageCache=W,this.logger=se}isCachedDataFresh(A,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const W=Date.now()-O,se=W<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${W}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${se}.`),se}fetch(A){var O=this;return(0,L.Z)(function*(){const[W,se]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(se&&O.isCachedDataFresh(A.cacheMaxAgeMillis,W))return se;A.eTag=se&&se.eTag;const we=yield O.client.fetch(A),We=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&We.push(O.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all(We),we})()}}function gr(D=navigator){return D.languages&&D.languages[0]||D.language}class Zs{constructor(A,O,W,se,we,We){this.firebaseInstallations=A,this.sdkVersion=O,this.namespace=W,this.projectId=se,this.apiKey=we,this.appId=We}fetch(A){var O=this;return(0,L.Z)(function*(){const[W,se]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),We=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Ct={sdk_version:O.sdkVersion,app_instance_id:W,app_instance_id_token:se,app_id:O.appId,language_code:gr()},wt={method:"POST",headers:gt,body:JSON.stringify(Ct)},sn=fetch(We,wt),Bt=new Promise((jr,ks)=>{A.signal.addEventListener(()=>{const zu=new Error("The operation was aborted.");zu.name="AbortError",ks(zu)})});let Nr;try{yield Promise.race([sn,Bt]),Nr=yield sn}catch(jr){let ks="fetch-client-network";throw"AbortError"===jr?.name&&(ks="fetch-timeout"),Li.create(ks,{originalErrorMessage:jr?.message})}let Ai=Nr.status;const Uo=Nr.headers.get("ETag")||void 0;let Ha,kl;if(200===Nr.status){let jr;try{jr=yield Nr.json()}catch(ks){throw Li.create("fetch-client-parse",{originalErrorMessage:ks?.message})}Ha=jr.entries,kl=jr.state}if("INSTANCE_STATE_UNSPECIFIED"===kl?Ai=500:"NO_CHANGE"===kl?Ai=304:("NO_TEMPLATE"===kl||"EMPTY_CONFIG"===kl)&&(Ha={}),304!==Ai&&200!==Ai)throw Li.create("fetch-status",{httpStatus:Ai});return{status:Ai,eTag:Uo,config:Ha}})()}}class $s{constructor(A,O){this.client=A,this.storage=O}fetch(A){var O=this;return(0,L.Z)(function*(){const W=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(A,W)})()}attemptFetch(A,{throttleEndTimeMillis:O,backoffCount:W}){var se=this;return(0,L.Z)(function*(){yield function vu(D,A){return new Promise((O,W)=>{const se=Math.max(A-Date.now(),0),we=setTimeout(O,se);D.addEventListener(()=>{clearTimeout(we),W(Li.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,O);try{const we=yield se.client.fetch(A);return yield se.storage.deleteThrottleMetadata(),we}catch(we){if(!function lf(D){if(!(D instanceof he.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}(we))throw we;const We={throttleEndTimeMillis:Date.now()+(0,he.$s)(W),backoffCount:W+1};return yield se.storage.setThrottleMetadata(We),se.attemptFetch(A,We)}})()}}class Qd{constructor(A,O,W,se,we){this.app=A,this._client=O,this._storageCache=W,this._storage=se,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jo(D,A){const O=D.target.error||void 0;return Li.create(A,{originalErrorMessage:O&&O?.message})}const ko="app_namespace_store";class Po{constructor(A,O,W,se=function _r(){return new Promise((D,A)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=W=>{A(Jo(W,"storage-open"))},O.onsuccess=W=>{D(W.target.result)},O.onupgradeneeded=W=>{0===W.oldVersion&&W.target.result.createObjectStore(ko,{keyPath:"compositeKey"})}}catch(O){A(Li.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=A,this.appName=O,this.namespace=W,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var O=this;return(0,L.Z)(function*(){const W=yield O.openDbPromise;return new Promise((se,we)=>{const gt=W.transaction([ko],"readonly").objectStore(ko),Ct=O.createCompositeKey(A);try{const wt=gt.get(Ct);wt.onerror=sn=>{we(Jo(sn,"storage-get"))},wt.onsuccess=sn=>{const Bt=sn.target.result;se(Bt?Bt.value:void 0)}}catch(wt){we(Li.create("storage-get",{originalErrorMessage:wt?.message}))}})})()}set(A,O){var W=this;return(0,L.Z)(function*(){const se=yield W.openDbPromise;return new Promise((we,We)=>{const Ct=se.transaction([ko],"readwrite").objectStore(ko),wt=W.createCompositeKey(A);try{const sn=Ct.put({compositeKey:wt,value:O});sn.onerror=Bt=>{We(Jo(Bt,"storage-set"))},sn.onsuccess=()=>{we()}}catch(sn){We(Li.create("storage-set",{originalErrorMessage:sn?.message}))}})})()}delete(A){var O=this;return(0,L.Z)(function*(){const W=yield O.openDbPromise;return new Promise((se,we)=>{const gt=W.transaction([ko],"readwrite").objectStore(ko),Ct=O.createCompositeKey(A);try{const wt=gt.delete(Ct);wt.onerror=sn=>{we(Jo(sn,"storage-delete"))},wt.onsuccess=()=>{se()}}catch(wt){we(Li.create("storage-delete",{originalErrorMessage:wt?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Di{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,L.Z)(function*(){const O=A.storage.getLastFetchStatus(),W=A.storage.getLastSuccessfulFetchTimestampMillis(),se=A.storage.getActiveConfig(),we=yield O;we&&(A.lastFetchStatus=we);const We=yield W;We&&(A.lastSuccessfulFetchTimestampMillis=We);const gt=yield se;gt&&(A.activeConfig=gt)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function i_(){return gl.apply(this,arguments)}function gl(){return(gl=(0,L.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function Jd(){(0,re._registerComponent)(new ye.wA("remote-config",function D(A,{instanceIdentifier:O}){const W=A.getProvider("app").getImmediate(),se=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Li.create("registration-window");if(!(0,he.hl)())throw Li.create("indexed-db-unavailable");const{projectId:we,apiKey:We,appId:gt}=W.options;if(!we)throw Li.create("registration-project-id");if(!We)throw Li.create("registration-api-key");if(!gt)throw Li.create("registration-app-id");const Ct=new Po(gt,W.name,O=O||"firebase"),wt=new Di(Ct),sn=new Se.Yd(Ea);sn.logLevel=Se.in.ERROR;const Bt=new Zs(se,re.SDK_VERSION,O,we,We,gt),Nr=new $s(Bt,Ct),Ai=new Kd(Nr,Ct,wt,sn),Uo=new Qd(W,Ai,wt,Ct,sn);return function lc(D){const A=(0,he.m9)(D);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Uo),Uo},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Ea,"0.4.1"),(0,re.registerVersion)(Ea,"0.4.1","esm2017")}();const Cn="/firebase-messaging-sw.js",rt="/firebase-cloud-messaging-push-scope",Ut="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$n="https://fcmregistrations.googleapis.com/v1",Mr="google.c.a.c_id",Xo="google.c.a.c_l",Wi="google.c.a.ts";var yr=function(D){return D.PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",D}(yr||{});function kr(D){const A=new Uint8Array(D);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $t(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),W=atob(O),se=new Uint8Array(W.length);for(let we=0;we<W.length;++we)se[we]=W.charCodeAt(we);return se}const lo="fcm_token_details_db",si=5,Ts="fcm_token_object_Store";function Ro(){return Ro=(0,L.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes(lo))return null;let A=null;return(yield(0,Me.X3)(lo,si,{upgrade:(W=(0,L.Z)(function*(se,we,We,gt){var Ct;if(we<2||!se.objectStoreNames.contains(Ts))return;const wt=gt.objectStore(Ts),sn=yield wt.index("fcmSenderId").get(D);if(yield wt.clear(),sn)if(2===we){const Bt=sn;if(!Bt.auth||!Bt.p256dh||!Bt.endpoint)return;A={token:Bt.fcmToken,createTime:null!==(Ct=Bt.createTime)&&void 0!==Ct?Ct:Date.now(),subscriptionOptions:{auth:Bt.auth,p256dh:Bt.p256dh,endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:"string"==typeof Bt.vapidKey?Bt.vapidKey:kr(Bt.vapidKey)}}}else if(3===we){const Bt=sn;A={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:kr(Bt.auth),p256dh:kr(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:kr(Bt.vapidKey)}}}else if(4===we){const Bt=sn;A={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:kr(Bt.auth),p256dh:kr(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:kr(Bt.vapidKey)}}}}),function(we,We,gt,Ct){return W.apply(this,arguments)})})).close(),yield(0,Me.Lj)(lo),yield(0,Me.Lj)("fcm_vapid_details_db"),yield(0,Me.Lj)("undefined"),function Oo(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:A}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var W}),Ro.apply(this,arguments)}const Es="firebase-messaging-database",xa=1,No="firebase-messaging-store";let xs=null;function Pr(){return xs||(xs=(0,Me.X3)(Es,xa,{upgrade:(D,A)=>{0===A&&D.createObjectStore(No)}})),xs}function Sa(D){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,L.Z)(function*(D){const A=Yi(D),W=yield(yield Pr()).transaction(No).objectStore(No).get(A);if(W)return W;{const se=yield function wi(D){return Ro.apply(this,arguments)}(D.appConfig.senderId);if(se)return yield Jt(D,se),se}}),Ss.apply(this,arguments)}function Jt(D,A){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,L.Z)(function*(D,A){const O=Yi(D),se=(yield Pr()).transaction(No,"readwrite");return yield se.objectStore(No).put(A,O),yield se.done,A})).apply(this,arguments)}function yl(){return(yl=(0,L.Z)(function*(D){const A=Yi(D),W=(yield Pr()).transaction(No,"readwrite");yield W.objectStore(No).delete(A),yield W.done})).apply(this,arguments)}function Yi({appConfig:D}){return D.appId}const Xn=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Da(D,A){return ui.apply(this,arguments)}function ui(){return(ui=(0,L.Z)(function*(D,A){const O=yield na(D),W=Aa(A),se={method:"POST",headers:O,body:JSON.stringify(W)};let we;try{we=yield(yield fetch(co(D.appConfig),se)).json()}catch(We){throw Xn.create("token-subscribe-failed",{errorInfo:We?.toString()})}if(we.error)throw Xn.create("token-subscribe-failed",{errorInfo:we.error.message});if(!we.token)throw Xn.create("token-subscribe-no-token");return we.token})).apply(this,arguments)}function Ki(){return(Ki=(0,L.Z)(function*(D,A){const O=yield na(D),W=Aa(A.subscriptionOptions),se={method:"PATCH",headers:O,body:JSON.stringify(W)};let we;try{we=yield(yield fetch(`${co(D.appConfig)}/${A.token}`,se)).json()}catch(We){throw Xn.create("token-update-failed",{errorInfo:We?.toString()})}if(we.error)throw Xn.create("token-update-failed",{errorInfo:we.error.message});if(!we.token)throw Xn.create("token-update-no-token");return we.token})).apply(this,arguments)}function vr(D,A){return ta.apply(this,arguments)}function ta(){return(ta=(0,L.Z)(function*(D,A){const W={method:"DELETE",headers:yield na(D)};try{const we=yield(yield fetch(`${co(D.appConfig)}/${A}`,W)).json();if(we.error)throw Xn.create("token-unsubscribe-failed",{errorInfo:we.error.message})}catch(se){throw Xn.create("token-unsubscribe-failed",{errorInfo:se?.toString()})}})).apply(this,arguments)}function co({projectId:D}){return`${$n}/projects/${D}/registrations`}function na(D){return wr.apply(this,arguments)}function wr(){return(wr=(0,L.Z)(function*({appConfig:D,installations:A}){const O=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Aa({p256dh:D,auth:A,endpoint:O,vapidKey:W}){const se={web:{endpoint:O,auth:A,p256dh:D}};return W!==Ut&&(se.web.applicationPubKey=W),se}const uc=6048e5;function Iu(){return Iu=(0,L.Z)(function*(D){const A=yield function di(D,A){return Eu.apply(this,arguments)}(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:A.endpoint,auth:kr(A.getKey("auth")),p256dh:kr(A.getKey("p256dh"))},W=yield Sa(D.firebaseDependencies);if(W){if(function S0(D,A){return A.vapidKey===D.vapidKey&&A.endpoint===D.endpoint&&A.auth===D.auth&&A.p256dh===D.p256dh}(W.subscriptionOptions,O))return Date.now()>=W.createTime+uc?function s_(D,A){return dc.apply(this,arguments)}(D,{token:W.token,createTime:Date.now(),subscriptionOptions:O}):W.token;try{yield vr(D.firebaseDependencies,W.token)}catch(se){console.warn(se)}return hf(D.firebaseDependencies,O)}return hf(D.firebaseDependencies,O)}),Iu.apply(this,arguments)}function vl(){return vl=(0,L.Z)(function*(D){const A=yield Sa(D.firebaseDependencies);A&&(yield vr(D.firebaseDependencies,A.token),yield function _l(D){return yl.apply(this,arguments)}(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),vl.apply(this,arguments)}function dc(){return dc=(0,L.Z)(function*(D,A){try{const O=yield function r_(D,A){return Ki.apply(this,arguments)}(D.firebaseDependencies,A),W=Object.assign(Object.assign({},A),{token:O,createTime:Date.now()});return yield Jt(D.firebaseDependencies,W),O}catch(O){throw yield function df(D){return vl.apply(this,arguments)}(D),O}}),dc.apply(this,arguments)}function hf(D,A){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,L.Z)(function*(D,A){const W={token:yield Da(D,A),createTime:Date.now(),subscriptionOptions:A};return yield Jt(D,W),W.token})).apply(this,arguments)}function Eu(){return(Eu=(0,L.Z)(function*(D,A){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$t(A)})})).apply(this,arguments)}function Xd(D){const A={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function D0(D,A){if(!A.notification)return;D.notification={};const O=A.notification.title;O&&(D.notification.title=O);const W=A.notification.body;W&&(D.notification.body=W);const se=A.notification.image;se&&(D.notification.image=se);const we=A.notification.icon;we&&(D.notification.icon=we)}(A,D),function A0(D,A){A.data&&(D.data=A.data)}(A,D),function pf(D,A){var O,W,se,we,We;if(!(A.fcmOptions||null!==(O=A.notification)&&void 0!==O&&O.click_action))return;D.fcmOptions={};const gt=null!==(se=null===(W=A.fcmOptions)||void 0===W?void 0:W.link)&&void 0!==se?se:null===(we=A.notification)||void 0===we?void 0:we.click_action;gt&&(D.fcmOptions.link=gt);const Ct=null===(We=A.fcmOptions)||void 0===We?void 0:We.analytics_label;Ct&&(D.fcmOptions.analyticsLabel=Ct)}(A,D),A}function xu(D,A){const O=[];for(let W=0;W<D.length;W++)O.push(D.charAt(W)),W<A.length&&O.push(A.charAt(W));return O.join("")}function ff(D){return Xn.create("missing-app-config-values",{valueName:D})}xu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mf{constructor(A,O,W){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function Su(D){if(!D||!D.options)throw ff("App Configuration Object");if(!D.name)throw ff("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const W of A)if(!O[W])throw ff(W);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:se,installations:O,analyticsProvider:W}}_delete(){return Promise.resolve()}}function Ds(){return(Ds=(0,L.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Cn,{scope:rt}),D.swRegistration.update().catch(()=>{})}catch(A){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Ma(){return(Ma=(0,L.Z)(function*(D,A){if(!A&&!D.swRegistration&&(yield function eh(D){return Ds.apply(this,arguments)}(D)),A||!D.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");D.swRegistration=A}})).apply(this,arguments)}function wl(){return(wl=(0,L.Z)(function*(D,A){A?D.vapidKey=A:D.vapidKey||(D.vapidKey=Ut)})).apply(this,arguments)}function ka(){return ka=(0,L.Z)(function*(D,A){if(!navigator)throw Xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xn.create("permission-blocked");return yield function ia(D,A){return wl.apply(this,arguments)}(D,A?.vapidKey),yield function th(D,A){return Ma.apply(this,arguments)}(D,A?.serviceWorkerRegistration),function uf(D){return Iu.apply(this,arguments)}(D)}),ka.apply(this,arguments)}function Du(){return(Du=(0,L.Z)(function*(D,A,O){const W=function o_(D){switch(D){case yr.NOTIFICATION_CLICKED:return"notification_open";case yr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(W,{message_id:O[Mr],message_name:O[Xo],message_time:O[Wi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lo(){return Lo=(0,L.Z)(function*(D,A){const O=A.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===yr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Xd(O)):D.onMessageHandler.next(Xd(O)));const W=O.data;(function M0(D){return"object"==typeof D&&!!D&&Mr in D})(W)&&"1"===W["google.c.a.e"]&&(yield function nh(D,A,O){return Du.apply(this,arguments)}(D,O.messageType,W))}),Lo.apply(this,arguments)}const bi="@firebase/messaging",hc=D=>{const A=new mf(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Ks(D,A){return Lo.apply(this,arguments)}(A,O)),A},Mu=D=>{const A=D.getProvider("messaging").getImmediate();return{getToken:W=>function gf(D,A){return ka.apply(this,arguments)}(A,W)}};function pc(){return rh.apply(this,arguments)}function rh(){return(rh=(0,L.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ih(){(0,re._registerComponent)(new ye.wA("messaging",hc,"PUBLIC")),(0,re._registerComponent)(new ye.wA("messaging-internal",Mu,"PRIVATE")),(0,re.registerVersion)(bi,"0.12.1"),(0,re.registerVersion)(bi,"0.12.1","esm2017")}();const sh="analytics",c_="firebase_id",oh="origin",Pa=6e4,mc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ah="https://www.googletagmanager.com/gtag/js",cr=new Se.Yd("@firebase/analytics");function bl(D){return Promise.all(D.map(A=>A.catch(O=>O)))}function Cl(){return(Cl=(0,L.Z)(function*(D,A,O,W,se,we){const We=W[se];try{if(We)yield A[We];else{const Ct=(yield bl(O)).find(wt=>wt.measurementId===se);Ct&&(yield A[Ct.appId])}}catch(gt){cr.error(gt)}D("config",se,we)})).apply(this,arguments)}function Hr(){return(Hr=(0,L.Z)(function*(D,A,O,W,se){try{let we=[];if(se&&se.send_to){let We=se.send_to;Array.isArray(We)||(We=[We]);const gt=yield bl(O);for(const Ct of We){const wt=gt.find(Bt=>Bt.measurementId===Ct),sn=wt&&A[wt.appId];if(!sn){we=[];break}we.push(sn)}}0===we.length&&(we=Object.values(A)),yield Promise.all(we),D("event",W,se||{})}catch(we){cr.error(we)}})).apply(this,arguments)}const Fi=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),br=30,uo=new class _c{constructor(A={},O=1e3){this.throttleMetadata=A,this.intervalMillis=O}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,O){this.throttleMetadata[A]=O}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Vi(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function hi(){return(hi=(0,L.Z)(function*(D){var A;const{appId:O,apiKey:W}=D,se={method:"GET",headers:Vi(W)},we=mc.replace("{app-id}",O),We=yield fetch(we,se);if(200!==We.status&&304!==We.status){let gt="";try{const Ct=yield We.json();null!==(A=Ct.error)&&void 0!==A&&A.message&&(gt=Ct.error.message)}catch{}throw Fi.create("config-fetch-failed",{httpStatus:We.status,responseMessage:gt})}return We.json()})).apply(this,arguments)}function is(){return(is=(0,L.Z)(function*(D,A=uo,O){const{appId:W,apiKey:se,measurementId:we}=D.options;if(!W)throw Fi.create("no-app-id");if(!se){if(we)return{measurementId:we,appId:W};throw Fi.create("no-api-key")}const We=A.getThrottleMetadata(W)||{backoffCount:0,throttleEndTimeMillis:Date.now()},gt=new Tl;return setTimeout((0,L.Z)(function*(){gt.abort()}),void 0!==O?O:Pa),Pu({appId:W,apiKey:se,measurementId:we},We,gt,A)})).apply(this,arguments)}function Pu(D,A,O){return Il.apply(this,arguments)}function Il(){return Il=(0,L.Z)(function*(D,{throttleEndTimeMillis:A,backoffCount:O},W,se=uo){var we;const{appId:We,measurementId:gt}=D;try{yield function Ru(D,A){return new Promise((O,W)=>{const se=Math.max(A-Date.now(),0),we=setTimeout(O,se);D.addEventListener(()=>{clearTimeout(we),W(Fi.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(W,A)}catch(Ct){if(gt)return cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${Ct?.message}]`),{appId:We,measurementId:gt};throw Ct}try{const Ct=yield function wf(D){return hi.apply(this,arguments)}(D);return se.deleteThrottleMetadata(We),Ct}catch(Ct){const wt=Ct;if(!function yc(D){if(!(D instanceof he.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}(wt)){if(se.deleteThrottleMetadata(We),gt)return cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${wt?.message}]`),{appId:We,measurementId:gt};throw Ct}const sn=503===Number(null===(we=wt?.customData)||void 0===we?void 0:we.httpStatus)?(0,he.$s)(O,se.intervalMillis,br):(0,he.$s)(O,se.intervalMillis),Bt={throttleEndTimeMillis:Date.now()+sn,backoffCount:O+1};return se.setThrottleMetadata(We,Bt),cr.debug(`Calling attemptFetch again in ${sn} millis`),Pu(D,Bt,W,se)}}),Il.apply(this,arguments)}class Tl{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Ou,Nu;function Oa(){return(Oa=(0,L.Z)(function*(D,A,O,W,se){if(se&&se.global)D("event",O,W);else{const we=yield A;D("event",O,Object.assign(Object.assign({},W),{send_to:we}))}})).apply(this,arguments)}function rn(){return(rn=(0,L.Z)(function*(){if(!(0,he.hl)())return cr.warn(Fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(D){return cr.warn(Fi.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function bc(){return bc=(0,L.Z)(function*(D,A,O,W,se,we,We){var gt;const Ct=function bf(D){return is.apply(this,arguments)}(D);Ct.then(Ai=>{O[Ai.measurementId]=Ai.appId,D.options.measurementId&&Ai.measurementId!==D.options.measurementId&&cr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Ai.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ai=>cr.error(Ai)),A.push(Ct);const wt=function qe(){return rn.apply(this,arguments)}().then(Ai=>{if(Ai)return W.getId()}),[sn,Bt]=yield Promise.all([Ct,wt]);(function Mn(D){const A=window.document.getElementsByTagName("script");for(const O of Object.values(A))if(O.src&&O.src.includes(ah)&&O.src.includes(D))return O;return null})(we)||function lh(D,A){const O=document.createElement("script");O.src=`${ah}?l=${D}&id=${A}`,O.async=!0,document.head.appendChild(O)}(we,sn.measurementId),Nu&&(se("consent","default",Nu),function If(D){Nu=D}(void 0)),se("js",new Date);const Nr=null!==(gt=We?.config)&&void 0!==gt?gt:{};return Nr[oh]="firebase",Nr.update=!0,null!=Bt&&(Nr[c_]=Bt),se("config",sn.measurementId,Nr),Ou&&(se("set",Ou),function Lu(D){Ou=D}(void 0)),sn.measurementId}),bc.apply(this,arguments)}class Bi{constructor(A){this.app=A}_delete(){return delete rs[this.app.options.appId],Promise.resolve()}}let rs={},Na=[];const zr={};let Tf,As,Vo="dataLayer",Fu=!1;function Dl(D,A,O){!function Js(){const D=[];if((0,he.ru)()&&D.push("This is a browser extension environment."),(0,he.zI)()||D.push("Cookies are not available."),D.length>0){const A=D.map((W,se)=>`(${se+1}) ${W}`).join(" "),O=Fi.create("invalid-analytics-context",{errorInfo:A});cr.warn(O.message)}}();const W=D.options.appId;if(!W)throw Fi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Fi.create("no-api-key");cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rs[W])throw Fi.create("already-exists",{id:W});if(!Fu){!function Ra(D){let A=[];Array.isArray(window[D])?A=window[D]:window[D]=A}(Vo);const{wrappedGtag:we,gtagCore:We}=function uh(D,A,O,W,se){let we=function(...We){window[W].push(arguments)};return window[se]&&"function"==typeof window[se]&&(we=window[se]),window[se]=function ch(D,A,O,W){function we(){return we=(0,L.Z)(function*(We,gt,Ct){try{"event"===We?yield function sa(D,A,O,W,se){return Hr.apply(this,arguments)}(D,A,O,gt,Ct):"config"===We?yield function ra(D,A,O,W,se,we){return Cl.apply(this,arguments)}(D,A,O,W,gt,Ct):"consent"===We?D("consent","update",Ct):D("set",gt)}catch(wt){cr.error(wt)}}),we.apply(this,arguments)}return function se(We,gt,Ct){return we.apply(this,arguments)}}(we,D,A,O),{gtagCore:we,wrappedGtag:window[se]}}(rs,Na,zr,Vo,"gtag");As=we,Tf=We,Fu=!0}return rs[W]=function hh(D,A,O,W,se,we,We){return bc.apply(this,arguments)}(D,Na,zr,A,Tf,Vo,O),new Bi(D)}function Ef(){return La.apply(this,arguments)}function La(){return(La=(0,L.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}const Ic="@firebase/analytics";!function Bu(){(0,re._registerComponent)(new ye.wA(sh,(A,{options:O})=>Dl(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,re._registerComponent)(new ye.wA("analytics-internal",function D(A){try{const O=A.getProvider(sh).getImmediate();return{logEvent:(W,se,we)=>function Cc(D,A,O,W){D=(0,he.m9)(D),function Vt(D,A,O,W,se){return Oa.apply(this,arguments)}(As,rs[D.app.options.appId],A,O,W).catch(se=>cr.error(se))}(O,W,se,we)}}catch(O){throw Fi.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,re.registerVersion)(Ic,"0.9.1"),(0,re.registerVersion)(Ic,"0.9.1","esm2017")}();var Mf=U(1954),Tc=U(2631);const ph=new class Al extends Tc.v{}(class Uu extends Mf.o{constructor(A,O){super(A,O),this.scheduler=A,this.work=O}schedule(A,O=0){return O>0?super.schedule(A,O):(this.delay=O,this.state=A,this.scheduler.flush(this),this)}execute(A,O){return O>0||this.closed?super.execute(A,O):this._execute(A,O)}requestAsyncId(A,O,W=0){return null!=W&&W>0||null==W&&this.delay>0?super.requestAsyncId(A,O,W):(A.flush(this),0)}});var Or=U(6321),os=U(9397),Un=U(3093),Pf=U(5137);const d_=new s.GfV("7.6.1"),fh="__angularfire_symbol__analyticsIsSupportedValue",Fa="__angularfire_symbol__analyticsIsSupported",Ml="__angularfire_symbol__remoteConfigIsSupportedValue",as="__angularfire_symbol__remoteConfigIsSupported",ls="__angularfire_symbol__messagingIsSupportedValue",Hn="__angularfire_symbol__messagingIsSupported";function Ec(D,A,O){if(A){if(1===A.length)return A[0];const we=A.filter(We=>We.app===O);if(1===we.length)return we[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[Fa]||(globalThis[Fa]=Ef().then(D=>globalThis[fh]=D).catch(()=>globalThis[fh]=!1)),globalThis[Hn]||(globalThis[Hn]=pc().then(D=>globalThis[ls]=D).catch(()=>globalThis[ls]=!1)),globalThis[as]||(globalThis[as]=i_().then(D=>globalThis[Ml]=D).catch(()=>globalThis[Ml]=!1));const ur=(D,A)=>{const O=A?[A]:(0,G.C6)(),W=[];return O.forEach(se=>{se.container.getProvider(D).instances.forEach(We=>{W.includes(We)||W.push(We)})}),W};function dr(){}class gh{constructor(A,O=ph){this.zone=A,this.delegate=O}now(){return this.delegate.now()}schedule(A,O,W){const se=this.zone;return this.delegate.schedule(function(We){se.runGuarded(()=>{A.apply(this,[We])})},O,W)}}class Ms{constructor(A){this.zone=A,this.task=null}call(A,O){const W=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dr,{},dr,dr)),O.pipe((0,os.b)({next:W,complete:W,error:W})).subscribe(A).add(W)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oa=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new gh(Zone.current)),this.insideAngular=O.run(()=>new gh(Zone.current,Or.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(s.LFG(s.R0b))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Bo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Hu(D){return D.pipe((0,Un.Q)(Bo().outsideAngular))}function xc(D){return Bo(),function p_(D){return function(O){return(O=O.lift(new Ms(D.ngZone))).pipe((0,Pf.R)(D.outsideAngular),(0,Un.Q)(D.insideAngular))}}(Bo())(D)}},2004:(mt,De,U)=>{"use strict";U.d(De,{$:()=>co,A:()=>Q,B:()=>Le,G:()=>Yo,H:()=>ts,J:()=>$s,L:()=>J,M:()=>gl,N:()=>$n,P:()=>Or,Q:()=>Mr,R:()=>Df,T:()=>Xo,U:()=>Ut,V:()=>yr,W:()=>kr,X:()=>wi,Y:()=>ea,Z:()=>Da,_:()=>r_,a:()=>gc,a0:()=>uf,a1:()=>df,a2:()=>s_,a3:()=>hf,a4:()=>di,a5:()=>S0,a6:()=>D0,a7:()=>A0,a8:()=>M0,a9:()=>xu,aA:()=>Y,aB:()=>Ct,aC:()=>Hu,aD:()=>Xs,aE:()=>Bn,aI:()=>Vi,aL:()=>Ys,aa:()=>eh,ab:()=>th,ac:()=>ia,af:()=>nh,ag:()=>o_,ah:()=>Ks,ak:()=>No,al:()=>fc,an:()=>ah,ao:()=>Cl,ap:()=>Re,aq:()=>bt,ar:()=>lt,as:()=>st,at:()=>y_,au:()=>jr,av:()=>Rn,aw:()=>ce,ax:()=>oe,ay:()=>Ai,az:()=>_t,b:()=>Fi,c:()=>ls,d:()=>oi,e:()=>mh,f:()=>p_,g:()=>W,h:()=>D,i:()=>rn,j:()=>We,k:()=>Bf,l:()=>Vu,m:()=>v_,o:()=>Me,r:()=>Mf,s:()=>k0,u:()=>ph});var s=U(5861),G=U(9058),L=U(4303),re=U(7879),he=U(7582),ye=U(4537);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Le=function ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new re.Yd("@firebase/auth");function at(I,...y){ze.logLevel<=re.in.ERROR&&ze.error(`Auth (${L.SDK_VERSION}): ${I}`,...y)}function st(I,...y){throw Pe(I,...y)}function ce(I,...y){return Pe(I,...y)}function Ve(I,y,v){const E=Object.assign(Object.assign({},nt()),{[y]:v});return new G.LL("auth","Firebase",E).create(y,{appName:I.name})}function ge(I,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&st(I,"argument-error"),Ve(I,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(I,...y){if("string"!=typeof I){const v=y[0],E=[...y.slice(1)];return E[0]&&(E[0].appName=I.name),I._errorFactory.create(v,...E)}return Fe.create(I,...y)}function oe(I,y,...v){if(!I)throw Pe(y,...v)}function pe(I){const y="INTERNAL ASSERTION FAILED: "+I;throw at(y),new Error(y)}function Re(I,y){I||pe(y)}const Je=new Map;function _t(I){Re(I instanceof Function,"Expected a class definition");let y=Je.get(I);return y?(Re(y instanceof I,"Instance stored in cache mismatched with class"),y):(y=new I,Je.set(I,y),y)}function dn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function bn(){return"http:"===qn()||"https:"===qn()}function qn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class be{constructor(y,v){this.shortDelay=y,this.longDelay=v,Re(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Cs(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bn()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xe(I,y){Re(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class Ee{static initialize(y,v,E){this.fetchImpl=y,v&&(this.headersImpl=v),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},X=new be(3e4,6e4);function de(I,y){return I.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:I.tenantId}):y}function fe(I,y,v,E){return At.apply(this,arguments)}function At(){return(At=(0,s.Z)(function*(I,y,v,E,P={}){return je(I,P,(0,s.Z)(function*(){let H={},le={};E&&("GET"===y?le=E:H={body:JSON.stringify(E)});const He=(0,G.xO)(Object.assign({key:I.config.apiKey},le)).slice(1),ht=yield I._getAdditionalHeaders();return ht["Content-Type"]="application/json",I.languageCode&&(ht["X-Firebase-Locale"]=I.languageCode),Ee.fetch()(hn(I,I.config.apiHost,v,He),Object.assign({method:y,headers:ht,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function je(I,y,v){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(I,y,v){I._canInitEmulator=!1;const E=Object.assign(Object.assign({},S),y);try{const P=new Fn(I),H=yield Promise.race([v(),P.promise]);P.clearNetworkTimeout();const le=yield H.json();if("needConfirmation"in le)throw Kt(I,"account-exists-with-different-credential",le);if(H.ok&&!("errorMessage"in le))return le;{const He=H.ok?le.errorMessage:le.error.message,[ht,Dt]=He.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ht)throw Kt(I,"credential-already-in-use",le);if("EMAIL_EXISTS"===ht)throw Kt(I,"email-already-in-use",le);if("USER_DISABLED"===ht)throw Kt(I,"user-disabled",le);const Xt=E[ht]||ht.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw Ve(I,Xt,Dt);st(I,Xt)}}catch(P){if(P instanceof G.ZR)throw P;st(I,"network-request-failed")}})).apply(this,arguments)}function Xe(I,y,v,E){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(I,y,v,E,P={}){const H=yield fe(I,y,v,E,P);return"mfaPendingCredential"in H&&st(I,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function hn(I,y,v,E){const P=`${y}${v}?${E}`;return I.config.emulator?xe(I.config,P):`${I.config.apiScheme}://${P}`}class Fn{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,E)=>{this.timer=setTimeout(()=>E(ce(this.auth,"network-request-failed")),X.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kt(I,y,v){const E={appName:I.name};v.email&&(E.email=v.email),v.phoneNumber&&(E.phoneNumber=v.phoneNumber);const P=ce(I,y,E);return P.customData._tokenResponse=v,P}function Zi(){return(Zi=(0,s.Z)(function*(I,y){return fe(I,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(I,y){return fe(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function yi(){return(yi=(0,s.Z)(function*(I,y){return fe(I,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function or(I){if(I)try{const y=new Date(Number(I));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function Zt(){return(Zt=(0,s.Z)(function*(I,y=!1){const v=(0,G.m9)(I),E=yield v.getIdToken(y),P=Dr(E);oe(P&&P.exp&&P.auth_time&&P.iat,v.auth,"internal-error");const H="object"==typeof P.firebase?P.firebase:void 0,le=H?.sign_in_provider;return{claims:P,token:E,authTime:or(Jn(P.auth_time)),issuedAtTime:or(Jn(P.iat)),expirationTime:or(Jn(P.exp)),signInProvider:le||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function Jn(I){return 1e3*Number(I)}function Dr(I){const[y,v,E]=I.split(".");if(void 0===y||void 0===v||void 0===E)return at("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,G.tV)(v);return P?JSON.parse(P):(at("Failed to decode base64 JWT payload"),null)}catch(P){return at("Caught error parsing JWT payload as JSON",P?.toString()),null}}function Lt(I,y){return ci.apply(this,arguments)}function ci(){return(ci=(0,s.Z)(function*(I,y,v=!1){if(v)return y;try{return yield y}catch(E){throw E instanceof G.ZR&&function Jr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(E)&&I.auth.currentUser===I&&(yield I.auth.signOut()),E}})).apply(this,arguments)}class Dn{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const P=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const E=this.getInterval(y);this.timerId=setTimeout((0,s.Z)(function*(){yield v.iteration()}),E)}iteration(){var y=this;return(0,s.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&y.schedule(!0))}y.schedule()})()}}class Is{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=or(this.lastLoginAt),this.creationTime=or(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(I){return Vn.apply(this,arguments)}function Vn(){return Vn=(0,s.Z)(function*(I){var y;const v=I.auth,E=yield I.getIdToken(),P=yield Lt(I,function ri(I,y){return yi.apply(this,arguments)}(v,{idToken:E}));oe(P?.users.length,v,"internal-error");const H=P.users[0];I._notifyReloadListener(H);const le=null!==(y=H.providerUserInfo)&&void 0!==y&&y.length?function lr(I){return I.map(y=>{var{providerId:v}=y,E=(0,he._T)(y,["providerId"]);return{providerId:v,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(H.providerUserInfo):[],He=function es(I,y){return[...I.filter(E=>!y.some(P=>P.providerId===E.providerId)),...y]}(I.providerData,le),Xt=!!I.isAnonymous&&!(I.email&&H.passwordHash||He?.length),ei={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:He,metadata:new Is(H.createdAt,H.lastLoginAt),isAnonymous:Xt};Object.assign(I,ei)}),Vn.apply(this,arguments)}function Xr(){return(Xr=(0,s.Z)(function*(I){const y=(0,G.m9)(I);yield tn(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Be(){return(Be=(0,s.Z)(function*(I,y){const v=yield je(I,{},(0,s.Z)(function*(){const E=(0,G.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:P,apiKey:H}=I.config,le=hn(I,P,"/v1/token",`key=${H}`),He=yield I._getAdditionalHeaders();return He["Content-Type"]="application/x-www-form-urlencoded",Ee.fetch()(le,{method:"POST",headers:He,body:E})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){oe(y.idToken,"internal-error"),oe(typeof y.idToken<"u","internal-error"),oe(typeof y.refreshToken<"u","internal-error");const v="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function ar(I){const y=Dr(I);return oe(y,"internal-error"),oe(typeof y.exp<"u","internal-error"),oe(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var E=this;return(0,s.Z)(function*(){return oe(!E.accessToken||E.refreshToken,y,"user-token-expired"),v||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(y,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var E=this;return(0,s.Z)(function*(){const{accessToken:P,refreshToken:H,expiresIn:le}=yield function ft(I,y){return Be.apply(this,arguments)}(y,v);E.updateTokensAndExpiration(P,H,Number(le))})()}updateTokensAndExpiration(y,v,E){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(y,v){const{refreshToken:E,accessToken:P,expirationTime:H}=v,le=new dt;return E&&(oe("string"==typeof E,"internal-error",{appName:y}),le.refreshToken=E),P&&(oe("string"==typeof P,"internal-error",{appName:y}),le.accessToken=P),H&&(oe("number"==typeof H,"internal-error",{appName:y}),le.expirationTime=H),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new dt,this.toJSON())}_performRefresh(){return pe("not implemented")}}function xt(I,y){oe("string"==typeof I||typeof I>"u","internal-error",{appName:y})}class Gt{constructor(y){var{uid:v,auth:E,stsTokenManager:P}=y,H=(0,he._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=E,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new Is(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,s.Z)(function*(){const E=yield Lt(v,v.stsTokenManager.getToken(v.auth,y));return oe(E,v.auth,"internal-error"),v.accessToken!==E&&(v.accessToken=E,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),E})()}getIdTokenResult(y){return function qt(I){return Zt.apply(this,arguments)}(this,y)}reload(){return function Ar(I){return Xr.apply(this,arguments)}(this)}_assign(y){this!==y&&(oe(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new Gt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var E=this;return(0,s.Z)(function*(){let P=!1;y.idToken&&y.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(y),P=!0),v&&(yield tn(E)),yield E.auth._persistUserIfCurrent(E),P&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var y=this;return(0,s.Z)(function*(){const v=yield y.getIdToken();return yield Lt(y,function li(I,y){return Zi.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var E,P,H,le,He,ht,Dt,Xt;const ei=null!==(E=v.displayName)&&void 0!==E?E:void 0,Lr=null!==(P=v.email)&&void 0!==P?P:void 0,cs=null!==(H=v.phoneNumber)&&void 0!==H?H:void 0,yh=null!==(le=v.photoURL)&&void 0!==le?le:void 0,Nl=null!==(He=v.tenantId)&&void 0!==He?He:void 0,b_=null!==(ht=v._redirectEventId)&&void 0!==ht?ht:void 0,$u=null!==(Dt=v.createdAt)&&void 0!==Dt?Dt:void 0,C_=null!==(Xt=v.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:Fr,emailVerified:Wu,isAnonymous:vh,providerData:zf,stsTokenManager:V0}=v;oe(Fr&&V0,y,"internal-error");const TI=dt.fromJSON(this.name,V0);oe("string"==typeof Fr,y,"internal-error"),xt(ei,y.name),xt(Lr,y.name),oe("boolean"==typeof Wu,y,"internal-error"),oe("boolean"==typeof vh,y,"internal-error"),xt(cs,y.name),xt(yh,y.name),xt(Nl,y.name),xt(b_,y.name),xt($u,y.name),xt(C_,y.name);const Ll=new Gt({uid:Fr,auth:y,email:Lr,emailVerified:Wu,displayName:ei,isAnonymous:vh,photoURL:yh,phoneNumber:cs,tenantId:Nl,stsTokenManager:TI,createdAt:$u,lastLoginAt:C_});return zf&&Array.isArray(zf)&&(Ll.providerData=zf.map(wh=>Object.assign({},wh))),b_&&(Ll._redirectEventId=b_),Ll}static _fromIdTokenResponse(y,v,E=!1){return(0,s.Z)(function*(){const P=new dt;P.updateFromServerResponse(v);const H=new Gt({uid:v.localId,auth:y,stsTokenManager:P,isAnonymous:E});return yield tn(H),H})()}}const J=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(v,E){var P=this;return(0,s.Z)(function*(){P.storage[v]=E})()}_get(v){var E=this;return(0,s.Z)(function*(){const P=E.storage[v];return void 0===P?null:P})()}_remove(v){var E=this;return(0,s.Z)(function*(){delete E.storage[v]})()}_addListener(v,E){}_removeListener(v,E){}}return I.type="NONE",I})();function Y(I,y,v){return`firebase:${I}:${y}:${v}`}class ie{constructor(y,v,E){this.persistence=y,this.auth=v,this.userKey=E;const{config:P,name:H}=this.auth;this.fullUserKey=Y(this.userKey,P.apiKey,H),this.fullPersistenceKey=Y("persistence",P.apiKey,H),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,s.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?Gt._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,s.Z)(function*(){if(v.persistence===y)return;const E=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,E?v.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,E="authUser"){return(0,s.Z)(function*(){if(!v.length)return new ie(_t(J),y,E);const P=(yield Promise.all(v.map(function(){var Dt=(0,s.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let H=P[0]||_t(J);const le=Y(E,y.config.apiKey,y.name);let He=null;for(const Dt of v)try{const Xt=yield Dt._get(le);if(Xt){const ei=Gt._fromJSON(y,Xt);Dt!==H&&(He=ei),H=Dt;break}}catch{}const ht=P.filter(Dt=>Dt._shouldAllowMigration);return H._shouldAllowMigration&&ht.length?(H=ht[0],He&&(yield H._set(le,He.toJSON())),yield Promise.all(v.map(function(){var Dt=(0,s.Z)(function*(Xt){if(Xt!==H)try{yield Xt._remove(le)}catch{}});return function(Xt){return Dt.apply(this,arguments)}}())),new ie(H,y,E)):new ie(H,y,E)})()}}function $(I){const y=I.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Ye(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(F(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Ft(y))return"Blackberry";if(vt(y))return"Webos";if(q(y))return"Safari";if((y.includes("chrome/")||me(y))&&!y.includes("edge/"))return"Chrome";if(lt(y))return"Android";{const E=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function F(I=(0,G.z$)()){return/firefox\//i.test(I)}function q(I=(0,G.z$)()){const y=I.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function me(I=(0,G.z$)()){return/crios\//i.test(I)}function Ye(I=(0,G.z$)()){return/iemobile/i.test(I)}function lt(I=(0,G.z$)()){return/android/i.test(I)}function Ft(I=(0,G.z$)()){return/blackberry/i.test(I)}function vt(I=(0,G.z$)()){return/webos/i.test(I)}function bt(I=(0,G.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Rn(I=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function qs(I=(0,G.z$)()){return bt(I)||lt(I)||vt(I)||Ft(I)||/windows phone/i.test(I)||Ye(I)}function Gs(I,y=[]){let v;switch(I){case"Browser":v=$((0,G.z$)());break;case"Worker":v=`${$((0,G.z$)())}-${I}`;break;default:v=I}const E=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${L.SDK_VERSION}/${E}`}class Do{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,v){const E=H=>new Promise((le,He)=>{try{le(y(H))}catch(ht){He(ht)}});E.onAbort=v,this.queue.push(E);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(y){var v=this;return(0,s.Z)(function*(){if(v.auth.currentUser===y)return;const E=[];try{for(const P of v.queue)yield P(y),P.onAbort&&E.push(P.onAbort)}catch(P){E.reverse();for(const H of E)try{H()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class ao{constructor(y,v,E){this.app=y,this.heartbeatServiceProvider=v,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fn(this),this.idTokenSubscription=new fn(this),this.beforeStateQueue=new Do(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(y,v){var E=this;return v&&(this._popupRedirectResolver=_t(v)),this._initializationPromise=this.queue((0,s.Z)(function*(){var P,H;if(!E._deleted&&(E.persistenceManager=yield ie.create(E,y),!E._deleted)){if(null!==(P=E._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(v),E.lastNotifiedUid=(null===(H=E.currentUser)||void 0===H?void 0:H.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,s.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v,!0)}})()}initializeCurrentUser(y){var v=this;return(0,s.Z)(function*(){var E;const P=yield v.assertedPersistence.getCurrentUser();let H=P,le=!1;if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const He=null===(E=v.redirectUser)||void 0===E?void 0:E._redirectEventId,ht=H?._redirectEventId,Dt=yield v.tryRedirectSignIn(y);(!He||He===ht)&&Dt?.user&&(H=Dt.user,le=!0)}if(!H)return v.directlySetCurrentUser(null);if(!H._redirectEventId){if(le)try{yield v.beforeStateQueue.runMiddleware(H)}catch(He){H=P,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(He))}return H?v.reloadAndSetCurrentUserOrClear(H):v.directlySetCurrentUser(null)}return oe(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===H._redirectEventId?v.directlySetCurrentUser(H):v.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(y){var v=this;return(0,s.Z)(function*(){let E=null;try{E=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch{yield v._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,s.Z)(function*(){try{yield tn(y)}catch(E){if("auth/network-request-failed"!==E?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function ve(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var y=this;return(0,s.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,s.Z)(function*(){const E=y?(0,G.m9)(y):null;return E&&oe(E.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(E&&E._clone(v))})()}_updateCurrentUser(y,v=!1){var E=this;return(0,s.Z)(function*(){if(!E._deleted)return y&&oe(E.tenantId===y.tenantId,E,"tenant-id-mismatch"),v||(yield E.beforeStateQueue.runMiddleware(y)),E.queue((0,s.Z)(function*(){yield E.directlySetCurrentUser(y),E.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,s.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var v=this;return this.queue((0,s.Z)(function*(){yield v.assertedPersistence.setPersistence(_t(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new G.LL("auth","Firebase",y())}onAuthStateChanged(y,v,E){return this.registerStateListener(this.authStateSubscription,y,v,E)}beforeAuthStateChanged(y,v){return this.beforeStateQueue.pushCallback(y,v)}onIdTokenChanged(y,v,E){return this.registerStateListener(this.idTokenSubscription,y,v,E)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var E=this;return(0,s.Z)(function*(){const P=yield E.getOrInitRedirectPersistenceManager(v);return null===y?P.removeCurrentUser():P.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,s.Z)(function*(){if(!v.redirectPersistenceManager){const E=y&&_t(y)||v._popupRedirectResolver;oe(E,v,"argument-error"),v.redirectPersistenceManager=yield ie.create(v,[_t(E._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,s.Z)(function*(){var E,P;return v._isInitialized&&(yield v.queue((0,s.Z)(function*(){}))),(null===(E=v._currentUser)||void 0===E?void 0:E._redirectEventId)===y?v._currentUser:(null===(P=v.redirectUser)||void 0===P?void 0:P._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,s.Z)(function*(){if(y===v.currentUser)return v.queue((0,s.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,E,P){if(this._deleted)return()=>{};const H="function"==typeof v?v:v.next.bind(v),le=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(le,this,"internal-error"),le.then(()=>H(this.currentUser)),"function"==typeof v?y.addObserver(v,E,P):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,s.Z)(function*(){v.currentUser&&v.currentUser!==y&&v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh(),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Gs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,s.Z)(function*(){var v;const E={"X-Client-Version":y.clientVersion};y.app.options.appId&&(E["X-Firebase-gmpid"]=y.app.options.appId);const P=yield null===(v=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return P&&(E["X-Firebase-Client"]=P),E})()}}function Bn(I){return(0,G.m9)(I)}class fn{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,G.ne)(v=>this.observer=v)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yo(I,y,v){const E=Bn(I);oe(E._canInitEmulator,E,"emulator-config-failed"),oe(/^https?:\/\//.test(y),E,"invalid-emulator-scheme");const P=!!v?.disableWarnings,H=Ta(y),{host:le,port:He}=function Ea(I){const y=Ta(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(y.length));if(!v)return{host:"",port:null};const E=v[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(E);if(P){const H=P[1];return{host:H,port:oc(E.substr(H.length+1))}}{const[H,le]=E.split(":");return{host:H,port:oc(le)}}}(y);E.config.emulator={url:`${H}//${le}${null===He?"":`:${He}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:le,port:He,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function Ao(){function I(){const y=document.createElement("p"),v=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Ta(I){const y=I.indexOf(":");return y<0?"":I.substr(0,y+1)}function oc(I){if(!I)return null;const y=Number(I);return isNaN(y)?null:y}class ts{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return pe("not implemented")}_getIdTokenResponse(y){return pe("not implemented")}_linkToIdToken(y,v){return pe("not implemented")}_getReauthenticationResolver(y){return pe("not implemented")}}function ml(I,y){return Li.apply(this,arguments)}function Li(){return(Li=(0,s.Z)(function*(I,y){return fe(I,"POST","/v1/accounts:resetPassword",de(I,y))})).apply(this,arguments)}function Pn(I,y){return ac.apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(I,y){return fe(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Mo(){return(Mo=(0,s.Z)(function*(I,y){return fe(I,"POST","/v1/accounts:update",de(I,y))})).apply(this,arguments)}function Ko(){return(Ko=(0,s.Z)(function*(I,y){return Xe(I,"POST","/v1/accounts:signInWithPassword",de(I,y))})).apply(this,arguments)}function Wd(I,y){return An.apply(this,arguments)}function An(){return(An=(0,s.Z)(function*(I,y){return fe(I,"POST","/v1/accounts:sendOobCode",de(I,y))})).apply(this,arguments)}function lc(){return(lc=(0,s.Z)(function*(I,y){return Wd(I,y)})).apply(this,arguments)}function Qo(){return(Qo=(0,s.Z)(function*(I,y){return Wd(I,y)})).apply(this,arguments)}function Yd(){return(Yd=(0,s.Z)(function*(I,y){return Wd(I,y)})).apply(this,arguments)}function yu(){return(yu=(0,s.Z)(function*(I,y){return Wd(I,y)})).apply(this,arguments)}function Gn(){return(Gn=(0,s.Z)(function*(I,y){return Xe(I,"POST","/v1/accounts:signInWithEmailLink",de(I,y))})).apply(this,arguments)}function Kd(){return(Kd=(0,s.Z)(function*(I,y){return Xe(I,"POST","/v1/accounts:signInWithEmailLink",de(I,y))})).apply(this,arguments)}class gr extends ts{constructor(y,v,E,P=null){super("password",E),this._email=y,this._password=v,this._tenantId=P}static _fromEmailAndPassword(y,v){return new gr(y,v,"password")}static _fromEmailAndCode(y,v,E=null){return new gr(y,v,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,s.Z)(function*(){switch(v.signInMethod){case"password":return function ns(I,y){return Ko.apply(this,arguments)}(y,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function cc(I,y){return Gn.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:st(y,"internal-error")}})()}_linkToIdToken(y,v){var E=this;return(0,s.Z)(function*(){switch(E.signInMethod){case"password":return Pn(y,{idToken:v,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Zn(I,y){return Kd.apply(this,arguments)}(y,{idToken:v,email:E._email,oobCode:E._password});default:st(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Zs(I,y){return vu.apply(this,arguments)}function vu(){return(vu=(0,s.Z)(function*(I,y){return Xe(I,"POST","/v1/accounts:signInWithIdp",de(I,y))})).apply(this,arguments)}class $s extends ts{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new $s(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):st("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:E,signInMethod:P}=v,H=(0,he._T)(v,["providerId","signInMethod"]);if(!E||!P)return null;const le=new $s(E,P);return le.idToken=H.idToken||void 0,le.accessToken=H.accessToken||void 0,le.secret=H.secret,le.nonce=H.nonce,le.pendingToken=H.pendingToken||null,le}_getIdTokenResponse(y){return Zs(y,this.buildRequest())}_linkToIdToken(y,v){const E=this.buildRequest();return E.idToken=v,Zs(y,E)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Zs(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,G.xO)(v)}return y}}function bu(){return(bu=(0,s.Z)(function*(I,y){return fe(I,"POST","/v1/accounts:sendVerificationCode",de(I,y))})).apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(I,y){return Xe(I,"POST","/v1/accounts:signInWithPhoneNumber",de(I,y))})).apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(I,y){const v=yield Xe(I,"POST","/v1/accounts:signInWithPhoneNumber",de(I,y));if(v.temporaryProof)throw Kt(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const $i={USER_NOT_FOUND:"user-not-found"};function Po(){return(Po=(0,s.Z)(function*(I,y){return Xe(I,"POST","/v1/accounts:signInWithPhoneNumber",de(I,Object.assign(Object.assign({},y),{operation:"REAUTH"})),$i)})).apply(this,arguments)}class Di extends ts{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new Di({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new Di({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function Qd(I,y){return Jo.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function ko(I,y){return ln.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function _r(I,y){return Po.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:E,verificationCode:P}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:E,code:P}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:E,phoneNumber:P,temporaryProof:H}=y;return E||v||P||H?new Di({verificationId:v,verificationCode:E,phoneNumber:P,temporaryProof:H}):null}}class Ws{constructor(y){var v,E,P,H,le,He;const ht=(0,G.zd)((0,G.pd)(y)),Dt=null!==(v=ht.apiKey)&&void 0!==v?v:null,Xt=null!==(E=ht.oobCode)&&void 0!==E?E:null,ei=function Jd(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=ht.mode)&&void 0!==P?P:null);oe(Dt&&Xt&&ei,"argument-error"),this.apiKey=Dt,this.operation=ei,this.code=Xt,this.continueUrl=null!==(H=ht.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(le=ht.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(He=ht.tenantId)&&void 0!==He?He:null}static parseLink(y){const v=function cf(I){const y=(0,G.zd)((0,G.pd)(I)).link,v=y?(0,G.zd)((0,G.pd)(y)).deep_link_id:null,E=(0,G.zd)((0,G.pd)(I)).deep_link_id;return(E?(0,G.zd)((0,G.pd)(E)).link:null)||E||v||y||I}(y);try{return new Ws(v)}catch{return null}}}let gl=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,E){return gr._fromEmailAndPassword(v,E)}static credentialWithLink(v,E){const P=Ws.parseLink(E);return oe(P,"argument-error"),gr._fromEmailAndCode(v,P.code,P.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Cn{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class rt extends Cn{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Ut extends rt{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return oe("providerId"in v&&"signInMethod"in v,"argument-error"),$s._fromParams(v)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return oe(y.idToken||y.accessToken,"argument-error"),$s._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Ut.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Ut.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:E,oauthTokenSecret:P,pendingToken:H,nonce:le,providerId:He}=y;if(!E&&!P&&!v&&!H||!He)return null;try{return new Ut(He)._credential({idToken:v,accessToken:E,nonce:le,pendingToken:H})}catch{return null}}}let $n=(()=>{class I extends rt{constructor(){super("facebook.com")}static credential(v){return $s._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Mr=(()=>{class I extends rt{constructor(){super("google.com"),this.addScope("profile")}static credential(v,E){return $s._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:E})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:E,oauthAccessToken:P}=v;if(!E&&!P)return null;try{return I.credential(E,P)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Xo=(()=>{class I extends rt{constructor(){super("github.com")}static credential(v){return $s._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ys extends ts{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return Zs(y,this.buildRequest())}_linkToIdToken(y,v){const E=this.buildRequest();return E.idToken=v,Zs(y,E)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Zs(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:E,signInMethod:P,pendingToken:H}=v;return E&&P&&H&&E===P?new Ys(E,H):null}static _create(y,v){return new Ys(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yr extends Cn{constructor(y){oe(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return yr.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return yr.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const v=Ys.fromJSON(y);return oe(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:v,providerId:E}=y;if(!v||!E)return null;try{return Ys._create(E,v)}catch{return null}}}let kr=(()=>{class I extends rt{constructor(){super("twitter.com")}static credential(v,E){return $s._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:E})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:E,oauthTokenSecret:P}=v;if(!E||!P)return null;try{return I.credential(E,P)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function $t(I,y){return lo.apply(this,arguments)}function lo(){return(lo=(0,s.Z)(function*(I,y){return Xe(I,"POST","/v1/accounts:signUp",de(I,y))})).apply(this,arguments)}class si{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,E,P=!1){return(0,s.Z)(function*(){const H=yield Gt._fromIdTokenResponse(y,E,P),le=Ts(E);return new si({user:H,providerId:le,_tokenResponse:E,operationType:v})})()}static _forOperation(y,v,E){return(0,s.Z)(function*(){yield y._updateTokensIfNecessary(E,!0);const P=Ts(E);return new si({user:y,providerId:P,_tokenResponse:E,operationType:v})})()}}function Ts(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function wi(I){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,s.Z)(function*(I){var y;const v=Bn(I);if(yield v._initializationPromise,null!==(y=v.currentUser)&&void 0!==y&&y.isAnonymous)return new si({user:v.currentUser,providerId:null,operationType:"signIn"});const E=yield $t(v,{returnSecureToken:!0}),P=yield si._fromIdTokenResponse(v,"signIn",E,!0);return yield v._updateCurrentUser(P.user),P})).apply(this,arguments)}class Oo extends G.ZR{constructor(y,v,E,P){var H;super(v.code,v.message),this.operationType=E,this.user=P,Object.setPrototypeOf(this,Oo.prototype),this.customData={appName:y.name,tenantId:null!==(H=y.tenantId)&&void 0!==H?H:void 0,_serverResponse:v.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(y,v,E,P){return new Oo(y,v,E,P)}}function Es(I,y,v,E){return("reauthenticate"===y?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?Oo._fromErrorAndOperation(I,H,y,E):H})}function xa(I){return new Set(I.map(({providerId:y})=>y).filter(y=>!!y))}function No(I,y){return xs.apply(this,arguments)}function xs(){return xs=(0,s.Z)(function*(I,y){const v=(0,G.m9)(I);yield Ss(!0,v,y);const{providerUserInfo:E}=yield function Oi(I,y){return Ni.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),P=xa(E||[]);return v.providerData=v.providerData.filter(H=>P.has(H.providerId)),P.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),xs.apply(this,arguments)}function Pr(I,y){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,s.Z)(function*(I,y,v=!1){const E=yield Lt(I,y._linkToIdToken(I.auth,yield I.getIdToken()),v);return si._forOperation(I,"link",E)})).apply(this,arguments)}function Ss(I,y,v){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,s.Z)(function*(I,y,v){yield tn(y);const P=!1===I?"provider-already-linked":"no-such-provider";oe(xa(y.providerData).has(v)===I,y.auth,P)})).apply(this,arguments)}function Cu(I,y){return _l.apply(this,arguments)}function _l(){return(_l=(0,s.Z)(function*(I,y,v=!1){const{auth:E}=I,P="reauthenticate";try{const H=yield Lt(I,Es(E,P,y,I),v);oe(H.idToken,E,"internal-error");const le=Dr(H.idToken);oe(le,E,"internal-error");const{sub:He}=le;return oe(I.uid===He,E,"user-mismatch"),si._forOperation(I,P,H)}catch(H){throw"auth/user-not-found"===H?.code&&st(E,"user-mismatch"),H}})).apply(this,arguments)}function yl(I,y){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,s.Z)(function*(I,y,v=!1){const E="signIn",P=yield Es(I,E,y),H=yield si._fromIdTokenResponse(I,E,P);return v||(yield I._updateCurrentUser(H.user)),H})).apply(this,arguments)}function ea(I,y){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,s.Z)(function*(I,y){return yl(Bn(I),y)})).apply(this,arguments)}function Da(I,y){return ui.apply(this,arguments)}function ui(){return(ui=(0,s.Z)(function*(I,y){const v=(0,G.m9)(I);return yield Ss(!1,v,y.providerId),Pr(v,y)})).apply(this,arguments)}function r_(I,y){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,s.Z)(function*(I,y){return Cu((0,G.m9)(I),y)})).apply(this,arguments)}function ta(){return(ta=(0,s.Z)(function*(I,y){return Xe(I,"POST","/v1/accounts:signInWithCustomToken",de(I,y))})).apply(this,arguments)}function co(I,y){return na.apply(this,arguments)}function na(){return na=(0,s.Z)(function*(I,y){const v=Bn(I),E=yield function vr(I,y){return ta.apply(this,arguments)}(v,{token:y,returnSecureToken:!0}),P=yield si._fromIdTokenResponse(v,"signIn",E);return yield v._updateCurrentUser(P.user),P}),na.apply(this,arguments)}class wr{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?Aa._fromServerResponse(y,v):st(y,"internal-error")}}class Aa extends wr{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new Aa(v)}}function uc(I,y,v){var E;oe((null===(E=v.url)||void 0===E?void 0:E.length)>0,I,"invalid-continue-uri"),oe(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(oe(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),y.iOSBundleId=v.iOS.bundleId),v.android&&(oe(v.android.packageName.length>0,I,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function uf(I,y,v){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,s.Z)(function*(I,y,v){const E=(0,G.m9)(I),P={requestType:"PASSWORD_RESET",email:y};v&&uc(E,P,v),yield function Ur(I,y){return Qo.apply(this,arguments)}(E,P)}),Iu.apply(this,arguments)}function df(I,y,v){return vl.apply(this,arguments)}function vl(){return(vl=(0,s.Z)(function*(I,y,v){yield ml((0,G.m9)(I),{oobCode:y,newPassword:v})})).apply(this,arguments)}function s_(I,y){return dc.apply(this,arguments)}function dc(){return dc=(0,s.Z)(function*(I,y){yield function gu(I,y){return Mo.apply(this,arguments)}((0,G.m9)(I),{oobCode:y})}),dc.apply(this,arguments)}function hf(I,y){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,s.Z)(function*(I,y){const v=(0,G.m9)(I),E=yield ml(v,{oobCode:y}),P=E.requestType;switch(oe(P,v,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(E.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(E.mfaInfo,v,"internal-error");default:oe(E.email,v,"internal-error")}let H=null;return E.mfaInfo&&(H=wr._fromServerResponse(Bn(v),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:H},operation:P}})).apply(this,arguments)}function di(I,y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,s.Z)(function*(I,y){const{data:v}=yield hf((0,G.m9)(I),y);return v.email})).apply(this,arguments)}function S0(I,y,v){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,s.Z)(function*(I,y,v){const E=Bn(I),P=yield $t(E,{returnSecureToken:!0,email:y,password:v}),H=yield si._fromIdTokenResponse(E,"signIn",P);return yield E._updateCurrentUser(H.user),H})).apply(this,arguments)}function D0(I,y,v){return ea((0,G.m9)(I),gl.credential(y,v))}function A0(I,y,v){return pf.apply(this,arguments)}function pf(){return pf=(0,s.Z)(function*(I,y,v){const E=(0,G.m9)(I),P={requestType:"EMAIL_SIGNIN",email:y};oe(v.handleCodeInApp,E,"argument-error"),v&&uc(E,P,v),yield function af(I,y){return Yd.apply(this,arguments)}(E,P)}),pf.apply(this,arguments)}function M0(I,y){const v=Ws.parseLink(y);return"EMAIL_SIGNIN"===v?.operation}function xu(I,y,v){return Su.apply(this,arguments)}function Su(){return(Su=(0,s.Z)(function*(I,y,v){const E=(0,G.m9)(I),P=gl.credentialWithLink(y,v||dn());return oe(P._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),ea(E,P)})).apply(this,arguments)}function mf(){return(mf=(0,s.Z)(function*(I,y){return fe(I,"POST","/v1/accounts:createAuthUri",de(I,y))})).apply(this,arguments)}function eh(I,y){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,s.Z)(function*(I,y){const E={identifier:y,continueUri:bn()?dn():"http://localhost"},{signinMethods:P}=yield function ff(I,y){return mf.apply(this,arguments)}((0,G.m9)(I),E);return P||[]}),Ds.apply(this,arguments)}function th(I,y){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,s.Z)(function*(I,y){const v=(0,G.m9)(I),P={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};y&&uc(v.auth,P,y);const{email:H}=yield function _u(I,y){return lc.apply(this,arguments)}(v.auth,P);H!==I.email&&(yield I.reload())}),Ma.apply(this,arguments)}function ia(I,y,v){return wl.apply(this,arguments)}function wl(){return wl=(0,s.Z)(function*(I,y,v){const E=(0,G.m9)(I),H={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:y};v&&uc(E.auth,H,v);const{email:le}=yield function x0(I,y){return yu.apply(this,arguments)}(E.auth,H);le!==I.email&&(yield I.reload())}),wl.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(I,y){return fe(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function nh(I,y){return Du.apply(this,arguments)}function Du(){return Du=(0,s.Z)(function*(I,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const E=(0,G.m9)(I),H={idToken:yield E.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},le=yield Lt(E,function gf(I,y){return ka.apply(this,arguments)}(E.auth,H));E.displayName=le.displayName||null,E.photoURL=le.photoUrl||null;const He=E.providerData.find(({providerId:ht})=>"password"===ht);He&&(He.displayName=E.displayName,He.photoURL=E.photoURL),yield E._updateTokensIfNecessary(le)}),Du.apply(this,arguments)}function o_(I,y){return Lo((0,G.m9)(I),y,null)}function Ks(I,y){return Lo((0,G.m9)(I),null,y)}function Lo(I,y,v){return bi.apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(I,y,v){const{auth:E}=I,H={idToken:yield I.getIdToken(),returnSecureToken:!0};y&&(H.email=y),v&&(H.password=v);const le=yield Lt(I,Pn(E,H));yield I._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class hc{constructor(y,v,E={}){this.isNewUser=y,this.providerId=v,this.profile=E}}class Mu extends hc{constructor(y,v,E,P){super(y,v,E),this.username=P}}class ih extends hc{constructor(y,v){super(y,"facebook.com",v)}}class pc extends Mu{constructor(y,v){super(y,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class rh extends hc{constructor(y,v){super(y,"google.com",v)}}class a_ extends Mu{constructor(y,v,E){super(y,"twitter.com",v,E)}}function fc(I){const{user:y,_tokenResponse:v}=I;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Au(I){var y,v;if(!I)return null;const{providerId:E}=I,P=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},H=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!E&&I?.idToken){const le=null===(v=null===(y=Dr(I.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(le)return new hc(H,"anonymous"!==le&&"custom"!==le?le:null)}if(!E)return null;switch(E){case"facebook.com":return new ih(H,P);case"github.com":return new pc(H,P);case"google.com":return new rh(H,P);case"twitter.com":return new a_(H,P,I.screenName||null);case"custom":case"anonymous":return new hc(H,null);default:return new hc(H,E,P)}}(v)}class Pa{constructor(y,v,E){this.type=y,this.credential=v,this.auth=E}static _fromIdtoken(y,v){return new Pa("enroll",y,v)}static _fromMfaPendingCredential(y){return new Pa("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,E;if(y?.multiFactorSession){if(null!==(v=y.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Pa._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(E=y.multiFactorSession)&&void 0!==E&&E.idToken)return Pa._fromIdtoken(y.multiFactorSession.idToken)}return null}}class mc{constructor(y,v,E){this.session=y,this.hints=v,this.signInResolver=E}static _fromError(y,v){const E=Bn(y),P=v.customData._serverResponse,H=(P.mfaInfo||[]).map(He=>wr._fromServerResponse(E,He));oe(P.mfaPendingCredential,E,"internal-error");const le=Pa._fromMfaPendingCredential(P.mfaPendingCredential);return new mc(le,H,function(){var He=(0,s.Z)(function*(ht){const Dt=yield ht._process(E,le);delete P.mfaInfo,delete P.mfaPendingCredential;const Xt=Object.assign(Object.assign({},P),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(v.operationType){case"signIn":const ei=yield si._fromIdTokenResponse(E,v.operationType,Xt);return yield E._updateCurrentUser(ei.user),ei;case"reauthenticate":return oe(v.user,E,"internal-error"),si._forOperation(v.user,v.operationType,Xt);default:st(E,"internal-error")}});return function(ht){return He.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,s.Z)(function*(){return v.signInResolver(y)})()}}function ah(I,y){var v;const E=(0,G.m9)(I),P=y;return oe(y.customData.operationType,E,"argument-error"),oe(null===(v=P.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,E,"argument-error"),mc._fromError(E,P)}class Ra{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(E=>wr._fromServerResponse(y.auth,E)))})}static _fromUser(y){return new Ra(y)}getSession(){var y=this;return(0,s.Z)(function*(){return Pa._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,v){var E=this;return(0,s.Z)(function*(){const P=y,H=yield E.getSession(),le=yield Lt(E.user,P._process(E.user.auth,H,v));return yield E.user._updateTokensIfNecessary(le),E.user.reload()})()}unenroll(y){var v=this;return(0,s.Z)(function*(){const E="string"==typeof y?y:y.uid,P=yield v.user.getIdToken(),H=yield Lt(v.user,function lh(I,y){return fe(I,"POST","/v2/accounts/mfaEnrollment:withdraw",de(I,y))}(v.user.auth,{idToken:P,mfaEnrollmentId:E}));v.enrolledFactors=v.enrolledFactors.filter(({uid:le})=>le!==E),yield v.user._updateTokensIfNecessary(H);try{yield v.user.reload()}catch(le){if("auth/user-token-expired"!==le?.code)throw le}})()}}const ra=new WeakMap;function Cl(I){const y=(0,G.m9)(I);return ra.has(y)||ra.set(y,Ra._fromUser(y)),ra.get(y)}const sa="__sak";class Hr{constructor(y,v){this.storageRetriever=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(sa,"1"),this.storage.removeItem(sa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fi=(()=>{class I extends Hr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,E)=>this.onStorageEvent(v,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ch(){const I=(0,G.z$)();return q(I)||bt(I)}()&&function mu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qs(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const E of Object.keys(this.listeners)){const P=this.storage.getItem(E),H=this.localCache[E];P!==H&&v(E,H,P)}}onStorageEvent(v,E=!1){if(!v.key)return void this.forAllChangedKeys((He,ht,Dt)=>{this.notifyListeners(He,Dt)});const P=v.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const He=this.storage.getItem(P);if(v.newValue!==He)null!==v.newValue?this.storage.setItem(P,v.newValue):this.storage.removeItem(P);else if(this.localCache[P]===v.newValue&&!E)return}const H=()=>{const He=this.storage.getItem(P);!E&&this.localCache[P]===He||this.notifyListeners(P,He)},le=this.storage.getItem(P);!function nn(){return(0,G.w1)()&&10===document.documentMode}()||le===v.newValue||v.newValue===v.oldValue?H():setTimeout(H,10)}notifyListeners(v,E){this.localCache[v]=E;const P=this.listeners[v];if(P)for(const H of Array.from(P))H(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,E,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:E,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,E){var P=()=>super._set,H=this;return(0,s.Z)(function*(){yield P().call(H,v,E),H.localCache[v]=JSON.stringify(E)})()}_get(v){var E=()=>super._get,P=this;return(0,s.Z)(function*(){const H=yield E().call(P,v);return P.localCache[v]=JSON.stringify(H),H})()}_remove(v){var E=()=>super._remove,P=this;return(0,s.Z)(function*(){yield E().call(P,v),delete P.localCache[v]})()}}return I.type="LOCAL",I})(),gc=(()=>{class I extends Hr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,E){}_removeListener(v,E){}}return I.type="SESSION",I})();let uo=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const E=this.receivers.find(H=>H.isListeningto(v));if(E)return E;const P=new I(v);return this.receivers.push(P),P}isListeningto(v){return this.eventTarget===v}handleEvent(v){var E=this;return(0,s.Z)(function*(){const P=v,{eventId:H,eventType:le,data:He}=P.data,ht=E.handlersMap[le];if(!ht?.size)return;P.ports[0].postMessage({status:"ack",eventId:H,eventType:le});const Dt=Array.from(ht).map(function(){var ei=(0,s.Z)(function*(Lr){return Lr(P.origin,He)});return function(Lr){return ei.apply(this,arguments)}}()),Xt=yield function _c(I){return Promise.all(I.map(function(){var y=(0,s.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(E){return{fulfilled:!1,reason:E}}});return function(v){return y.apply(this,arguments)}}()))}(Dt);P.ports[0].postMessage({status:"done",eventId:H,eventType:le,response:Xt})})()}_subscribe(v,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(E)}_unsubscribe(v,E){this.handlersMap[v]&&E&&this.handlersMap[v].delete(E),(!E||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Vi(I="",y=10){let v="";for(let E=0;E<y;E++)v+=Math.floor(10*Math.random());return I+v}class wf{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,E=50){var P=this;return(0,s.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let le,He;return new Promise((ht,Dt)=>{const Xt=Vi("",20);H.port1.start();const ei=setTimeout(()=>{Dt(new Error("unsupported_event"))},E);He={messageChannel:H,onMessage(Lr){const cs=Lr;if(cs.data.eventId===Xt)switch(cs.data.status){case"ack":clearTimeout(ei),le=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),ht(cs.data.response);break;default:clearTimeout(ei),clearTimeout(le),Dt(new Error("invalid_response"))}}},P.handlers.add(He),H.port1.addEventListener("message",He.onMessage),P.target.postMessage({eventType:y,eventId:Xt,data:v},[H.port2])}).finally(()=>{He&&P.removeMessageHandler(He)})})()}}function hi(){return window}function is(){return typeof hi().WorkerGlobalScope<"u"&&"function"==typeof hi().importScripts}function Il(){return(Il=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Tl="firebaseLocalStorageDb",Vt="firebaseLocalStorage",Oa="fbase_key";class vc{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Fo(I,y){return I.transaction([Vt],y?"readwrite":"readonly").objectStore(Vt)}function El(){const I=indexedDB.open(Tl,1);return new Promise((y,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const E=I.result;try{E.createObjectStore(Vt,{keyPath:Oa})}catch(P){v(P)}}),I.addEventListener("success",(0,s.Z)(function*(){const E=I.result;E.objectStoreNames.contains(Vt)?y(E):(E.close(),yield function dh(){const I=indexedDB.deleteDatabase(Tl);return new vc(I).toPromise()}(),y(yield El()))}))})}function wc(I,y,v){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(I,y,v){const E=Fo(I,!0).put({[Oa]:y,value:v});return new vc(E).toPromise()})).apply(this,arguments)}function xl(){return(xl=(0,s.Z)(function*(I,y){const v=Fo(I,!1).get(y),E=yield new vc(v).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Nu(I,y){const v=Fo(I,!0).delete(y);return new vc(v).toPromise()}const rn=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,s.Z)(function*(){return v.db||(v.db=yield El()),v.db})()}_withRetries(v){var E=this;return(0,s.Z)(function*(){let P=0;for(;;)try{const H=yield E._openDb();return yield v(H)}catch(H){if(P++>3)throw H;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,s.Z)(function*(){return is()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,s.Z)(function*(){v.receiver=uo._getInstance(function yc(){return is()?self:null}()),v.receiver._subscribe("keyChanged",function(){var E=(0,s.Z)(function*(P,H){return{keyProcessed:(yield v._poll()).includes(H.key)}});return function(P,H){return E.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var E=(0,s.Z)(function*(P,H){return["keyChanged"]});return function(P,H){return E.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,s.Z)(function*(){var E,P;if(v.activeServiceWorker=yield function Pu(){return Il.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new wf(v.activeServiceWorker);const H=yield v.sender._send("ping",{},800);H&&null!==(E=H[0])&&void 0!==E&&E.fulfilled&&null!==(P=H[0])&&void 0!==P&&P.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var E=this;return(0,s.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Ru(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:v},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const v=yield El();return yield wc(v,sa,"1"),yield Nu(v,sa),!0}catch{}return!1})()}_withPendingWrite(v){var E=this;return(0,s.Z)(function*(){E.pendingWrites++;try{yield v()}finally{E.pendingWrites--}})()}_set(v,E){var P=this;return(0,s.Z)(function*(){return P._withPendingWrite((0,s.Z)(function*(){return yield P._withRetries(H=>wc(H,v,E)),P.localCache[v]=E,P.notifyServiceWorker(v)}))})()}_get(v){var E=this;return(0,s.Z)(function*(){const P=yield E._withRetries(H=>function Cf(I,y){return xl.apply(this,arguments)}(H,v));return E.localCache[v]=P,P})()}_remove(v){var E=this;return(0,s.Z)(function*(){return E._withPendingWrite((0,s.Z)(function*(){return yield E._withRetries(P=>Nu(P,v)),delete E.localCache[v],E.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,s.Z)(function*(){const E=yield v._withRetries(le=>{const He=Fo(le,!1).getAll();return new vc(He).toPromise()});if(!E)return[];if(0!==v.pendingWrites)return[];const P=[],H=new Set;for(const{fbase_key:le,value:He}of E)H.add(le),JSON.stringify(v.localCache[le])!==JSON.stringify(He)&&(v.notifyListeners(le,He),P.push(le));for(const le of Object.keys(v.localCache))v.localCache[le]&&!H.has(le)&&(v.notifyListeners(le,null),P.push(le));return P})()}notifyListeners(v,E){this.localCache[v]=E;const P=this.listeners[v];if(P)for(const H of Array.from(P))H(E)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function rs(){return(rs=(0,s.Z)(function*(I){return(yield fe(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zr(I){return new Promise((y,v)=>{const E=document.createElement("script");E.setAttribute("src",I),E.onload=y,E.onerror=P=>{const H=ce("internal-error");H.customData=P,v(H)},E.type="text/javascript",E.charset="UTF-8",function Na(){var I,y;return null!==(y=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==y?y:document}().appendChild(E)})}function Vo(I){return`__${I}${Math.floor(1e6*Math.random())}`}const As=1e12;class Fu{constructor(y){this.auth=y,this.counter=As,this._widgets=new Map}render(y,v){const E=this.counter;return this._widgets.set(E,new Rr(y,this.auth.name,v||{})),this.counter++,E}reset(y){var v;const E=y||As;null===(v=this._widgets.get(E))||void 0===v||v.delete(),this._widgets.delete(E)}getResponse(y){var v;return(null===(v=this._widgets.get(y||As))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,s.Z)(function*(){var E;return null===(E=v._widgets.get(y||As))||void 0===E||E.execute(),""})()}}class Rr{constructor(y,v,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof y?document.getElementById(y):y;oe(P,"argument-error",{appName:v}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Js(I){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<I;E++)y.push(v.charAt(Math.floor(62*Math.random())));return y.join("")}(50);const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dl=Vo("rcb"),ss=new be(3e4,6e4);class Ef{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=hi().grecaptcha)||void 0===y||!y.render)}load(y,v=""){return oe(function La(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),y,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(hi().grecaptcha):new Promise((E,P)=>{const H=hi().setTimeout(()=>{P(ce(y,"network-request-failed"))},ss.get());hi()[Dl]=()=>{hi().clearTimeout(H),delete hi()[Dl];const He=hi().grecaptcha;if(!He)return void P(ce(y,"internal-error"));const ht=He.render;He.render=(Dt,Xt)=>{const ei=ht(Dt,Xt);return this.counter++,ei},this.hostLanguage=v,E(He)},zr(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:Dl,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(H),P(ce(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var v;return!(null===(v=hi().grecaptcha)||void 0===v||!v.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xf{load(y){return(0,s.Z)(function*(){return new Fu(y)})()}clearedOneInstance(){}}const u_="recaptcha",Sf={theme:"light",type:"image"};class Df{constructor(y,v=Object.assign({},Sf),E){this.parameters=v,this.type=u_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bn(E),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof y?document.getElementById(y):y;oe(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xf:new Ef,this.validateStartingState()}verify(){var y=this;return(0,s.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),E=y.getAssertedRecaptcha();return E.getResponse(v)||new Promise(H=>{const le=He=>{He&&(y.tokenChangeListeners.delete(le),H(He))};y.tokenChangeListeners.add(le),y.isInvisible&&E.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(E=>E(v)),"function"==typeof y)y(v);else if("string"==typeof y){const E=hi()[y];"function"==typeof E&&E(v)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,s.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const E=document.createElement("div");v.appendChild(E),v=E}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,s.Z)(function*(){oe(bn()&&!is(),y.auth,"internal-error"),yield function Af(){let I=null;return new Promise(y=>{"complete"!==document.readyState?(I=()=>y(),window.addEventListener("load",I)):y()}).catch(y=>{throw I&&window.removeEventListener("load",I),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function Bi(I){return rs.apply(this,arguments)}(y.auth);oe(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cc{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=Di._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function k0(I,y,v){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,s.Z)(function*(I,y,v){const E=Bn(I),P=yield Tc(E,y,(0,G.m9)(v));return new Cc(P,H=>ea(E,H))})).apply(this,arguments)}function Vu(I,y,v){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,s.Z)(function*(I,y,v){const E=(0,G.m9)(I);yield Ss(!1,E,"phone");const P=yield Tc(E.auth,y,(0,G.m9)(v));return new Cc(P,H=>Da(E,H))})).apply(this,arguments)}function Mf(I,y,v){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,s.Z)(function*(I,y,v){const E=(0,G.m9)(I),P=yield Tc(E.auth,y,(0,G.m9)(v));return new Cc(P,H=>r_(E,H))})).apply(this,arguments)}function Tc(I,y,v){return Al.apply(this,arguments)}function Al(){return Al=(0,s.Z)(function*(I,y,v){var E;const P=yield v.verify();try{let H;if(oe("string"==typeof P,I,"argument-error"),oe(v.type===u_,I,"argument-error"),H="string"==typeof y?{phoneNumber:y}:y,"session"in H){const le=H.session;if("phoneNumber"in H)return oe("enroll"===le.type,I,"internal-error"),(yield function cr(I,y){return fe(I,"POST","/v2/accounts/mfaEnrollment:start",de(I,y))}(I,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:H.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{oe("signin"===le.type,I,"internal-error");const He=(null===(E=H.multiFactorHint)||void 0===E?void 0:E.uid)||H.multiFactorUid;return oe(He,I,"missing-multi-factor-info"),(yield function hh(I,y){return fe(I,"POST","/v2/accounts/mfaSignIn:start",de(I,y))}(I,{mfaPendingCredential:le.credential,mfaEnrollmentId:He,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield function wu(I,y){return bu.apply(this,arguments)}(I,{phoneNumber:H.phoneNumber,recaptchaToken:P});return le}}finally{v._reset()}}),Al.apply(this,arguments)}function ph(I,y){return kf.apply(this,arguments)}function kf(){return(kf=(0,s.Z)(function*(I,y){yield Pr((0,G.m9)(I),y)})).apply(this,arguments)}let Or=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=Bn(v)}verifyPhoneNumber(v,E){return Tc(this.auth,v,(0,G.m9)(E))}static credential(v,E){return Di._fromVerification(v,E)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:E,temporaryProof:P}=v;return E&&P?Di._fromTokenResponse(E,P):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function os(I,y){return y?_t(y):(oe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Un extends ts{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Zs(y,this._buildIdpRequest())}_linkToIdToken(y,v){return Zs(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return Zs(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function Pf(I){return yl(I.auth,new Un(I),I.bypassAuthState)}function d_(I){const{auth:y,user:v}=I;return oe(v,y,"internal-error"),Cu(v,new Un(I),I.bypassAuthState)}function fh(I){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,s.Z)(function*(I){const{auth:y,user:v}=I;return oe(v,y,"internal-error"),Pr(v,new Un(I),I.bypassAuthState)})).apply(this,arguments)}class Ml{constructor(y,v,E,P,H=!1){this.auth=y,this.resolver=E,this.user=P,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,s.Z)(function*(E,P){y.pendingPromise={resolve:E,reject:P};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(H){y.reject(H)}});return function(E,P){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,s.Z)(function*(){const{urlResponse:E,sessionId:P,postBody:H,tenantId:le,error:He,type:ht}=y;if(He)return void v.reject(He);const Dt={auth:v.auth,requestUri:E,sessionId:P,tenantId:le||void 0,postBody:H||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(ht)(Dt))}catch(Xt){v.reject(Xt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Pf;case"linkViaPopup":case"linkViaRedirect":return fh;case"reauthViaPopup":case"reauthViaRedirect":return d_;default:st(this.auth,"internal-error")}}resolve(y){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const as=new be(2e3,1e4);function ls(I,y,v){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,s.Z)(function*(I,y,v){const E=Bn(I);ge(I,y,Cn);const P=os(E,v);return new Ec(E,"signInViaPopup",y,P).executeNotNull()})).apply(this,arguments)}function mh(I,y,v){return Va.apply(this,arguments)}function Va(){return(Va=(0,s.Z)(function*(I,y,v){const E=(0,G.m9)(I);ge(E.auth,y,Cn);const P=os(E.auth,v);return new Ec(E.auth,"reauthViaPopup",y,P,E).executeNotNull()})).apply(this,arguments)}function oi(I,y,v){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,s.Z)(function*(I,y,v){const E=(0,G.m9)(I);ge(E.auth,y,Cn);const P=os(E.auth,v);return new Ec(E.auth,"linkViaPopup",y,P,E).executeNotNull()})).apply(this,arguments)}let Ec=(()=>{class I extends Ml{constructor(v,E,P,H,le){super(v,E,H,le),this.provider=P,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,s.Z)(function*(){const E=yield v.execute();return oe(E,v.auth,"internal-error"),E})()}onExecution(){var v=this;return(0,s.Z)(function*(){Re(1===v.filter.length,"Popup operations only handle one event");const E=Vi();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],E),v.authWindow.associatedEvent=E,v.resolver._originValidation(v.auth).catch(P=>{v.reject(P)}),v.resolver._isIframeWebStorageSupported(v.auth,P=>{P||v.reject(ce(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var E,P;this.pollId=null!==(P=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,as.get())};v()}}return I.currentPopupAction=null,I})();const ur="pendingRedirect",dr=new Map;class gh extends Ml{constructor(y,v,E=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,E),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,s.Z)(function*(){let E=dr.get(v.auth._key());if(!E){try{const H=(yield function Ms(I,y){return oa.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;E=()=>Promise.resolve(H)}catch(P){E=()=>Promise.reject(P)}dr.set(v.auth._key(),E)}return v.bypassAuthState||dr.set(v.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,E=this;return(0,s.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(E,y);if("unknown"!==y.type){if(y.eventId){const P=yield E.auth._redirectUserForId(y.eventId);if(P)return E.user=P,v().call(E,y);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function oa(){return(oa=(0,s.Z)(function*(I,y){const v=xc(y),E=h_(I);if(!(yield E._isAvailable()))return!1;const P="true"===(yield E._get(v));return yield E._remove(v),P})).apply(this,arguments)}function Bo(I,y){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,s.Z)(function*(I,y){return h_(I)._set(xc(y),"true")})).apply(this,arguments)}function Xs(){dr.clear()}function Hu(I,y){dr.set(I._key(),y)}function h_(I){return _t(I._redirectPersistence)}function xc(I){return Y(ur,I.config.apiKey,I.name)}function p_(I,y,v){return function f_(I,y,v){return Sc.apply(this,arguments)}(I,y,v)}function Sc(){return(Sc=(0,s.Z)(function*(I,y,v){const E=Bn(I);ge(I,y,Cn),yield E._initializationPromise;const P=os(E,v);return yield Bo(P,E),P._openRedirect(E,y,"signInViaRedirect")})).apply(this,arguments)}function D(I,y,v){return function A(I,y,v){return O.apply(this,arguments)}(I,y,v)}function O(){return(O=(0,s.Z)(function*(I,y,v){const E=(0,G.m9)(I);ge(E.auth,y,Cn),yield E.auth._initializationPromise;const P=os(E.auth,v);yield Bo(P,E.auth);const H=yield sn(E);return P._openRedirect(E.auth,y,"reauthViaRedirect",H)})).apply(this,arguments)}function W(I,y,v){return function se(I,y,v){return we.apply(this,arguments)}(I,y,v)}function we(){return(we=(0,s.Z)(function*(I,y,v){const E=(0,G.m9)(I);ge(E.auth,y,Cn),yield E.auth._initializationPromise;const P=os(E.auth,v);yield Ss(!1,E,y.providerId),yield Bo(P,E.auth);const H=yield sn(E);return P._openRedirect(E.auth,y,"linkViaRedirect",H)})).apply(this,arguments)}function We(I,y){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(I,y){return yield Bn(I)._initializationPromise,Ct(I,y,!1)})).apply(this,arguments)}function Ct(I,y){return wt.apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(I,y,v=!1){const E=Bn(I),P=os(E,y),le=yield new gh(E,P,v).execute();return le&&!v&&(delete le.user._redirectEventId,yield E._persistUserIfCurrent(le.user),yield E._setRedirectUser(null,y)),le})).apply(this,arguments)}function sn(I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(I){const y=Vi(`${I.uid}:::`);return I._redirectEventId=y,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),y})).apply(this,arguments)}class Ai{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(y,E)&&(v=!0,this.sendToConsumer(y,E),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function kl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ha(I);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var E;if(y.error&&!Ha(y)){const P=(null===(E=y.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";v.onError(ce(this.auth,P))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const E=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&E}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uo(y))}saveEventToCache(y){this.cachedEventUids.add(Uo(y)),this.lastProcessedEventTime=Date.now()}}function Uo(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(y=>y).join("-")}function Ha({type:I,error:y}){return"unknown"===I&&"auth/no-auth-event"===y?.code}function jr(I){return ks.apply(this,arguments)}function ks(){return(ks=(0,s.Z)(function*(I,y={}){return fe(I,"GET","/v1/projects",y)})).apply(this,arguments)}const zu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m_=/^https?/;function Dc(){return(Dc=(0,s.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:y}=yield jr(I);for(const v of y)try{if(Pl(v))return}catch{}st(I,"unauthorized-domain")})).apply(this,arguments)}function Pl(I){const y=dn(),{protocol:v,hostname:E}=new URL(y);if(I.startsWith("chrome-extension://")){const le=new URL(I);return""===le.hostname&&""===E?"chrome-extension:"===v&&I.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&le.hostname===E}if(!m_.test(v))return!1;if(zu.test(I))return E===I;const P=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(E)}const R0=new be(3e4,6e4);function Rf(){const I=hi().___jsl;if(I?.H)for(const y of Object.keys(I.H))if(I.H[y].r=I.H[y].r||[],I.H[y].L=I.H[y].L||[],I.H[y].r=[...I.H[y].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let za=null;const qr=new be(5e3,15e3),CI="__/auth/iframe",__="emulator/auth/iframe",Of={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ja=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nf(I){const y=I.config;oe(y.authDomain,I,"auth-domain-config-required");const v=y.emulator?xe(y,__):`https://${I.config.authDomain}/${CI}`,E={apiKey:y.apiKey,appName:I.name,v:L.SDK_VERSION},P=ja.get(I.config.apiHost);P&&(E.eid=P);const H=I._getFrameworks();return H.length&&(E.fw=H.join(",")),`${v}?${(0,G.xO)(E).slice(1)}`}function Ho(){return Ho=(0,s.Z)(function*(I){const y=yield function O0(I){return za=za||function g_(I){return new Promise((y,v)=>{var E,P,H;function le(){Rf(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Rf(),v(ce(I,"network-request-failed"))},timeout:R0.get()})}if(null!==(P=null===(E=hi().gapi)||void 0===E?void 0:E.iframes)&&void 0!==P&&P.Iframe)y(gapi.iframes.getContext());else{if(null===(H=hi().gapi)||void 0===H||!H.load){const He=Vo("iframefcb");return hi()[He]=()=>{gapi.load?le():v(ce(I,"network-request-failed"))},zr(`https://apis.google.com/js/api.js?onload=${He}`).catch(ht=>v(ht))}le()}}).catch(y=>{throw za=null,y})}(I),za}(I),v=hi().gapi;return oe(v,I,"internal-error"),y.open({where:document.body,url:Nf(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Of,dontclear:!0},E=>new Promise(function(){var P=(0,s.Z)(function*(H,le){yield E.restyle({setHideOnLeave:!1});const He=ce(I,"network-request-failed"),ht=hi().setTimeout(()=>{le(He)},qr.get());function Dt(){hi().clearTimeout(ht),H(E)}E.ping(Dt).then(Dt,()=>{le(He)})});return function(H,le){return P.apply(this,arguments)}}()))}),Ho.apply(this,arguments)}const qa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class N0{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const II="__/auth/handler",CD="emulator/auth/handler";function y_(I,y,v,E,P,H){oe(I.config.authDomain,I,"auth-domain-config-required"),oe(I.config.apiKey,I,"invalid-api-key");const le={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:E,v:L.SDK_VERSION,eventId:P};if(y instanceof Cn){y.setDefaultLanguage(I.languageCode),le.providerId=y.providerId||"",(0,G.xb)(y.getCustomParameters())||(le.customParameters=JSON.stringify(y.getCustomParameters()));for(const[ht,Dt]of Object.entries(H||{}))le[ht]=Dt}if(y instanceof rt){const ht=y.getScopes().filter(Dt=>""!==Dt);ht.length>0&&(le.scopes=ht.join(","))}I.tenantId&&(le.tid=I.tenantId);const He=le;for(const ht of Object.keys(He))void 0===He[ht]&&delete He[ht];return`${function F0({config:I}){return I.emulator?xe(I,CD):`https://${I.authDomain}/${II}`}(I)}?${(0,G.xO)(He).slice(1)}`}const Vf="webStorageSupport",Bf=class qu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gc,this._completeRedirectFn=Ct,this._overrideRedirectResult=Hu}_openPopup(y,v,E,P){var H=this;return(0,s.Z)(function*(){var le;Re(null===(le=H.eventManagers[y._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const He=y_(y,v,E,dn(),P);return function Rl(I,y,v,E=500,P=600){const H=Math.max((window.screen.availHeight-P)/2,0).toString(),le=Math.max((window.screen.availWidth-E)/2,0).toString();let He="";const ht=Object.assign(Object.assign({},qa),{width:E.toString(),height:P.toString(),top:H,left:le}),Dt=(0,G.z$)().toLowerCase();v&&(He=me(Dt)?"_blank":v),F(Dt)&&(y=y||"http://localhost",ht.scrollbars="yes");const Xt=Object.entries(ht).reduce((Lr,[cs,yh])=>`${Lr}${cs}=${yh},`,"");if(function vi(I=(0,G.z$)()){var y;return bt(I)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Dt)&&"_self"!==He)return function L0(I,y){const v=document.createElement("a");v.href=I,v.target=y;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(E)}(y||"",He),new N0(null);const ei=window.open(y||"",He,Xt);oe(ei,I,"popup-blocked");try{ei.focus()}catch{}return new N0(ei)}(y,He,Vi())})()}_openRedirect(y,v,E,P){var H=this;return(0,s.Z)(function*(){return yield H._originValidation(y),function bf(I){hi().location.href=I}(y_(y,v,E,dn(),P)),new Promise(()=>{})})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:P,promise:H}=this.eventManagers[v];return P?Promise.resolve(P):(Re(H,"If manager is not set, promise should be"),H)}const E=this.initAndGetManager(y);return this.eventManagers[v]={promise:E},E.catch(()=>{delete this.eventManagers[v]}),E}initAndGetManager(y){var v=this;return(0,s.Z)(function*(){const E=yield function ju(I){return Ho.apply(this,arguments)}(y),P=new Ai(y);return E.register("authEvent",H=>(oe(H?.authEvent,y,"invalid-auth-event"),{status:P.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:P},v.iframes[y._key()]=E,P})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(Vf,{type:Vf},P=>{var H;const le=null===(H=P?.[0])||void 0===H?void 0:H[Vf];void 0!==le&&v(!!le),st(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function P0(I){return Dc.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return qs()||q()||bt()}};class Uf{constructor(y){this.factorId=y}_process(y,v,E){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,E);case"signin":return this._finalizeSignIn(y,v.credential);default:return pe("unexpected MultiFactorSessionType")}}}class Mi extends Uf{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Mi(y)}_finalizeEnroll(y,v,E){return function bl(I,y){return fe(I,"POST","/v2/accounts/mfaEnrollment:finalize",de(I,y))}(y,{idToken:v,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function bc(I,y){return fe(I,"POST","/v2/accounts/mfaSignIn:finalize",de(I,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let v_=(()=>{class I{constructor(){}static assertion(v){return Mi._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var Ac="@firebase/auth";class Gr{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,s.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(E=>{y(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);v&&(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,G.Pz)("authIdTokenMaxAge"),function Gu(I){(0,L._registerComponent)(new ye.wA("auth",(y,{options:v})=>{const E=y.getProvider("app").getImmediate(),P=y.getProvider("heartbeat"),{apiKey:H,authDomain:le}=E.options;return((He,ht)=>{oe(H&&!H.includes(":"),"invalid-api-key",{appName:He.name}),oe(!le?.includes(":"),"argument-error",{appName:He.name});const Dt={apiKey:H,authDomain:le,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gs(I)},Xt=new ao(He,ht,Dt);return function kn(I,y){const v=y?.persistence||[],E=(Array.isArray(v)?v:[v]).map(_t);y?.errorMap&&I._updateErrorMap(y.errorMap),I._initializeWithPersistence(E,y?.popupRedirectResolver)}(Xt,v),Xt})(E,P)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,E)=>{y.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new ye.wA("auth-internal",y=>{const v=Bn(y.getProvider("auth").getImmediate());return new Gr(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(Ac,"0.21.1",function aa(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,L.registerVersion)(Ac,"0.21.1","esm2017")}("Browser")},9058:(mt,De,U)=>{"use strict";U.d(De,{$s:()=>dt,BH:()=>Ve,DV:()=>Kt,Dv:()=>ci,G6:()=>qn,GJ:()=>hn,L:()=>Me,LL:()=>S,Pz:()=>ce,Sg:()=>ge,UG:()=>pe,UI:()=>Zi,US:()=>ye,Wj:()=>Is,Wl:()=>At,Yr:()=>bn,ZB:()=>Q,ZR:()=>Ee,aH:()=>st,b$:()=>_t,cI:()=>fe,dS:()=>Vn,eu:()=>ve,g5:()=>L,gK:()=>Jr,gQ:()=>qt,h$:()=>Se,hl:()=>Cs,hu:()=>G,jU:()=>Re,lb:()=>tn,m9:()=>pn,ne:()=>Zt,p$:()=>Z,pd:()=>Rt,r3:()=>Fn,ru:()=>Je,tV:()=>Ie,uI:()=>oe,ug:()=>Ar,vZ:()=>Oi,w1:()=>kn,w9:()=>Nt,xO:()=>yi,xb:()=>li,z$:()=>Pe,zI:()=>be,zd:()=>or});const s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},G=function(J,Y){if(!J)throw L(Y)},L=function(J){return new Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+J)},re=function(J){const Y=[];let ie=0;for(let $=0;$<J.length;$++){let F=J.charCodeAt($);F<128?Y[ie++]=F:F<2048?(Y[ie++]=F>>6|192,Y[ie++]=63&F|128):55296==(64512&F)&&$+1<J.length&&56320==(64512&J.charCodeAt($+1))?(F=65536+((1023&F)<<10)+(1023&J.charCodeAt(++$)),Y[ie++]=F>>18|240,Y[ie++]=F>>12&63|128,Y[ie++]=F>>6&63|128,Y[ie++]=63&F|128):(Y[ie++]=F>>12|224,Y[ie++]=F>>6&63|128,Y[ie++]=63&F|128)}return Y},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,Y){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let F=0;F<J.length;F+=3){const q=J[F],me=F+1<J.length,Ye=me?J[F+1]:0,lt=F+2<J.length,Ft=lt?J[F+2]:0;let Rn=(15&Ye)<<2|Ft>>6,vi=63&Ft;lt||(vi=64,me||(Rn=64)),$.push(ie[q>>2],ie[(3&q)<<4|Ye>>4],ie[Rn],ie[vi])}return $.join("")},encodeString(J,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(J):this.encodeByteArray(re(J),Y)},decodeString(J,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(J):function(J){const Y=[];let ie=0,$=0;for(;ie<J.length;){const F=J[ie++];if(F<128)Y[$++]=String.fromCharCode(F);else if(F>191&&F<224){const q=J[ie++];Y[$++]=String.fromCharCode((31&F)<<6|63&q)}else if(F>239&&F<365){const lt=((7&F)<<18|(63&J[ie++])<<12|(63&J[ie++])<<6|63&J[ie++])-65536;Y[$++]=String.fromCharCode(55296+(lt>>10)),Y[$++]=String.fromCharCode(56320+(1023&lt))}else{const q=J[ie++],me=J[ie++];Y[$++]=String.fromCharCode((15&F)<<12|(63&q)<<6|63&me)}}return Y.join("")}(this.decodeStringToByteArray(J,Y))},decodeStringToByteArray(J,Y){this.init_();const ie=Y?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let F=0;F<J.length;){const q=ie[J.charAt(F++)],Ye=F<J.length?ie[J.charAt(F)]:0;++F;const Ft=F<J.length?ie[J.charAt(F)]:64;++F;const bt=F<J.length?ie[J.charAt(F)]:64;if(++F,null==q||null==Ye||null==Ft||null==bt)throw Error();$.push(q<<2|Ye>>4),64!==Ft&&($.push(Ye<<4&240|Ft>>2),64!==bt&&$.push(Ft<<6&192|bt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},Se=function(J){const Y=re(J);return ye.encodeByteArray(Y,!0)},Me=function(J){return Se(J).replace(/\./g,"")},Ie=function(J){try{return ye.decodeString(J,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function Z(J){return Q(void 0,J)}function Q(J,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return Y}for(const ie in Y)!Y.hasOwnProperty(ie)||!ue(ie)||(J[ie]=Q(J[ie],Y[ie]));return J}function ue(J){return"__proto__"!==J}const V=()=>{try{return function Ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Y=J&&Ie(J[1]);return Y&&JSON.parse(Y)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},st=()=>{var J;return null===(J=V())||void 0===J?void 0:J.config},ce=J=>{var Y;return null===(Y=V())||void 0===Y?void 0:Y[`_${J}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,ie)=>{this.resolve=Y,this.reject=ie})}wrapCallback(Y){return(ie,$)=>{ie?this.reject(ie):this.resolve($),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(ie):Y(ie,$))}}}function ge(J,Y){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=Y||"demo-project",F=J.iat||0,q=J.sub||J.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const me=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:F,exp:F+3600,auth_time:F,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},J);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(me)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function pe(){var J;const Y=null===(J=V())||void 0===J?void 0:J.forceEnvironment;if("node"===Y)return!0;if("browser"===Y)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Re(){return"object"==typeof self&&self.self===self}function Je(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function _t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kn(){const J=Pe();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function bn(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function qn(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cs(){try{return"object"==typeof indexedDB}catch{return!1}}function ve(){return new Promise((J,Y)=>{try{let ie=!0;const $="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open($);F.onsuccess=()=>{F.result.close(),ie||self.indexedDB.deleteDatabase($),J(!0)},F.onupgradeneeded=()=>{ie=!1},F.onerror=()=>{var q;Y((null===(q=F.error)||void 0===q?void 0:q.message)||"")}}catch(ie){Y(ie)}})}function be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ee extends Error{constructor(Y,ie,$){super(ie),this.code=Y,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(Y,ie,$){this.service=Y,this.serviceName=ie,this.errors=$}create(Y,...ie){const $=ie[0]||{},F=`${this.service}/${Y}`,q=this.errors[Y],me=q?function X(J,Y){return J.replace(de,(ie,$)=>{const F=Y[$];return null!=F?String(F):`<${$}?>`})}(q,$):"Error";return new Ee(F,`${this.serviceName}: ${me} (${F}).`,$)}}const de=/\{\$([^}]+)}/g;function fe(J){return JSON.parse(J)}function At(J){return JSON.stringify(J)}const je=function(J){let Y={},ie={},$={},F="";try{const q=J.split(".");Y=fe(Ie(q[0])||""),ie=fe(Ie(q[1])||""),F=q[2],$=ie.d||{},delete ie.d}catch{}return{header:Y,claims:ie,data:$,signature:F}},Nt=function(J){const ie=je(J).claims;return!!ie&&"object"==typeof ie&&ie.hasOwnProperty("iat")},hn=function(J){const Y=je(J).claims;return"object"==typeof Y&&!0===Y.admin};function Fn(J,Y){return Object.prototype.hasOwnProperty.call(J,Y)}function Kt(J,Y){if(Object.prototype.hasOwnProperty.call(J,Y))return J[Y]}function li(J){for(const Y in J)if(Object.prototype.hasOwnProperty.call(J,Y))return!1;return!0}function Zi(J,Y,ie){const $={};for(const F in J)Object.prototype.hasOwnProperty.call(J,F)&&($[F]=Y.call(ie,J[F],F,J));return $}function Oi(J,Y){if(J===Y)return!0;const ie=Object.keys(J),$=Object.keys(Y);for(const F of ie){if(!$.includes(F))return!1;const q=J[F],me=Y[F];if(Ni(q)&&Ni(me)){if(!Oi(q,me))return!1}else if(q!==me)return!1}for(const F of $)if(!ie.includes(F))return!1;return!0}function Ni(J){return null!==J&&"object"==typeof J}function yi(J){const Y=[];for(const[ie,$]of Object.entries(J))Array.isArray($)?$.forEach(F=>{Y.push(encodeURIComponent(ie)+"="+encodeURIComponent(F))}):Y.push(encodeURIComponent(ie)+"="+encodeURIComponent($));return Y.length?"&"+Y.join("&"):""}function or(J){const Y={};return J.replace(/^\?/,"").split("&").forEach($=>{if($){const[F,q]=$.split("=");Y[decodeURIComponent(F)]=decodeURIComponent(q)}}),Y}function Rt(J){const Y=J.indexOf("?");if(!Y)return"";const ie=J.indexOf("#",Y);return J.substring(Y,ie>0?ie:void 0)}class qt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,ie){ie||(ie=0);const $=this.W_;if("string"==typeof Y)for(let bt=0;bt<16;bt++)$[bt]=Y.charCodeAt(ie)<<24|Y.charCodeAt(ie+1)<<16|Y.charCodeAt(ie+2)<<8|Y.charCodeAt(ie+3),ie+=4;else for(let bt=0;bt<16;bt++)$[bt]=Y[ie]<<24|Y[ie+1]<<16|Y[ie+2]<<8|Y[ie+3],ie+=4;for(let bt=16;bt<80;bt++){const Rn=$[bt-3]^$[bt-8]^$[bt-14]^$[bt-16];$[bt]=4294967295&(Rn<<1|Rn>>>31)}let Ft,vt,F=this.chain_[0],q=this.chain_[1],me=this.chain_[2],Ye=this.chain_[3],lt=this.chain_[4];for(let bt=0;bt<80;bt++){bt<40?bt<20?(Ft=Ye^q&(me^Ye),vt=1518500249):(Ft=q^me^Ye,vt=1859775393):bt<60?(Ft=q&me|Ye&(q|me),vt=2400959708):(Ft=q^me^Ye,vt=3395469782);const Rn=(F<<5|F>>>27)+Ft+lt+vt+$[bt]&4294967295;lt=Ye,Ye=me,me=4294967295&(q<<30|q>>>2),q=F,F=Rn}this.chain_[0]=this.chain_[0]+F&4294967295,this.chain_[1]=this.chain_[1]+q&4294967295,this.chain_[2]=this.chain_[2]+me&4294967295,this.chain_[3]=this.chain_[3]+Ye&4294967295,this.chain_[4]=this.chain_[4]+lt&4294967295}update(Y,ie){if(null==Y)return;void 0===ie&&(ie=Y.length);const $=ie-this.blockSize;let F=0;const q=this.buf_;let me=this.inbuf_;for(;F<ie;){if(0===me)for(;F<=$;)this.compress_(Y,F),F+=this.blockSize;if("string"==typeof Y){for(;F<ie;)if(q[me]=Y.charCodeAt(F),++me,++F,me===this.blockSize){this.compress_(q),me=0;break}}else for(;F<ie;)if(q[me]=Y[F],++me,++F,me===this.blockSize){this.compress_(q),me=0;break}}this.inbuf_=me,this.total_+=ie}digest(){const Y=[];let ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let F=this.blockSize-1;F>=56;F--)this.buf_[F]=255&ie,ie/=256;this.compress_(this.buf_);let $=0;for(let F=0;F<5;F++)for(let q=24;q>=0;q-=8)Y[$]=this.chain_[F]>>q&255,++$;return Y}}function Zt(J,Y){const ie=new Jn(J,Y);return ie.subscribe.bind(ie)}class Jn{constructor(Y,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{Y(this)}).catch($=>{this.error($)})}next(Y){this.forEachObserver(ie=>{ie.next(Y)})}error(Y){this.forEachObserver(ie=>{ie.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,ie,$){let F;if(void 0===Y&&void 0===ie&&void 0===$)throw new Error("Missing Observer.");F=function ar(J,Y){if("object"!=typeof J||null===J)return!1;for(const ie of Y)if(ie in J&&"function"==typeof J[ie])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:ie,complete:$},void 0===F.next&&(F.next=Lt),void 0===F.error&&(F.error=Lt),void 0===F.complete&&(F.complete=Lt);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),q}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,Y)}sendOne(Y,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{ie(this.observers[Y])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lt(){}const ci=function(J,Y,ie,$){let F;if($<Y?F="at least "+Y:$>ie&&(F=0===ie?"none":"no more than "+ie),F)throw new Error(J+" failed: Was called with "+$+(1===$?" argument.":" arguments.")+" Expects "+F+".")};function Jr(J,Y){return`${J} failed: ${Y} argument `}function Is(J,Y,ie,$){if((!$||ie)&&"function"!=typeof ie)throw new Error(Jr(J,Y)+"must be a valid function.")}function tn(J,Y,ie,$){if((!$||ie)&&("object"!=typeof ie||null===ie))throw new Error(Jr(J,Y)+"must be a valid context object.")}const Vn=function(J){const Y=[];let ie=0;for(let $=0;$<J.length;$++){let F=J.charCodeAt($);if(F>=55296&&F<=56319){const q=F-55296;$++,G($<J.length,"Surrogate pair missing trail surrogate."),F=65536+(q<<10)+(J.charCodeAt($)-56320)}F<128?Y[ie++]=F:F<2048?(Y[ie++]=F>>6|192,Y[ie++]=63&F|128):F<65536?(Y[ie++]=F>>12|224,Y[ie++]=F>>6&63|128,Y[ie++]=63&F|128):(Y[ie++]=F>>18|240,Y[ie++]=F>>12&63|128,Y[ie++]=F>>6&63|128,Y[ie++]=63&F|128)}return Y},Ar=function(J){let Y=0;for(let ie=0;ie<J.length;ie++){const $=J.charCodeAt(ie);$<128?Y++:$<2048?Y+=2:$>=55296&&$<=56319?(Y+=4,ie++):Y+=3}return Y},es=1e3,lr=2,ft=144e5,Be=.5;function dt(J,Y=es,ie=lr){const $=Y*Math.pow(ie,J),F=Math.round(Be*$*(Math.random()-.5)*2);return Math.min(ft,$+F)}function pn(J){return J&&J._delegate?J._delegate:J}},9032:(mt,De,U)=>{"use strict";var s=U(5879);let G=null;function L(){return G}class he{}const ye=new s.OlP("DocumentToken");let Se=(()=>{var i;class e{historyGo(t){throw new Error("Not implemented")}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(Ie)},providedIn:"platform"}),e})();const Me=new s.OlP("Location Initialized");let Ie=(()=>{var i;class e extends Se{constructor(){super(),this._doc=(0,s.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return new i},providedIn:"platform"}),e})();function Z(i,e){if(0==i.length)return e;if(0==e.length)return i;let n=0;return i.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?i+e.substring(1):1==n?i+e:i+"/"+e}function Q(i){const e=i.match(/#|\?|$/),n=e&&e.index||i.length;return i.slice(0,n-("/"===i[n-1]?1:0))+i.slice(n)}function ue(i){return i&&"?"!==i[0]?"?"+i:i}let Ze=(()=>{var i;class e{historyGo(t){throw new Error("Not implemented")}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(nt)},providedIn:"root"}),e})();const Le=new s.OlP("appBaseHref");let nt=(()=>{var i;class e extends Ze{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Z(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ue(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const d=this.prepareExternalUrl(o+ue(c));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,c){const d=this.prepareExternalUrl(o+ue(c));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(Se),s.LFG(Le,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})(),Fe=(()=>{var i;class e extends Ze{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Z(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let d=this.prepareExternalUrl(o+ue(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,c){let d=this.prepareExternalUrl(o+ue(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(Se),s.LFG(Le,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})(),V=(()=>{var i;class e{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ce(i){if(new RegExp("^(https?:)?//").test(i)){const[,n]=i.split(/\/\/[^\/]+/);return n}return i}(Q(st(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ue(r))}normalize(t){return e.stripTrailingSlash(function at(i,e){if(!i||!e.startsWith(i))return e;const n=e.substring(i.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,st(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ue(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ue(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return(i=e).normalizeQueryParams=ue,i.joinWithSlash=Z,i.stripTrailingSlash=Q,i.\u0275fac=function(t){return new(t||i)(s.LFG(Ze))},i.\u0275prov=s.Yz7({token:i,factory:function(){return function ze(){return new V((0,s.LFG)(Ze))}()},providedIn:"root"}),e})();function st(i){return i.replace(/\/index.html$/,"")}function ts(i,e){e=encodeURIComponent(e);for(const n of i.split(";")){const t=n.indexOf("="),[r,o]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const ml=/\s+/,Li=[];let Pn=(()=>{var i;class e{constructor(t,r,o,c){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=c,this.initialClasses=Li,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ml):Li}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ml):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ml).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Mo{constructor(e,n,t,r){this.$implicit=e,this.ngForOf=n,this.index=t,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ns=(()=>{var i;class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,c,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Mo(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===c?void 0:c);else if(null!==c){const f=r.get(c);r.move(f,d),Ko(f,o)}});for(let o=0,c=r.length;o<c;o++){const f=r.get(o).context;f.index=o,f.count=c,f.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Ko(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Ko(i,e){i.context.$implicit=e.item}let An=(()=>{var i;class e{constructor(t,r){this._viewContainer=t,this._context=new _u,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(s.s_b),s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class _u{constructor(){this.$implicit=null,this.ngIf=null}}function lc(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}let Gn=(()=>{var i;class e{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,c]=t.split("."),d=-1===o.indexOf("-")?void 0:s.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,o,c?`${r}${c}`:r,d):this._renderer.removeStyle(this._ngEl.nativeElement,o,d)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),Zn=(()=>{var i;class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:c,ngTemplateOutletInjector:d}=this;this._viewRef=r.createEmbeddedView(o,c,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(s.s_b))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),e})();let Wi=(()=>{var i;class e{transform(t,r,o){if(null==t)return null;if(!this.supports(t))throw function gr(i,e){return new s.vHH(2100,!1)}();return t.slice(r,o)}supports(t){return"string"==typeof t||Array.isArray(t)}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275pipe=s.Yjl({name:"slice",type:i,pure:!1,standalone:!0}),e})(),Ht=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),e})();const yr="browser";function si(i){return i===yr}function Ts(i){return"server"===i}let Es=(()=>{var i;class e{}return(i=e).\u0275prov=(0,s.Yz7)({token:i,providedIn:"root",factory:()=>new xa((0,s.LFG)(ye),window)}),e})();class xa{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function No(i,e){const n=i.getElementById(e)||i.getElementsByName(e)[0];if(n)return n;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const t=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=t.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}r=t.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),t=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(t-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Pr{}class lh extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ra extends lh{static makeCurrent(){!function re(i){G||(G=i)}(new Ra)}onAndCancel(e,n,t){return e.addEventListener(n,t),()=>{e.removeEventListener(n,t)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Cl(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}();return null==n?null:function Hr(i){sa=sa||document.createElement("a"),sa.setAttribute("href",i);const e=sa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ts(document.cookie,e)}}let sa,ra=null,uh=(()=>{var i;class e{build(){return new XMLHttpRequest}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();const Mn=new s.OlP("EventManagerPlugins");let vf=(()=>{var i;class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(c=>c.supports(t)),!r)throw new s.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(Mn),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();class Fi{constructor(e){this._doc=e}}const br="ng-app-id";let gc=(()=>{var i;class e{constructor(t,r,o,c={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ts(c),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${br}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const c=o.get(t);return c.usage+=r,c.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,c=o?.get(r);if(c?.parentNode===t)return o.delete(r),c.removeAttribute(br),c;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(br,this.appId),d}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const c=this.styleRef,d=c.get(r)?.elements;d?d.push(o):c.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(ye),s.LFG(s.AFp),s.LFG(s.Ojb,8),s.LFG(s.Lbi))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();const _c={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uo=/%COMP%/g,is=new s.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ru(i,e){return e.map(n=>n.replace(uo,i))}let yc=(()=>{var i;class e{constructor(t,r,o,c,d,f,_,b=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=c,this.doc=d,this.platformId=f,this.ngZone=_,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=Ts(f),this.defaultRenderer=new Tl(t,d,_,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===s.ifc.ShadowDom&&(r={...r,encapsulation:s.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof dh?o.applyToHost(t):o instanceof Fo&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let c=o.get(r.id);if(!c){const d=this.doc,f=this.ngZone,_=this.eventManager,b=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,M=this.platformIsServer;switch(r.encapsulation){case s.ifc.Emulated:c=new dh(_,b,r,this.appId,T,d,f,M);break;case s.ifc.ShadowDom:return new vc(_,b,t,r,d,f,this.nonce,M);default:c=new Fo(_,b,r,T,d,f,M)}o.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(vf),s.LFG(gc),s.LFG(s.AFp),s.LFG(is),s.LFG(ye),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(s.Ojb))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();class Tl{constructor(e,n,t,r){this.eventManager=e,this.doc=n,this.ngZone=t,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_c[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Oa(e)?e.content:e).appendChild(n)}insertBefore(e,n,t){e&&(Oa(e)?e.content:e).insertBefore(n,t)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let t="string"==typeof e?this.doc.querySelector(e):e;if(!t)throw new s.vHH(-5104,!1);return n||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,t,r){if(r){n=r+":"+n;const o=_c[r];o?e.setAttributeNS(o,n,t):e.setAttribute(n,t)}else e.setAttribute(n,t)}removeAttribute(e,n,t){if(t){const r=_c[t];r?e.removeAttributeNS(r,n):e.removeAttribute(`${t}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,t,r){r&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(n,t,r&s.JOm.Important?"important":""):e.style[n]=t}removeStyle(e,n,t){t&s.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,t){e[n]=t}setValue(e,n){e.nodeValue=n}listen(e,n,t){if("string"==typeof e&&!(e=L().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(t))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Oa(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class vc extends Tl{constructor(e,n,t,r,o,c,d,f){super(e,o,c,f),this.sharedStylesHost=n,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Ru(r.id,r.styles);for(const b of _){const T=document.createElement("style");d&&T.setAttribute("nonce",d),T.textContent=b,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,t){return super.insertBefore(this.nodeOrShadowRoot(e),n,t)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fo extends Tl{constructor(e,n,t,r,o,c,d,f){super(e,o,c,d),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=f?Ru(f,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dh extends Fo{constructor(e,n,t,r,o,c,d,f){const _=r+"-"+t.id;super(e,n,t,o,c,d,f,_),this.contentAttr=function Pu(i){return"_ngcontent-%COMP%".replace(uo,i)}(_),this.hostAttr=function Il(i){return"_nghost-%COMP%".replace(uo,i)}(_)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const t=super.createElement(e,n);return super.setAttribute(t,this.contentAttr,""),t}}let El=(()=>{var i;class e extends Fi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(ye))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();const wc=["alt","control","meta","shift"],Qs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cf={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let xl=(()=>{var i;class e extends Fi{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,o){const c=e.parseEventName(r),d=e.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,c.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=e._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),wc.forEach(b=>{const T=r.indexOf(b);T>-1&&(r.splice(T,1),d+=b+".")}),d+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=o,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let o=Qs[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(o=t.code,c="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),wc.forEach(d=>{d!==o&&(0,Cf[d])(t)&&(c+=d+".")}),c+=o,c===r)}static eventCallback(t,r,o){return c=>{e.matchEventFullKeyCode(c,t)&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(ye))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();const rs=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:yr},{provide:s.g9A,useValue:function rn(){Ra.makeCurrent()},multi:!0},{provide:ye,useFactory:function bc(){return(0,s.RDi)(document),document},deps:[]}]),Na=new s.OlP(""),zr=[{provide:s.rWj,useClass:class ch{addToWindow(e){s.dqk.getAngularTestability=(t,r=!0)=>{const o=e.findTestabilityInTree(t,r);if(null==o)throw new s.vHH(5103,!1);return o},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(t=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const d=function(f){c=c||f,o--,0==o&&t(c)};r.forEach(f=>{f.whenStable(d)})})}findTestabilityInTree(e,n,t){return null==n?null:e.getTestability(n)??(t?L().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Vo=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function hh(){return new s.qLn},deps:[]},{provide:Mn,useClass:El,multi:!0,deps:[ye,s.R0b,s.Lbi]},{provide:Mn,useClass:xl,multi:!0,deps:[ye]},yc,gc,vf,{provide:s.FYo,useExisting:yc},{provide:Pr,useClass:uh,deps:[]},[]];let Sl=(()=>{var i;class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:s.AFp,useValue:t.appId}]}}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(Na,12))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[...Vo,...zr],imports:[Ht,s.hGG]}),e})(),Js=(()=>{var i;class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(ye))},i.\u0275prov=s.Yz7({token:i,factory:function(t){let r=null;return r=t?new t:function Rr(){return new Js((0,s.LFG)(ye))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;class Fa{}class Ml{}const as="*";function ls(i,e){return{type:7,name:i,definitions:e,options:{}}}function Hn(i,e=null){return{type:4,styles:e,timings:i}}function Va(i,e=null){return{type:2,steps:i,options:e}}function oi(i){return{type:6,styles:i,offset:null}}function Ba(i,e,n){return{type:0,name:i,styles:e,options:n}}function ur(i,e,n=null){return{type:1,expr:i,animation:e,options:n}}function dr(i,e=null){return{type:8,animation:i,options:e}}function gh(i=null){return{type:9,options:i}}function Ms(i,e=null){return{type:10,animation:i,options:e}}function oa(i,e,n=null){return{type:11,selector:i,animation:e,options:n}}class Ua{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(t=>t()),n.length=0}}class Xs{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,t=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++n==o&&this._onFinish()}),c.onDestroy(()=>{++t==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(t=>{const r=t.totalTime?Math.min(1,n/t.totalTime):1;t.setPosition(r)})}getPosition(){const e=this.players.reduce((n,t)=>null===n||t.totalTime>n.totalTime?t:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(t=>t()),n.length=0}}function xc(i){return new s.vHH(3e3,!1)}function ja(i){switch(i.length){case 0:return new Ua;case 1:return i[0];default:return new Xs(i)}}function Nf(i,e,n=new Map,t=new Map){const r=[],o=[];let c=-1,d=null;if(e.forEach(f=>{const _=f.get("offset"),b=_==c,T=b&&d||new Map;f.forEach((M,R)=>{let B=R,K=M;if("offset"!==R)switch(B=i.normalizePropertyName(B,r),K){case"!":K=n.get(R);break;case as:K=t.get(R);break;default:K=i.normalizeStyleValue(R,B,K,r)}T.set(B,K)}),b||o.push(T),d=T,c=_}),r.length)throw function m_(i){return new s.vHH(3502,!1)}();return o}function ju(i,e,n,t){switch(e){case"start":i.onStart(()=>t(n&&Ho(n,"start",i)));break;case"done":i.onDone(()=>t(n&&Ho(n,"done",i)));break;case"destroy":i.onDestroy(()=>t(n&&Ho(n,"destroy",i)))}}function Ho(i,e,n){const o=qa(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,n.totalTime??i.totalTime,!!n.disabled),c=i._data;return null!=c&&(o._data=c),o}function qa(i,e,n,t,r="",o=0,c){return{element:i,triggerName:e,fromState:n,toState:t,phaseName:r,totalTime:o,disabled:!!c}}function hr(i,e,n){let t=i.get(e);return t||i.set(e,t=n),t}function Lf(i){const e=i.indexOf(":");return[i.substring(1,e),i.slice(e+1)]}const Ff=(()=>typeof document>"u"?null:document.documentElement)();function Ga(i){const e=i.parentNode||i.host||null;return e===Ff?null:e}let Rl=null,L0=!1;function F0(i,e){for(;e;){if(e===i)return!0;e=Ga(e)}return!1}function Vf(i,e,n){if(n)return Array.from(i.querySelectorAll(e));const t=i.querySelector(e);return t?[t]:[]}let Bf=(()=>{var i;class e{validateStyleProperty(t){return function II(i){Rl||(Rl=function y_(){return typeof document<"u"?document.body:null}()||{},L0=!!Rl.style&&"WebkitAppearance"in Rl.style);let e=!0;return Rl.style&&!function N0(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in Rl.style,!e&&L0&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Rl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return F0(t,r)}getParentElement(t){return Ga(t)}query(t,r,o){return Vf(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,c,d,f=[],_){return new Ua(o,c)}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})(),Uf=(()=>{class e{}return e.NOOP=new Bf,e})();const Mi=1e3,_h="ng-enter",Gr="ng-leave",aa="ng-trigger",Gu=".ng-trigger",Zu="ng-animating",Ol=".ng-animating";function zo(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:w_(parseFloat(e[1]),e[2])}function w_(i,e){return"s"===e?i*Mi:i}function Hf(i,e,n){return i.hasOwnProperty("duration")?i:function I(i,e,n){let r,o=0,c="";if("string"==typeof i){const d=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(xc()),{duration:0,delay:0,easing:""};r=w_(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(o=w_(parseFloat(f),d[4]));const _=d[5];_&&(c=_)}else r=i;if(!n){let d=!1,f=e.length;r<0&&(e.push(function p_(){return new s.vHH(3100,!1)}()),d=!0),o<0&&(e.push(function f_(){return new s.vHH(3101,!1)}()),d=!0),d&&e.splice(f,0,xc())}return{duration:r,delay:o,easing:c}}(i,e,n)}function y(i,e={}){return Object.keys(i).forEach(n=>{e[n]=i[n]}),e}function v(i){const e=new Map;return Object.keys(i).forEach(n=>{e.set(n,i[n])}),e}function H(i,e=new Map,n){if(n)for(let[t,r]of n)e.set(t,r);for(let[t,r]of i)e.set(t,r);return e}function le(i,e,n){e.forEach((t,r)=>{const o=Nl(r);n&&!n.has(r)&&n.set(r,i.style[o]),i.style[o]=t})}function He(i,e){e.forEach((n,t)=>{const r=Nl(t);i.style[r]=""})}function ht(i){return Array.isArray(i)?1==i.length?i[0]:Va(i):i}const Xt=new RegExp("{{\\s*(.+?)\\s*}}","g");function ei(i){let e=[];if("string"==typeof i){let n;for(;n=Xt.exec(i);)e.push(n[1]);Xt.lastIndex=0}return e}function Lr(i,e,n){const t=i.toString(),r=t.replace(Xt,(o,c)=>{let d=e[c];return null==d&&(n.push(function D(i){return new s.vHH(3003,!1)}()),d=""),d.toString()});return r==t?i:r}function cs(i){const e=[];let n=i.next();for(;!n.done;)e.push(n.value),n=i.next();return e}const yh=/-+([a-z0-9])/g;function Nl(i){return i.replace(yh,(...e)=>e[1].toUpperCase())}function Fr(i,e,n){switch(e.type){case 7:return i.visitTrigger(e,n);case 0:return i.visitState(e,n);case 1:return i.visitTransition(e,n);case 2:return i.visitSequence(e,n);case 3:return i.visitGroup(e,n);case 4:return i.visitAnimate(e,n);case 5:return i.visitKeyframes(e,n);case 6:return i.visitStyle(e,n);case 8:return i.visitReference(e,n);case 9:return i.visitAnimateChild(e,n);case 10:return i.visitAnimateRef(e,n);case 11:return i.visitQuery(e,n);case 12:return i.visitStagger(e,n);default:throw function A(i){return new s.vHH(3004,!1)}()}}function Wu(i,e){return window.getComputedStyle(i)[e]}const I_="*";function sO(i,e){const n=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(t=>function EI(i,e,n){if(":"==i[0]){const f=function ID(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,t)=>parseFloat(t)>parseFloat(n);case":decrement":return(n,t)=>parseFloat(t)<parseFloat(n);default:return e.push(function kl(i){return new s.vHH(3016,!1)}()),"* => *"}}(i,n);if("function"==typeof f)return void e.push(f);i=f}const t=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==t||t.length<4)return n.push(function Ha(i){return new s.vHH(3015,!1)}()),e;const r=t[1],o=t[2],c=t[3];e.push(xI(r,c));"<"==o[0]&&!(r==I_&&c==I_)&&e.push(xI(c,r))}(t,n,e)):n.push(i),n}const B0=new Set(["true","1"]),T_=new Set(["false","0"]);function xI(i,e){const n=B0.has(i)||T_.has(i),t=B0.has(e)||T_.has(e);return(r,o)=>{let c=i==I_||i==r,d=e==I_||e==o;return!c&&n&&"boolean"==typeof r&&(c=r?B0.has(i):T_.has(i)),!d&&t&&"boolean"==typeof o&&(d=o?B0.has(e):T_.has(e)),c&&d}}const E_=new RegExp("s*:selfs*,?","g");function x_(i,e,n,t){return new AI(i).build(e,n,t)}class AI{constructor(e){this._driver=e}build(e,n,t){const r=new aO(n);return this._resetContextStyleTimingState(r),Fr(this,ht(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let t=n.queryCount=0,r=n.depCount=0;const o=[],c=[];return"@"==e.name.charAt(0)&&n.errors.push(function W(){return new s.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(n),0==d.type){const f=d,_=f.name;_.toString().split(/\s*,\s*/).forEach(b=>{f.name=b,o.push(this.visitState(f,n))}),f.name=_}else if(1==d.type){const f=this.visitTransition(d,n);t+=f.queryCount,r+=f.depCount,c.push(f)}else n.errors.push(function se(){return new s.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:c,queryCount:t,depCount:r,options:null}}visitState(e,n){const t=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(t.containsDynamicStyles){const o=new Set,c=r||{};t.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{ei(f).forEach(_=>{c.hasOwnProperty(_)||o.add(_)})})}),o.size&&(cs(o.values()),n.errors.push(function we(i,e){return new s.vHH(3008,!1)}()))}return{type:0,name:e.name,style:t,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const t=Fr(this,ht(e.animation),n);return{type:1,matchers:sO(e.expr,n.errors),animation:t,queryCount:n.queryCount,depCount:n.depCount,options:Fl(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(t=>Fr(this,t,n)),options:Fl(e.options)}}visitGroup(e,n){const t=n.currentTime;let r=0;const o=e.steps.map(c=>{n.currentTime=t;const d=Fr(this,c,n);return r=Math.max(r,n.currentTime),d});return n.currentTime=r,{type:3,steps:o,options:Fl(e.options)}}visitAnimate(e,n){const t=function ED(i,e){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return kI(Hf(i,e).duration,0,"");const n=i;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=kI(0,0,"");return o.dynamic=!0,o.strValue=n,o}const r=Hf(n,e);return kI(r.duration,r.delay,r.easing)}(e.timings,n.errors);n.currentAnimateTimings=t;let r,o=e.styles?e.styles:oi({});if(5==o.type)r=this.visitKeyframes(o,n);else{let c=e.styles,d=!1;if(!c){d=!0;const _={};t.easing&&(_.easing=t.easing),c=oi(_)}n.currentTime+=t.duration+t.delay;const f=this.visitStyle(c,n);f.isEmptyStep=d,r=f}return n.currentAnimateTimings=null,{type:4,timings:t,style:r,options:null}}visitStyle(e,n){const t=this._makeStyleAst(e,n);return this._validateStyleAst(t,n),t}_makeStyleAst(e,n){const t=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===as?t.push(d):n.errors.push(new s.vHH(3002,!1)):t.push(v(d));let o=!1,c=null;return t.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!o))for(let f of d.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:t,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){const t=n.currentAnimateTimings;let r=n.currentTime,o=n.currentTime;t&&o>0&&(o-=t.duration+t.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,f)=>{const _=n.collectedStyles.get(n.currentQuerySelector),b=_.get(f);let T=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(n.errors.push(function Ct(i,e,n,t,r){return new s.vHH(3010,!1)}()),T=!1),o=b.startTime),T&&_.set(f,{startTime:o,endTime:r}),n.options&&function Dt(i,e,n){const t=e.params||{},r=ei(i);r.length&&r.forEach(o=>{t.hasOwnProperty(o)||n.push(function Sc(i){return new s.vHH(3001,!1)}())})}(d,n.options,n.errors)})})}visitKeyframes(e,n){const t={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function wt(){return new s.vHH(3011,!1)}()),t;let o=0;const c=[];let d=!1,f=!1,_=0;const b=e.steps.map(_e=>{const Ne=this._makeStyleAst(_e,n);let Ue=null!=Ne.offset?Ne.offset:function TD(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(n=>{if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const n=i;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(Ne.styles),Oe=0;return null!=Ue&&(o++,Oe=Ne.offset=Ue),f=f||Oe<0||Oe>1,d=d||Oe<_,_=Oe,c.push(Oe),Ne});f&&n.errors.push(function sn(){return new s.vHH(3012,!1)}()),d&&n.errors.push(function Bt(){return new s.vHH(3200,!1)}());const T=e.steps.length;let M=0;o>0&&o<T?n.errors.push(function Nr(){return new s.vHH(3202,!1)}()):0==o&&(M=1/(T-1));const R=T-1,B=n.currentTime,K=n.currentAnimateTimings,te=K.duration;return b.forEach((_e,Ne)=>{const Ue=M>0?Ne==R?1:M*Ne:c[Ne],Oe=Ue*te;n.currentTime=B+K.delay+Oe,K.duration=Oe,this._validateStyleAst(_e,n),_e.offset=Ue,t.styles.push(_e)}),t}visitReference(e,n){return{type:8,animation:Fr(this,ht(e.animation),n),options:Fl(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Fl(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Fl(e.options)}}visitQuery(e,n){const t=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;const[o,c]=function oO(i){const e=!!i.split(/\s*,\s*/).find(n=>":self"==n);return e&&(i=i.replace(E_,"")),i=i.replace(/@\*/g,Gu).replace(/@\w+/g,n=>Gu+"-"+n.slice(1)).replace(/:animating/g,Ol),[i,e]}(e.selector);n.currentQuerySelector=t.length?t+" "+o:o,hr(n.collectedStyles,n.currentQuerySelector,new Map);const d=Fr(this,ht(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=t,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:e.selector,options:Fl(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Ai(){return new s.vHH(3013,!1)}());const t="full"===e.timings?{duration:0,delay:0,easing:"full"}:Hf(e.timings,n.errors,!0);return{type:12,animation:Fr(this,ht(e.animation),n),timings:t,options:null}}}class aO{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fl(i){return i?(i=y(i)).params&&(i.params=function MI(i){return i?y(i):null}(i.params)):i={},i}function kI(i,e,n){return{duration:i,delay:e,easing:n}}function PI(i,e,n,t,r,o,c=null,d=!1){return{type:1,element:i,keyframes:e,preStyleProps:n,postStyleProps:t,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:d}}class bh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let t=this._map.get(e);t||this._map.set(e,t=[]),t.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const uO=new RegExp(":enter","g"),hO=new RegExp(":leave","g");function U0(i,e,n,t,r,o=new Map,c=new Map,d,f,_=[]){return(new S_).buildKeyframes(i,e,n,t,r,o,c,d,f,_)}class S_{buildKeyframes(e,n,t,r,o,c,d,f,_,b=[]){_=_||new bh;const T=new D_(e,n,_,r,o,b,[]);T.options=f;const M=f.delay?zo(f.delay):0;T.currentTimeline.delayNextStep(M),T.currentTimeline.setStyles([c],null,T.errors,f),Fr(this,t,T);const R=T.timelines.filter(B=>B.containsAnimation());if(R.length&&d.size){let B;for(let K=R.length-1;K>=0;K--){const te=R[K];if(te.element===n){B=te;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([d],null,T.errors,f)}return R.length?R.map(B=>B.buildKeyframes()):[PI(n,[],[],[],0,M,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const t=n.subInstructions.get(n.element);if(t){const r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,c=this._visitSubInstructions(t,r,r.options);o!=c&&n.transformIntoNewTimeline(c)}n.previousNode=e}visitAnimateRef(e,n){const t=n.createSubContext(e.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,t),this.visitReference(e.animation,t),n.transformIntoNewTimeline(t.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,t){for(const r of e){const o=r?.delay;if(o){const c="number"==typeof o?o:zo(Lr(o,r?.params??{},n.errors));t.delayNextStep(c)}}}_visitSubInstructions(e,n,t){let o=n.currentTimeline.currentTime;const c=null!=t.duration?zo(t.duration):null,d=null!=t.delay?zo(t.delay):null;return 0!==c&&e.forEach(f=>{const _=n.appendInstructionToTimeline(f,c,d);o=Math.max(o,_.duration+_.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Fr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const t=n.subContextCount;let r=n;const o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Yu);const c=zo(o.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Fr(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>t&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const t=[];let r=n.currentTimeline.currentTime;const o=e.options&&e.options.delay?zo(e.options.delay):0;e.steps.forEach(c=>{const d=n.createSubContext(e.options);o&&d.delayNextStep(o),Fr(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),t.push(d.currentTimeline)}),t.forEach(c=>n.currentTimeline.mergeTimelineCollectedStyles(c)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const t=e.strValue;return Hf(n.params?Lr(t,n.params,n.errors):t,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const t=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;t.delay&&(n.incrementTime(t.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(t.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const t=n.currentTimeline,r=n.currentAnimateTimings;!r&&t.hasCurrentStyleProperties()&&t.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?t.applyEmptyStep(o):t.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const t=n.currentAnimateTimings,r=n.currentTimeline.duration,o=t.duration,d=n.createSubContext().currentTimeline;d.easing=t.easing,e.styles.forEach(f=>{d.forwardTime((f.offset||0)*o),d.setStyles(f.styles,f.easing,n.errors,n.options),d.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(d),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){const t=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?zo(r.delay):0;o&&(6===n.previousNode.type||0==t&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Yu);let c=t;const d=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=d.length;let f=null;d.forEach((_,b)=>{n.currentQueryIndex=b;const T=n.createSubContext(e.options,_);o&&T.delayNextStep(o),_===n.element&&(f=T.currentTimeline),Fr(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(c),f&&(n.currentTimeline.mergeTimelineCollectedStyles(f),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const t=n.parentContext,r=n.currentTimeline,o=e.timings,c=Math.abs(o.duration),d=c*(n.currentQueryTotal-1);let f=c*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=d-f;break;case"full":f=t.currentStaggerTime}const b=n.currentTimeline;f&&b.delayNextStep(f);const T=b.currentTime;Fr(this,e.animation,n),n.previousNode=e,t.currentStaggerTime=r.currentTime-T+(r.startTime-t.currentTimeline.startTime)}}const Yu={};class D_{constructor(e,n,t,r,o,c,d,f){this._driver=e,this.element=n,this.subInstructions=t,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new jf(this._driver,n,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const t=e;let r=this.options;null!=t.duration&&(r.duration=zo(t.duration)),null!=t.delay&&(r.delay=zo(t.delay));const o=t.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(d=>{(!n||!c.hasOwnProperty(d))&&(c[d]=Lr(o[d],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const t=e.params={};Object.keys(n).forEach(r=>{t[r]=n[r]})}}return e}createSubContext(e=null,n,t){const r=n||this.element,o=new D_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,t||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Yu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,t){const r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(t??0)+e.delay,easing:""},o=new RI(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,t,r,o,c){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(uO,"."+this._enterClassName)).replace(hO,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=t);0!==t&&(_=t<0?_.slice(_.length+t,_.length):_.slice(0,t)),d.push(..._)}return!o&&0==d.length&&c.push(function Uo(i){return new s.vHH(3014,!1)}()),d}}class jf{constructor(e,n,t,r){this._driver=e,this.element=n,this.startTime=t,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new jf(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,t]of this._globalTimelineStyles)this._backFill.set(n,t||as),this._currentKeyframe.set(n,as);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,t,r){n&&this._previousKeyframe.set("easing",n);const o=r&&r.params||{},c=function OI(i,e){const n=new Map;let t;return i.forEach(r=>{if("*"===r){t=t||e.keys();for(let o of t)n.set(o,as)}else H(r,n)}),n}(e,this._globalTimelineStyles);for(let[d,f]of c){const _=Lr(f,o,t);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??as),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,t)=>{const r=this._styleSummary.get(t);(!r||n.time>r.time)&&this._updateStyle(t,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,t=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const _=H(d,new Map,this._backFill);_.forEach((b,T)=>{"!"===b?e.add(T):b===as&&n.add(T)}),t||_.set("offset",f/this.duration),r.push(_)});const o=e.size?cs(e.values()):[],c=n.size?cs(n.values()):[];if(t){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return PI(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class RI extends jf{constructor(e,n,t,r,o,c,d=!1){super(e,n,c.delay),this.keyframes=t,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:t,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],c=t+n,d=n/c,f=H(e[0]);f.set("offset",0),o.push(f);const _=H(e[0]);_.set("offset",Ku(d)),o.push(_);const b=e.length-1;for(let T=1;T<=b;T++){let M=H(e[T]);const R=M.get("offset");M.set("offset",Ku((n+R*t)/c)),o.push(M)}t=c,n=0,r="",e=o}return PI(this.element,e,this.preStyleProps,this.postStyleProps,t,n,r,!0)}}function Ku(i,e=3){const n=Math.pow(10,e-1);return Math.round(i*n)/n}class Ch{}const A_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class SD extends Ch{normalizePropertyName(e,n){return Nl(e)}normalizeStyleValue(e,n,t,r){let o="";const c=t.toString().trim();if(A_.has(n)&&0!==t&&"0"!==t)if("number"==typeof t)o="px";else{const d=t.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function O(i,e){return new s.vHH(3005,!1)}())}return c+o}}function NI(i,e,n,t,r,o,c,d,f,_,b,T,M){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:t,toStyles:c,timelines:d,queriedElements:f,preStyleProps:_,postStyleProps:b,totalTime:T,errors:M}}const z0={};class j0{constructor(e,n,t){this._triggerName=e,this.ast=n,this._stateStyles=t}match(e,n,t,r){return function DD(i,e,n,t,r){return i.some(o=>o(e,n,t,r))}(this.ast.matchers,e,n,t,r)}buildStyles(e,n,t){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,t):new Map}build(e,n,t,r,o,c,d,f,_,b){const T=[],M=this.ast.options&&this.ast.options.params||z0,B=this.buildStyles(t,d&&d.params||z0,T),K=f&&f.params||z0,te=this.buildStyles(r,K,T),_e=new Set,Ne=new Map,Ue=new Map,Oe="void"===r,it={params:AD(K,M),delay:this.ast.options?.delay},pt=b?[]:U0(e,n,this.ast.animation,o,c,B,te,it,_,T);let Ot=0;if(pt.forEach(Si=>{Ot=Math.max(Si.duration+Si.delay,Ot)}),T.length)return NI(n,this._triggerName,t,r,Oe,B,te,[],[],Ne,Ue,Ot,T);pt.forEach(Si=>{const rr=Si.element,hl=hr(Ne,rr,new Set);Si.preStyleProps.forEach(pl=>hl.add(pl));const $d=hr(Ue,rr,new Set);Si.postStyleProps.forEach(pl=>$d.add(pl)),rr!==n&&_e.add(rr)});const Qn=cs(_e.values());return NI(n,this._triggerName,t,r,Oe,B,te,pt,Qn,Ne,Ue,Ot)}}function AD(i,e){const n=y(e);for(const t in i)i.hasOwnProperty(t)&&null!=i[t]&&(n[t]=i[t]);return n}class MD{constructor(e,n,t){this.styles=e,this.defaultParams=n,this.normalizer=t}buildStyles(e,n){const t=new Map,r=y(this.defaultParams);return Object.keys(e).forEach(o=>{const c=e[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,d)=>{c&&(c=Lr(c,r,n));const f=this.normalizer.normalizePropertyName(d,n);c=this.normalizer.normalizeStyleValue(d,f,c,n),t.set(d,c)})}),t}}class kD{constructor(e,n,t){this.name=e,this.ast=n,this._normalizer=t,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new MD(r.style,r.options&&r.options.params||{},t))}),Ps(this.states,"true","1"),Ps(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new j0(e,r,this.states))}),this.fallbackTransition=function PD(i,e,n){return new j0(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,t,r){return this.transitionFactories.find(c=>c.match(e,n,t,r))||null}matchStyles(e,n,t){return this.fallbackTransition.buildStyles(e,n,t)}}function Ps(i,e,n){i.has(e)?i.has(n)||i.set(n,i.get(e)):i.has(n)&&i.set(e,i.get(n))}const q0=new bh;class VI{constructor(e,n,t){this.bodyNode=e,this._driver=n,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const t=[],o=x_(this._driver,n,t,[]);if(t.length)throw function P0(i){return new s.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,n,t){const r=e.element,o=Nf(this._normalizer,e.keyframes,n,t);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,t={}){const r=[],o=this._animations.get(e);let c;const d=new Map;if(o?(c=U0(this._driver,n,o,_h,Gr,new Map,new Map,t,q0,r),c.forEach(b=>{const T=hr(d,b.element,new Map);b.postStyleProps.forEach(M=>T.set(M,null))})):(r.push(function Dc(){return new s.vHH(3300,!1)}()),c=[]),r.length)throw function Pl(i){return new s.vHH(3504,!1)}();d.forEach((b,T)=>{b.forEach((M,R)=>{b.set(R,this._driver.computeStyle(T,R,as))})});const _=ja(c.map(b=>{const T=d.get(b.element);return this._buildPlayer(b,new Map,T)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const t=this.players.indexOf(n);t>=0&&this.players.splice(t,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function R0(i){return new s.vHH(3301,!1)}();return n}listen(e,n,t,r){const o=qa(n,"","","");return ju(this._getPlayer(e),t,o,r),()=>{}}command(e,n,t,r){if("register"==t)return void this.register(e,r[0]);if("create"==t)return void this.create(e,n,r[0]||{});const o=this._getPlayer(e);switch(t){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const M_="ng-animate-queued",Qu="ng-animate-disabled",HI=[],zI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},la="__ng_removed";class k_{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const t=e&&e.hasOwnProperty("value");if(this.value=function OD(i){return i??null}(t?e.value:e),t){const o=y(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const t=this.options.params;Object.keys(n).forEach(r=>{null==t[r]&&(t[r]=n[r])})}}}const qf="void",G0=new k_(qf);class Z0{constructor(e,n,t){this.id=e,this.hostElement=n,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rs(n,this._hostClassName)}listen(e,n,t,r){if(!this._triggers.has(n))throw function Rf(i,e){return new s.vHH(3302,!1)}();if(null==t||0==t.length)throw function g_(i){return new s.vHH(3303,!1)}();if(!function qI(i){return"start"==i||"done"==i}(t))throw function za(i,e){return new s.vHH(3400,!1)}();const o=hr(this._elementListeners,e,[]),c={name:n,phase:t,callback:r};o.push(c);const d=hr(this._engine.statesByElement,e,new Map);return d.has(n)||(Rs(e,aa),Rs(e,aa+"-"+n),d.set(n,G0)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(c);f>=0&&o.splice(f,1),this._triggers.has(n)||d.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function O0(i){return new s.vHH(3401,!1)}();return n}trigger(e,n,t,r=!0){const o=this._getTrigger(n),c=new W0(this.id,n,e);let d=this._engine.statesByElement.get(e);d||(Rs(e,aa),Rs(e,aa+"-"+n),this._engine.statesByElement.set(e,d=new Map));let f=d.get(n);const _=new k_(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&f&&_.absorbOptions(f.options),d.set(n,_),f||(f=G0),_.value!==qf&&f.value===_.value){if(!function ND(i,e){const n=Object.keys(i),t=Object.keys(e);if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(!e.hasOwnProperty(o)||i[o]!==e[o])return!1}return!0}(f.params,_.params)){const K=[],te=o.matchStyles(f.value,f.params,K),_e=o.matchStyles(_.value,_.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{He(e,te),le(e,_e)})}return}const M=hr(this._engine.playersByElement,e,[]);M.forEach(K=>{K.namespaceId==this.id&&K.triggerName==n&&K.queued&&K.destroy()});let R=o.matchTransition(f.value,_.value,e,_.params),B=!1;if(!R){if(!r)return;R=o.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:R,fromState:f,toState:_,player:c,isFallbackTransition:B}),B||(Rs(e,M_),c.onStart(()=>{Xu(e,M_)})),c.onDone(()=>{let K=this.players.indexOf(c);K>=0&&this.players.splice(K,1);const te=this._engine.playersByElement.get(e);if(te){let _e=te.indexOf(c);_e>=0&&te.splice(_e,1)}}),this.players.push(c),M.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,t)=>{this._elementListeners.set(t,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(t=>t.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const t=this._engine.driver.query(e,Gu,!0);t.forEach(r=>{if(r[la])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,t,r){const o=this._engine.statesByElement.get(e),c=new Map;if(o){const d=[];if(o.forEach((f,_)=>{if(c.set(_,f.value),this._triggers.has(_)){const b=this.trigger(e,_,qf,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,c),t&&ja(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),t=this._engine.statesByElement.get(e);if(n&&t){const r=new Set;n.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const f=this._triggers.get(c).fallbackTransition,_=t.get(c)||G0,b=new k_(qf),T=new W0(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:f,fromState:_,toState:b,player:T,isFallbackTransition:!0})})}}removeNode(e,n){const t=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(t.totalAnimations){const o=t.players.length?t.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(t.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)t.markElementAsRemoved(this.id,e,!1,n);else{const o=e[la];(!o||o===zI)&&(t.afterFlush(()=>this.clearElementCache(e)),t.destroyInnerAnimations(e),t._onRemovalComplete(e,n))}}insertNode(e,n){Rs(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(t=>{const r=t.player;if(r.destroyed)return;const o=t.element,c=this._elementListeners.get(o);c&&c.forEach(d=>{if(d.name==t.triggerName){const f=qa(o,t.triggerName,t.fromState.value,t.toState.value);f._data=e,ju(t.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(t)}),this._queue=[],n.sort((t,r)=>{const o=t.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(t.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class $0{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,t){this.bodyNode=e,this.driver=n,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,n){const t=new Z0(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(t,n):(this.newHostElements.set(n,t),this.collectEnterElement(n)),this._namespaceLookup[e]=t}_balanceNamespaceList(e,n){const t=this._namespaceList,r=this.namespacesByHostElement;if(t.length-1>=0){let c=!1,d=this.driver.getParentElement(n);for(;d;){const f=r.get(d);if(f){const _=t.indexOf(f);t.splice(_+1,0,e),c=!0;break}d=this.driver.getParentElement(d)}c||t.unshift(e)}else t.push(e);return r.set(n,e),e}register(e,n){let t=this._namespaceLookup[e];return t||(t=this.createNamespace(e,n)),t}registerTrigger(e,n,t){let r=this._namespaceLookup[e];r&&r.register(n,t)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const t=this._fetchNamespace(e);this.namespacesByHostElement.delete(t.hostElement);const r=this._namespaceList.indexOf(t);r>=0&&this._namespaceList.splice(r,1),t.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,t=this.statesByElement.get(e);if(t)for(let r of t.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}return n}trigger(e,n,t,r){if(P_(n)){const o=this._fetchNamespace(e);if(o)return o.trigger(n,t,r),!0}return!1}insertNode(e,n,t,r){if(!P_(n))return;const o=n[la];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(n);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(n,t)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rs(e,Qu)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xu(e,Qu))}removeNode(e,n,t){if(P_(n)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(n,t):this.markElementAsRemoved(e,n,!1,t);const o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,t)}else this._onRemovalComplete(n,t)}markElementAsRemoved(e,n,t,r,o){this.collectedLeaveElements.push(n),n[la]={namespaceId:e,setForRemoval:r,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,t,r,o){return P_(n)?this._fetchNamespace(e).listen(n,t,r,o):()=>{}}_buildInstruction(e,n,t,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,t,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,Gu,!0);n.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,Ol,!0),n.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ja(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[la];if(n&&n.setForRemoval){if(e[la]=zI,n.namespaceId){this.destroyInnerAnimations(e);const t=this._fetchNamespace(n.namespaceId);t&&t.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Qu)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,r)=>this._balanceNamespaceList(t,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++)Rs(this.collectedEnterElements[t],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const t=[];try{n=this._flushAnimations(t,e)}finally{for(let r=0;r<t.length;r++)t[r]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++)this.processLeaveNode(this.collectedLeaveElements[t]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],n.length?ja(n).onDone(()=>{t.forEach(r=>r())}):t.forEach(r=>r())}}reportError(e){throw function qr(i){return new s.vHH(3402,!1)}()}_flushAnimations(e,n){const t=new bh,r=[],o=new Map,c=[],d=new Map,f=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(It=>{b.add(It);const Pt=this.driver.query(It,".ng-animate-queued",!0);for(let Wt=0;Wt<Pt.length;Wt++)b.add(Pt[Wt])});const T=this.bodyNode,M=Array.from(this.statesByElement.keys()),R=Ju(M,this.collectedEnterElements),B=new Map;let K=0;R.forEach((It,Pt)=>{const Wt=_h+K++;B.set(Pt,Wt),It.forEach(un=>Rs(un,Wt))});const te=[],_e=new Set,Ne=new Set;for(let It=0;It<this.collectedLeaveElements.length;It++){const Pt=this.collectedLeaveElements[It],Wt=Pt[la];Wt&&Wt.setForRemoval&&(te.push(Pt),_e.add(Pt),Wt.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(un=>_e.add(un)):Ne.add(Pt))}const Ue=new Map,Oe=Ju(M,Array.from(_e));Oe.forEach((It,Pt)=>{const Wt=Gr+K++;Ue.set(Pt,Wt),It.forEach(un=>Rs(un,Wt))}),e.push(()=>{R.forEach((It,Pt)=>{const Wt=B.get(Pt);It.forEach(un=>Xu(un,Wt))}),Oe.forEach((It,Pt)=>{const Wt=Ue.get(Pt);It.forEach(un=>Xu(un,Wt))}),te.forEach(It=>{this.processLeaveNode(It)})});const it=[],pt=[];for(let It=this._namespaceList.length-1;It>=0;It--)this._namespaceList[It].drainQueuedTransitions(n).forEach(Wt=>{const un=Wt.player,Ri=Wt.element;if(it.push(un),this.collectedEnterElements.length){const oo=Ri[la];if(oo&&oo.setForMove){if(oo.previousTriggersValues&&oo.previousTriggersValues.has(Wt.triggerName)){const n_=oo.previousTriggersValues.get(Wt.triggerName),fl=this.statesByElement.get(Wt.element);if(fl&&fl.has(Wt.triggerName)){const wD=fl.get(Wt.triggerName);wD.value=n_,fl.set(Wt.triggerName,wD)}}return void un.destroy()}}const fu=!T||!this.driver.containsElement(T,Ri),Ia=Ue.get(Ri),sf=B.get(Ri),sr=this._buildInstruction(Wt,t,sf,Ia,fu);if(sr.errors&&sr.errors.length)return void pt.push(sr);if(fu)return un.onStart(()=>He(Ri,sr.fromStyles)),un.onDestroy(()=>le(Ri,sr.toStyles)),void r.push(un);if(Wt.isFallbackTransition)return un.onStart(()=>He(Ri,sr.fromStyles)),un.onDestroy(()=>le(Ri,sr.toStyles)),void r.push(un);const L8=[];sr.timelines.forEach(oo=>{oo.stretchStartingKeyframe=!0,this.disabledNodes.has(oo.element)||L8.push(oo)}),sr.timelines=L8,t.append(Ri,sr.timelines),c.push({instruction:sr,player:un,element:Ri}),sr.queriedElements.forEach(oo=>hr(d,oo,[]).push(un)),sr.preStyleProps.forEach((oo,n_)=>{if(oo.size){let fl=f.get(n_);fl||f.set(n_,fl=new Set),oo.forEach((wD,rO)=>fl.add(rO))}}),sr.postStyleProps.forEach((oo,n_)=>{let fl=_.get(n_);fl||_.set(n_,fl=new Set),oo.forEach((wD,rO)=>fl.add(rO))})});if(pt.length){const It=[];pt.forEach(Pt=>{It.push(function __(i,e){return new s.vHH(3505,!1)}())}),it.forEach(Pt=>Pt.destroy()),this.reportError(It)}const Ot=new Map,Qn=new Map;c.forEach(It=>{const Pt=It.element;t.has(Pt)&&(Qn.set(Pt,Pt),this._beforeAnimationBuild(It.player.namespaceId,It.instruction,Ot))}),r.forEach(It=>{const Pt=It.element;this._getPreviousPlayers(Pt,!1,It.namespaceId,It.triggerName,null).forEach(un=>{hr(Ot,Pt,[]).push(un),un.destroy()})});const Si=te.filter(It=>ZI(It,f,_)),rr=new Map;K0(rr,this.driver,Ne,_,as).forEach(It=>{ZI(It,f,_)&&Si.push(It)});const $d=new Map;R.forEach((It,Pt)=>{K0($d,this.driver,new Set(It),f,"!")}),Si.forEach(It=>{const Pt=rr.get(It),Wt=$d.get(It);rr.set(It,new Map([...Pt?.entries()??[],...Wt?.entries()??[]]))});const pl=[],wI=[],vD={};c.forEach(It=>{const{element:Pt,player:Wt,instruction:un}=It;if(t.has(Pt)){if(b.has(Pt))return Wt.onDestroy(()=>le(Pt,un.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(un.totalTime),void r.push(Wt);let Ri=vD;if(Qn.size>1){let Ia=Pt;const sf=[];for(;Ia=Ia.parentNode;){const sr=Qn.get(Ia);if(sr){Ri=sr;break}sf.push(Ia)}sf.forEach(sr=>Qn.set(sr,Ri))}const fu=this._buildAnimation(Wt.namespaceId,un,Ot,o,$d,rr);if(Wt.setRealPlayer(fu),Ri===vD)pl.push(Wt);else{const Ia=this.playersByElement.get(Ri);Ia&&Ia.length&&(Wt.parentPlayer=ja(Ia)),r.push(Wt)}}else He(Pt,un.fromStyles),Wt.onDestroy(()=>le(Pt,un.toStyles)),wI.push(Wt),b.has(Pt)&&r.push(Wt)}),wI.forEach(It=>{const Pt=o.get(It.element);if(Pt&&Pt.length){const Wt=ja(Pt);It.setRealPlayer(Wt)}}),r.forEach(It=>{It.parentPlayer?It.syncPlayerEvents(It.parentPlayer):It.destroy()});for(let It=0;It<te.length;It++){const Pt=te[It],Wt=Pt[la];if(Xu(Pt,Gr),Wt&&Wt.hasAnimation)continue;let un=[];if(d.size){let fu=d.get(Pt);fu&&fu.length&&un.push(...fu);let Ia=this.driver.query(Pt,Ol,!0);for(let sf=0;sf<Ia.length;sf++){let sr=d.get(Ia[sf]);sr&&sr.length&&un.push(...sr)}}const Ri=un.filter(fu=>!fu.destroyed);Ri.length?Q0(this,Pt,Ri):this.processLeaveNode(Pt)}return te.length=0,pl.forEach(It=>{this.players.push(It),It.onDone(()=>{It.destroy();const Pt=this.players.indexOf(It);this.players.splice(Pt,1)}),It.play()}),pl}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,t,r,o){let c=[];if(n){const d=this.playersByQueriedElement.get(e);d&&(c=d)}else{const d=this.playersByElement.get(e);if(d){const f=!o||o==qf;d.forEach(_=>{_.queued||!f&&_.triggerName!=r||c.push(_)})}}return(t||r)&&(c=c.filter(d=>!(t&&t!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(e,n,t){const o=n.element,c=n.isRemovalTransition?void 0:e,d=n.isRemovalTransition?void 0:n.triggerName;for(const f of n.timelines){const _=f.element,b=_!==o,T=hr(t,_,[]);this._getPreviousPlayers(_,b,c,d,n.toState).forEach(R=>{const B=R.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),R.destroy(),T.push(R)})}He(o,n.fromStyles)}_buildAnimation(e,n,t,r,o,c){const d=n.triggerName,f=n.element,_=[],b=new Set,T=new Set,M=n.timelines.map(B=>{const K=B.element;b.add(K);const te=K[la];if(te&&te.removedBeforeQueried)return new Ua(B.duration,B.delay);const _e=K!==f,Ne=function R_(i){const e=[];return GI(i,e),e}((t.get(K)||HI).map(Ot=>Ot.getRealPlayer())).filter(Ot=>!!Ot.element&&Ot.element===K),Ue=o.get(K),Oe=c.get(K),it=Nf(this._normalizer,B.keyframes,Ue,Oe),pt=this._buildPlayer(B,it,Ne);if(B.subTimeline&&r&&T.add(K),_e){const Ot=new W0(e,d,K);Ot.setRealPlayer(pt),_.push(Ot)}return pt});_.forEach(B=>{hr(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function Gf(i,e,n){let t=i.get(e);if(t){if(t.length){const r=t.indexOf(n);t.splice(r,1)}0==t.length&&i.delete(e)}return t}(this.playersByQueriedElement,B.element,B))}),b.forEach(B=>Rs(B,Zu));const R=ja(M);return R.onDestroy(()=>{b.forEach(B=>Xu(B,Zu)),le(f,n.toStyles)}),T.forEach(B=>{hr(r,B,[]).push(R)}),R}_buildPlayer(e,n,t){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,t):new Ua(e.duration,e.delay)}}class W0{constructor(e,n,t){this.namespaceId=e,this.triggerName=n,this.element=t,this._player=new Ua,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,t)=>{n.forEach(r=>ju(e,t,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){hr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function P_(i){return i&&1===i.nodeType}function Y0(i,e){const n=i.style.display;return i.style.display=e??"none",n}function K0(i,e,n,t,r){const o=[];n.forEach(f=>o.push(Y0(f)));const c=[];t.forEach((f,_)=>{const b=new Map;f.forEach(T=>{const M=e.computeStyle(_,T,r);b.set(T,M),(!M||0==M.length)&&(_[la]=jI,c.push(_))}),i.set(_,b)});let d=0;return n.forEach(f=>Y0(f,o[d++])),c}function Ju(i,e){const n=new Map;if(i.forEach(d=>n.set(d,[])),0==e.length)return n;const r=new Set(e),o=new Map;function c(d){if(!d)return 1;let f=o.get(d);if(f)return f;const _=d.parentNode;return f=n.has(_)?_:r.has(_)?1:c(_),o.set(d,f),f}return e.forEach(d=>{const f=c(d);1!==f&&n.get(f).push(d)}),n}function Rs(i,e){i.classList?.add(e)}function Xu(i,e){i.classList?.remove(e)}function Q0(i,e,n){ja(n).onDone(()=>i.processLeaveNode(e))}function GI(i,e){for(let n=0;n<i.length;n++){const t=i[n];t instanceof Xs?GI(t.players,e):e.push(t)}}function ZI(i,e,n){const t=n.get(i);if(!t)return!1;let r=e.get(i);return r?t.forEach(o=>r.add(o)):e.set(i,t),n.delete(i),!0}class O_{constructor(e,n,t){this.bodyNode=e,this._driver=n,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new $0(e,n,t),this._timelineEngine=new VI(e,n,t),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,t,r,o){const c=e+"-"+r;let d=this._triggerCache[c];if(!d){const f=[],b=x_(this._driver,o,f,[]);if(f.length)throw function zu(i,e){return new s.vHH(3404,!1)}();d=function FI(i,e,n){return new kD(i,e,n)}(r,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(n,r,d)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,t,r){this._transitionEngine.insertNode(e,n,t,r)}onRemove(e,n,t){this._transitionEngine.removeNode(e,n,t)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,t,r){if("@"==t.charAt(0)){const[o,c]=Lf(t);this._timelineEngine.command(o,n,c,r)}else this._transitionEngine.trigger(e,n,t,r)}listen(e,n,t,r,o){if("@"==t.charAt(0)){const[c,d]=Lf(t);return this._timelineEngine.listen(c,n,d,o)}return this._transitionEngine.listen(e,n,t,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let FD=(()=>{class e{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let c=e.initialStylesByElement.get(t);c||e.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&le(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(le(this._element,this._initialStyles),this._endStyles&&(le(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(He(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(He(this._element,this._endStyles),this._endStyles=null),le(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function N_(i){let e=null;return i.forEach((n,t)=>{(function L_(i){return"display"===i||"position"===i})(t)&&(e=e||new Map,e.set(t,n))}),e}class F_{constructor(e,n,t,r){this.element=e,this.keyframes=n,this.options=t,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(t=>{n.push(Object.fromEntries(t))}),n}_triggerWebAnimation(e,n,t){return e.animate(this._convertKeyframesToObject(n),t)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,r)=>{"offset"!==r&&e.set(r,this._finished?t:Wu(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(t=>t()),n.length=0}}class J0{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return F0(e,n)}getParentElement(e){return Ga(e)}query(e,n,t){return Vf(e,n,t)}computeStyle(e,n,t){return window.getComputedStyle(e)[n]}animate(e,n,t,r,o,c=[]){const f={duration:t,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const _=new Map,b=c.filter(R=>R instanceof F_);(function $u(i,e){return 0===i||0===e})(t,r)&&b.forEach(R=>{R.currentSnapshot.forEach((B,K)=>_.set(K,B))});let T=function E(i){return i.length?i[0]instanceof Map?i:i.map(e=>v(e)):[]}(n).map(R=>H(R));T=function C_(i,e,n){if(n.size&&e.length){let t=e[0],r=[];if(n.forEach((o,c)=>{t.has(c)||r.push(c),t.set(c,o)}),r.length)for(let o=1;o<e.length;o++){let c=e[o];r.forEach(d=>c.set(d,Wu(i,d)))}}return e}(e,T,_);const M=function LD(i,e){let n=null,t=null;return Array.isArray(e)&&e.length?(n=N_(e[0]),e.length>1&&(t=N_(e[e.length-1]))):e instanceof Map&&(n=N_(e)),n||t?new FD(i,n,t):null}(e,T);return new F_(e,T,f,M)}}let VD=(()=>{var i;class e extends Fa{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?Va(t):t;return e1(this._renderer,null,r,"register",[o]),new BD(r,this._renderer)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(s.FYo),s.LFG(ye))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();class BD extends Ml{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new X0(this._id,e,n||{},this._renderer)}}class X0{constructor(e,n,t,r){this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",t)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return e1(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function e1(i,e,n,t,r){return i.setProperty(e,`@@${n}:${t}`,r)}const t1="@.disabled";let $I=(()=>{var i;class e{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(c,d)=>{const f=d?.parentNode(c);f&&d.removeChild(f,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(c);return T||(T=new WI("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,T)),T}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(d,f,t,T.name,T)};return r.data.animation.forEach(_),new pO(this,f,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[d,f]=c;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(s.FYo),s.LFG(O_),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();class WI{constructor(e,n,t,r){this.namespaceId=e,this.delegate=n,this.engine=t,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,t,r=!0){this.delegate.insertBefore(e,n,t),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,t){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,t,r){this.delegate.setAttribute(e,n,t,r)}removeAttribute(e,n,t){this.delegate.removeAttribute(e,n,t)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,t,r){this.delegate.setStyle(e,n,t,r)}removeStyle(e,n,t){this.delegate.removeStyle(e,n,t)}setProperty(e,n,t){"@"==n.charAt(0)&&n==t1?this.disableAnimations(e,!!t):this.delegate.setProperty(e,n,t)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,t){return this.delegate.listen(e,n,t)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class pO extends WI{constructor(e,n,t,r,o){super(n,t,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,t){"@"==n.charAt(0)?"."==n.charAt(1)&&n==t1?this.disableAnimations(e,t=void 0===t||!!t):this.engine.process(this.namespaceId,e,n.slice(1),t):this.delegate.setProperty(e,n,t)}listen(e,n,t){if("@"==n.charAt(0)){const r=function V_(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let o=n.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function UD(i){const e=i.indexOf(".");return[i.substring(0,e),i.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,t,d)})}return this.delegate.listen(e,n,t)}}let YI=(()=>{var i;class e extends O_{constructor(t,r,o,c){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(ye),s.LFG(Uf),s.LFG(Ch),s.LFG(s.z2F))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();const B_=[{provide:Fa,useClass:VD},{provide:Ch,useFactory:function KI(){return new SD}},{provide:O_,useClass:YI},{provide:s.FYo,useFactory:function QI(i,e,n){return new $I(i,e,n)},deps:[yc,O_,s.R0b]}],U_=[{provide:Uf,useFactory:()=>new J0},{provide:s.QbO,useValue:"BrowserAnimations"},...B_],Zf=[{provide:Uf,useClass:Bf},{provide:s.QbO,useValue:"NoopAnimations"},...B_];let $f=(()=>{var i;class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?Zf:U_}}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:U_,imports:[Sl]}),e})();var Wn=U(2459),Os=U(5592);const{isArray:Wf}=Array,{getPrototypeOf:zD,prototype:XI,keys:jD}=Object;function eT(i){if(1===i.length){const e=i[0];if(Wf(e))return{args:e,keys:null};if(function qD(i){return i&&"object"==typeof i&&zD(i)===XI}(e)){const n=jD(e);return{args:n.map(t=>e[t]),keys:n}}}return{args:i,keys:null}}var Ih=U(4829),ed=U(9940),Qi=U(8251),zt=U(7398);const{isArray:Th}=Array;function tT(i){return(0,zt.U)(e=>function GD(i,e){return Th(e)?i(...e):i(e)}(i,e))}function ZD(i,e){return i.reduce((n,t,r)=>(n[t]=e[r],n),{})}let H_=(()=>{var i;class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(s.Qsj),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i}),e})(),td=(()=>{var i;class e extends H_{}return(i=e).\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,features:[s.qOj]}),e})();const Ui=new s.OlP("NgValueAccessor"),nT={provide:Ui,useExisting:(0,s.Gpc)(()=>Yf),multi:!0},rT=new s.OlP("CompositionEventMode");let Yf=(()=>{var i;class e extends H_{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iT(){const i=L()?L().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(rT,8))},i.\u0275dir=s.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[s._Bn([nT]),s.qOj]}),e})();const ds=new s.OlP("NgValidators"),kc=new s.OlP("NgAsyncValidators");function YD(i){return function Mc(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}(i.value)?{required:!0}:null}function q_(i){return null}function aT(i){return null!=i}function lT(i){return(0,s.QGY)(i)?(0,Wn.D)(i):i}function cT(i){let e={};return i.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function G_(i,e){return e.map(n=>n(i))}function xh(i){return i.map(e=>function Vl(i){return!i.validate}(e)?e:n=>e.validate(n))}function Z_(i){return null!=i?function s1(i){if(!i)return null;const e=i.filter(aT);return 0==e.length?null:function(n){return cT(G_(n,e))}}(xh(i)):null}function uT(i){return null!=i?function o1(i){if(!i)return null;const e=i.filter(aT);return 0==e.length?null:function(n){return function $D(...i){const e=(0,ed.jO)(i),{args:n,keys:t}=eT(i),r=new Os.y(o=>{const{length:c}=n;if(!c)return void o.complete();const d=new Array(c);let f=c,_=c;for(let b=0;b<c;b++){let T=!1;(0,Ih.Xf)(n[b]).subscribe((0,Qi.x)(o,M=>{T||(T=!0,_--),d[b]=M},()=>f--,void 0,()=>{(!f||!T)&&(_||o.next(t?ZD(t,d):d),o.complete())}))}});return e?r.pipe(tT(e)):r}(G_(n,e).map(lT)).pipe((0,zt.U)(cT))}}(xh(i)):null}function eA(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function tA(i){return i._rawValidators}function $_(i){return i._rawAsyncValidators}function Kf(i){return i?Array.isArray(i)?i:[i]:[]}function a1(i,e){return Array.isArray(i)?i.includes(e):i===e}function nA(i,e){const n=Kf(e);return Kf(i).forEach(r=>{a1(n,r)||n.push(r)}),n}function l1(i,e){return Kf(e).filter(n=>!a1(i,n))}class dT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Z_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ns extends dT{get formDirective(){return null}get path(){return null}}class $a extends dT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hT{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let u1=(()=>{var i;class e extends hT{constructor(t){super(t)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36($a,2))},i.\u0275dir=s.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),e})(),W_=(()=>{var i;class e extends hT{constructor(t){super(t)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(Ns,10))},i.\u0275dir=s.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[s.qOj]}),e})();const Dh="VALID",Ah="INVALID",Pc="PENDING",Qf="DISABLED";function K_(i){return(kh(i)?i.validators:i)||null}function Mh(i,e){return(kh(e)?e.asyncValidators:i)||null}function kh(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function mT(i,e,n){const t=i.controls;if(!(e?Object.keys(t):t).length)throw new s.vHH(1e3,"");if(!t[n])throw new s.vHH(1001,"")}function Q_(i,e,n){i._forEachChild((t,r)=>{if(void 0===n[r])throw new s.vHH(1002,"")})}class Jf{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Dh}get invalid(){return this.status===Ah}get pending(){return this.status==Pc}get disabled(){return this.status===Qf}get enabled(){return this.status!==Qf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(l1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(l1(e,this._rawAsyncValidators))}hasValidator(e){return a1(this._rawValidators,e)}hasAsyncValidator(e){return a1(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Qf,this.errors=null,this._forEachChild(t=>{t.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Dh,this._forEachChild(t=>{t.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dh||this.status===Pc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qf:Dh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pc,this._hasOwnPendingAsyncValidator=!0;const n=lT(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((t,r)=>t&&t._find(r),this)}getError(e,n){const t=n?this.get(n):this;return t&&t.errors?t.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Qf:this.errors?Ah:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pc)?Pc:this._anyControlsHaveStatus(Ah)?Ah:Dh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fT(i){return Array.isArray(i)?Z_(i):i||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function vO(i){return Array.isArray(i)?uT(i):i||null}(this._rawAsyncValidators)}}class Ph extends Jf{constructor(e,n,t){super(K_(n),Mh(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,t={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Q_(this,0,e),Object.keys(e).forEach(t=>{mT(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(t=>{const r=this.controls[t];r&&r.patchValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((t,r)=>{t.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,t)=>(e[t]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,t)=>!!t._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const t=this.controls[n];t&&e(t,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,t]of Object.entries(this.controls))if(this.contains(n)&&e(t))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,t,r)=>((t.enabled||this.disabled)&&(n[r]=t.value),n))}_reduceChildren(e,n){let t=e;return this._forEachChild((r,o)=>{t=n(t,r,o)}),t}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class J_ extends Ph{}const id=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>rd}),rd="always";function sd(i,e){return[...e.path,i]}function eo(i,e,n=rd){m1(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(i.disabled),function Nh(i,e){e.valueAccessor.registerOnChange(n=>{i._pendingValue=n,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&gT(i,e)})}(i,e),function cA(i,e){const n=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};i.registerOnChange(n),e._registerOnDestroy(()=>{i._unregisterOnChange(n)})}(i,e),function lA(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&gT(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function aA(i,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(n),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(n)})}}(i,e)}function od(i,e,n=!0){const t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),Xf(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Oh(i,e){i.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function m1(i,e){const n=tA(i);null!==e.validator?i.setValidators(eA(n,e.validator)):"function"==typeof n&&i.setValidators([n]);const t=$_(i);null!==e.asyncValidator?i.setAsyncValidators(eA(t,e.asyncValidator)):"function"==typeof t&&i.setAsyncValidators([t]);const r=()=>i.updateValueAndValidity();Oh(e._rawValidators,r),Oh(e._rawAsyncValidators,r)}function Xf(i,e){let n=!1;if(null!==i){if(null!==e.validator){const r=tA(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==e.validator);o.length!==r.length&&(n=!0,i.setValidators(o))}}if(null!==e.asyncValidator){const r=$_(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(c=>c!==e.asyncValidator);o.length!==r.length&&(n=!0,i.setAsyncValidators(o))}}}const t=()=>{};return Oh(e._rawValidators,t),Oh(e._rawAsyncValidators,t),n}function gT(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function g1(i,e){if(!i.hasOwnProperty("model"))return!1;const n=i.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function vT(i,e){if(!e)return null;let n,t,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Yf?n=o:function uA(i){return Object.getPrototypeOf(i.constructor)===td}(o)?t=o:r=o}),r||t||n||null}function ty(i,e){const n=i.indexOf(e);n>-1&&i.splice(n,1)}function ny(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const Ul=class extends Jf{constructor(e=null,n,t){super(K_(n),Mh(t,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=ny(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ty(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ty(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ny(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},IT={provide:$a,useExisting:(0,s.Gpc)(()=>im)},TT=(()=>Promise.resolve())();let im=(()=>{var i;class e extends $a{constructor(t,r,o,c,d,f){super(),this._changeDetectorRef=d,this.callSetDisabledState=f,this.control=new Ul,this._registered=!1,this.name="",this.update=new s.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=vT(0,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),g1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){TT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,s.VuI)(r);TT.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?sd(t,this._parent):[t]}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(Ns,9),s.Y36(ds,10),s.Y36(kc,10),s.Y36(Ui,10),s.Y36(s.sBO,8),s.Y36(id,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([IT]),s.qOj,s.TTD]}),e})(),iy=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275dir=s.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),ST=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),e})();const rm=new s.OlP("NgModelWithFormControlWarning"),AT={provide:Ns,useExisting:(0,s.Gpc)(()=>ay)};let ay=(()=>{var i;class e extends Ns{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return eo(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){od(t.control||null,t,!1),function ey(i,e){const n=i.indexOf(e);n>-1&&i.splice(n,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function dA(i,e){i._syncPendingControls(),e.forEach(n=>{const t=n.control;"submit"===t.updateOn&&t._pendingChange&&(n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(od(r||null,t),(i=>i instanceof Ul)(o)&&(eo(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function X_(i,e){m1(i,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function _T(i,e){return Xf(i,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){m1(this.form,this),this._oldForm&&Xf(this._oldForm,this)}_checkFormPresent(){}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(ds,10),s.Y36(kc,10),s.Y36(id,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([AT]),s.qOj,s.TTD]}),e})();const Fh={provide:$a,useExisting:(0,s.Gpc)(()=>ld)};let ld=(()=>{var i;class e extends $a{set isDisabled(t){}constructor(t,r,o,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=vT(0,c)}ngOnChanges(t){this._added||this._setUpControl(),g1(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return sd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(i=e)._ngModelWarningSentOnce=!1,i.\u0275fac=function(t){return new(t||i)(s.Y36(Ns,13),s.Y36(ds,10),s.Y36(kc,10),s.Y36(Ui,10),s.Y36(rm,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Fh]),s.qOj,s.TTD]}),e})(),Oc=(()=>{var i;class e{constructor(){this._validator=q_}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):q_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275dir=s.lG2({type:i,features:[s.TTD]}),e})();const TO={provide:ds,useExisting:(0,s.Gpc)(()=>om),multi:!0};let om=(()=>{var i;class e extends Oc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.VuI,this.createValidator=t=>YD}enabled(t){return t}}return(i=e).\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275dir=s.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([TO]),s.qOj]}),e})(),D1=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[ST]}),e})();class cy extends Jf{constructor(e,n,t){super(K_(n),Mh(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,t={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,n={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Q_(this,0,e),e.forEach((t,r)=>{mT(this,!1,r),this.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((t,r)=>{this.at(r)&&this.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((t,r)=>{t.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,t)=>!!t._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,t)=>{e(n,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function CA(i){return!!i&&(void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn)}let A1=(()=>{var i;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let c={};return CA(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new Ph(o,c)}record(t,r=null){const o=this._reduceControls(t);return new J_(o,r)}control(t,r,o){let c={};return this.useNonNullable?(CA(r)?c=r:(c.validators=r,c.asyncValidators=o),new Ul(t,{...c,nonNullable:!0})):new Ul(t,r,o)}array(t,r,o){const c=t.map(d=>this._createControl(d));return new cy(c,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Ul||t instanceof Jf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})(),cm=(()=>{var i;class e{static withConfig(t){return{ngModule:e,providers:[{provide:id,useValue:t.callSetDisabledState??rd}]}}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[D1]}),e})(),TA=(()=>{var i;class e{static withConfig(t){return{ngModule:e,providers:[{provide:rm,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:id,useValue:t.callSetDisabledState??rd}]}}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[D1]}),e})();var Cr=U(6304),pr=U(8645),kt=U(2096),dy=U(3019),k1=U(3093),Ji=U(4664),SO=U(4552);class DO extends pr.x{constructor(e=1/0,n=1/0,t=SO.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:t,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;n||(t.push(e),!r&&t.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:t,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!e.closed;c+=t?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:t,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<t.length&&t.splice(0,t.length-o),!r){const c=n.now();let d=0;for(let f=1;f<t.length&&t[f]<=c;f+=2)d=f;d&&t.splice(0,d+1)}}}var P1=U(3020);function R1(i,e,n){let t,r=!1;return i&&"object"==typeof i?({bufferSize:t=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=i):t=i??1/0,(0,P1.B)({connector:()=>new DO(t,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const um=(0,U(2306).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var Ir=U(9360);function to(i,e){return(0,Ir.e)((n,t)=>{let r=0;n.subscribe((0,Qi.x)(t,o=>i.call(e,o,r++)&&t.next(o)))})}var Hl=U(6232);function cd(i){return i<=0?()=>Hl.E:(0,Ir.e)((e,n)=>{let t=0;e.subscribe((0,Qi.x)(n,r=>{++t<=i&&(n.next(r),i<=t&&n.complete())}))})}function Yt(i){return(0,Ir.e)((e,n)=>{let t=!1;e.subscribe((0,Qi.x)(n,r=>{t=!0,n.next(r)},()=>{t||n.next(i),n.complete()}))})}function O1(i=zT){return(0,Ir.e)((e,n)=>{let t=!1;e.subscribe((0,Qi.x)(n,r=>{t=!0,n.next(r)},()=>t?n.complete():n.error(i())))})}function zT(){return new um}var Ya=U(2737);function zl(i,e){const n=arguments.length>=2;return t=>t.pipe(i?to((r,o)=>i(r,o,t)):Ya.y,cd(1),n?Yt(e):O1(()=>new um))}var dm=U(4674);function hm(i,e){return(0,dm.m)(e)?(0,Ji.w)(()=>i,e):(0,Ji.w)(()=>i)}var Nc=U(5137),In=U(2994);U(3182);var Ae=U(5861),ti=U(4303),ca=U(4537),z=U(9058),Ka=U(7879);const fm=new Map,F1={activated:!1,tokenObservers:[]},MA={initialized:!1,enabled:!1};function Zr(i){return fm.get(i)||Object.assign({},F1)}function mm(){return MA}const V1="https://content-firebaseappcheck.googleapis.com/v1",RA="exchangeDebugToken",GT={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class NA{constructor(e,n,t,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=t,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,Ae.Z)(function*(){n.stop();try{n.pending=new z.BH,yield function LA(i){return new Promise(e=>{setTimeout(e,i)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new z.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(t){n.retryPolicy(t)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const $r=new z.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Uh(){return(Uh=(0,Ae.Z)(function*({url:i,body:e},n){const t={"Content-Type":"application/json"},r=n.getImmediate({optional:!0});if(r){const T=yield r.getHeartbeatsHeader();T&&(t["X-Firebase-Client"]=T)}const o={method:"POST",body:JSON.stringify(e),headers:t};let c,d;try{c=yield fetch(i,o)}catch(T){throw $r.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==c.status)throw $r.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(T){throw $r.create("fetch-parse-error",{originalErrorMessage:T?.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw $r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const _=1e3*Number(f[1]),b=Date.now();return{token:d.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}})).apply(this,arguments)}const $T="firebase-app-check-database",WT=1,Hh="firebase-app-check-store";let qo=null;function zh(){return(zh=(0,Ae.Z)(function*(i,e){const t=(yield function YT(){return qo||(qo=new Promise((i,e)=>{try{const n=indexedDB.open($T,WT);n.onsuccess=t=>{i(t.target.result)},n.onerror=t=>{var r;e($r.create("storage-open",{originalErrorMessage:null===(r=t.target.error)||void 0===r?void 0:r.message}))},n.onupgradeneeded=t=>{0===t.oldVersion&&t.target.result.createObjectStore(Hh,{keyPath:"compositeKey"})}}catch(n){e($r.create("storage-open",{originalErrorMessage:n?.message}))}}),qo)}()).transaction(Hh,"readwrite"),o=t.objectStore(Hh).put({compositeKey:i,value:e});return new Promise((c,d)=>{o.onsuccess=f=>{c()},t.onerror=f=>{var _;d($r.create("storage-set",{originalErrorMessage:null===(_=f.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const _m=new Ka.Yd("@firebase/app-check");function G1(i,e){return(0,z.hl)()?function j1(i,e){return function q1(i,e){return zh.apply(this,arguments)}(function BA(i){return`${i.options.appId}-${i.name}`}(i),e)}(i,e).catch(n=>{_m.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function $1(){return($1=(0,Ae.Z)(function*(){const i=mm();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const XT={error:"UNKNOWN_ERROR"};function HA(i){return z.US.encodeString(JSON.stringify(i),!1)}function yy(i){return ud.apply(this,arguments)}function ud(){return(ud=(0,Ae.Z)(function*(i,e=!1){const n=i.app;!function U1(i){if(!Zr(i).activated)throw $r.create("use-before-activation",{appName:i.name})}(n);const t=Zr(n);let o,r=t.token;if(r&&!Zh(r)&&(t.token=void 0,r=void 0),!r){const f=yield t.cachedTokenPromise;f&&(Zh(f)?r=f:yield G1(n,void 0))}if(!e&&r&&Zh(r))return{token:r.token};let d,c=!1;if(function Z1(){return mm().enabled}()){t.exchangeTokenPromise||(t.exchangeTokenPromise=function fy(i,e){return Uh.apply(this,arguments)}(function ZT(i,e){const{projectId:n,appId:t,apiKey:r}=i.options;return{url:`${V1}/projects/${n}/apps/${t}:${RA}?key=${r}`,body:{debug_token:e}}}(n,yield function Gh(){return $1.apply(this,arguments)}()),i.heartbeatServiceProvider).finally(()=>{t.exchangeTokenPromise=void 0}),c=!0);const f=yield t.exchangeTokenPromise;return yield G1(n,f),t.token=f,{token:f.token}}try{t.exchangeTokenPromise||(t.exchangeTokenPromise=t.provider.getToken().finally(()=>{t.exchangeTokenPromise=void 0}),c=!0),r=yield Zr(n).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?_m.warn(f.message):_m.error(f),o=f}return r?o?d=Zh(r)?{token:r.token,internalError:o}:nE(o):(d={token:r.token},t.token=r,yield G1(n,r)):d=nE(o),c&&function tE(i,e){const n=Zr(i).tokenObservers;for(const t of n)try{"EXTERNAL"===t.type&&null!=e.error?t.error(e.error):t.next(e)}catch{}}(n,d),d})).apply(this,arguments)}function Y1(i,e){const n=Zr(i),t=n.tokenObservers.filter(r=>r.next!==e);0===t.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=t}function eE(i){const{app:e}=i,n=Zr(e);let t=n.tokenRefresher;t||(t=function zA(i){const{app:e}=i;return new NA((0,Ae.Z)(function*(){let t;if(t=Zr(e).token?yield yy(i,!0):yield yy(i),t.error)throw t.error;if(t.internalError)throw t.internalError}),()=>!0,()=>{const n=Zr(e);if(n.token){let t=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,n.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},GT.RETRIAL_MIN_WAIT,GT.RETRIAL_MAX_WAIT)}(i),n.tokenRefresher=t),!t.isRunning()&&n.isTokenAutoRefreshEnabled&&t.start()}function Zh(i){return i.expireTimeMillis-Date.now()>0}function nE(i){return{token:HA(XT),error:i}}class jA{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Zr(this.app);for(const n of e)Y1(this.app,n.next);return Promise.resolve()}}const vm="app-check-internal";!function Go(){(0,ti._registerComponent)(new ca.wA("app-check",i=>function iE(i,e){return new jA(i,e)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,e,n)=>{i.getProvider(vm).initialize()})),(0,ti._registerComponent)(new ca.wA(vm,i=>function K1(i){return{getToken:e=>yy(i,e),addTokenListener:e=>function W1(i,e,n,t){const{app:r}=i,o=Zr(r);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:t,type:e}],o.token&&Zh(o.token)){const d=o.token;Promise.resolve().then(()=>{n({token:d.token}),eE(i)}).catch(()=>{})}o.cachedTokenPromise.then(()=>eE(i))}(i,"INTERNAL",e),removeTokenListener:e=>Y1(i.app,e)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ti.registerVersion)("@firebase/app-check","0.6.1")}();class Ja{constructor(){return(0,In.vb)("app-check")}}typeof window<"u"&&window;var Im=U(7142);const tw=new s.OlP("angularfire2.auth.use-emulator"),cE=new s.OlP("angularfire2.auth.settings"),uE=new s.OlP("angularfire2.auth.tenant-id"),nw=new s.OlP("angularfire2.auth.langugage-code"),iw=new s.OlP("angularfire2.auth.use-device-language"),dE=new s.OlP("angularfire.auth.persistence"),rw=(i,e,n,t,r,o,c,d)=>(0,Cr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const f=e.runOutsideAngular(()=>i.auth());if(n&&f.useEmulator(...n),t&&(f.tenantId=t),f.languageCode=r,o&&f.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))f.settings[_]=b;return d&&f.setPersistence(d),f},[n,t,r,o,c,d]);let Iy=(()=>{class i{constructor(n,t,r,o,c,d,f,_,b,T,M,R){const B=new pr.x,K=(0,kt.of)(void 0).pipe((0,k1.Q)(c.outsideAngular),(0,Ji.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,6365)))),(0,zt.U)(()=>(0,Cr.on)(n,o,t)),(0,zt.U)(te=>rw(te,o,d,_,b,T,f,M)),R1({bufferSize:1,refCount:!1}));if(Ts(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,kt.of)(null);else{K.pipe(zl()).subscribe();const _e=K.pipe((0,Ji.w)(Oe=>Oe.getRedirectResult().then(it=>it,()=>null)),In.iC,R1({bufferSize:1,refCount:!1})),Ne=K.pipe((0,Ji.w)(Oe=>new Os.y(it=>({unsubscribe:o.runOutsideAngular(()=>Oe.onAuthStateChanged(pt=>it.next(pt),pt=>it.error(pt),()=>it.complete()))})))),Ue=K.pipe((0,Ji.w)(Oe=>new Os.y(it=>({unsubscribe:o.runOutsideAngular(()=>Oe.onIdTokenChanged(pt=>it.next(pt),pt=>it.error(pt),()=>it.complete()))}))));this.authState=_e.pipe(hm(Ne),(0,Nc.R)(c.outsideAngular),(0,k1.Q)(c.insideAngular)),this.user=_e.pipe(hm(Ue),(0,Nc.R)(c.outsideAngular),(0,k1.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,Ji.w)(Oe=>Oe?(0,Wn.D)(Oe.getIdToken()):(0,kt.of)(null))),this.idTokenResult=this.user.pipe((0,Ji.w)(Oe=>Oe?(0,Wn.D)(Oe.getIdTokenResult()):(0,kt.of)(null))),this.credential=(0,dy.T)(_e,B,this.authState.pipe(to(Oe=>!Oe))).pipe((0,zt.U)(Oe=>Oe?.user?Oe:null),(0,Nc.R)(c.outsideAngular),(0,k1.Q)(c.insideAngular))}return(0,Cr.pX)(this,K,o,{spy:{apply:(te,_e,Ne)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Ne.then(Ue=>B.next(Ue))}}})}}return i.\u0275fac=function(n){return new(n||i)(s.LFG(Cr.Dh),s.LFG(Cr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(In.HU),s.LFG(tw,8),s.LFG(cE,8),s.LFG(uE,8),s.LFG(nw,8),s.LFG(iw,8),s.LFG(dE,8),s.LFG(Ja,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),rM=(()=>{class i{constructor(){Im.Z.registerVersion("angularfire",In.q4.full,"auth-compat")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Iy]}),i})();var Tm=U(6321),Em=U(3106);const Kh="firebasestorage.googleapis.com",Ty="storageBucket";class Ci extends z.ZR{constructor(e,n,t=0){super(sw(e),`Firebase Storage: ${n} (${sw(e)})`),this.status_=t,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ci.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function sw(i){return"storage/"+i}function pd(){return new Ci("unknown","An unknown error occurred, please check the error payload for server response.")}function Sm(){return new Ci("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Dm(){return new Ci("canceled","User canceled the upload/download.")}function xy(){return new Ci("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Qh(i){return new Ci("invalid-argument",i)}function aw(){return new Ci("app-deleted","The Firebase app was deleted.")}function lw(i){return new Ci("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jh(i,e){return new Ci("invalid-format","String does not match format '"+i+"': "+e)}function Am(i){throw new Ci("internal-error","Internal error: "+i)}class hs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let t;try{t=hs.makeFromUrl(e,n)}catch{return new hs(e,"")}if(""===t.path)return t;throw function uM(i){return new Ci("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(e)}static makeFromUrl(e,n){let t=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(Oe){Oe.path_=decodeURIComponent(Oe.path)}const T=n.replace(/[.]/g,"\\."),Ue=[{regex:d,indices:{bucket:1,path:3},postModify:function o(Oe){"/"===Oe.path.charAt(Oe.path.length-1)&&(Oe.path_=Oe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${n===Kh?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Oe=0;Oe<Ue.length;Oe++){const it=Ue[Oe],pt=it.regex.exec(e);if(pt){let Qn=pt[it.indices.path];Qn||(Qn=""),t=new hs(pt[it.indices.bucket],Qn),it.postModify(t);break}}if(null==t)throw function UO(i){return new Ci("invalid-url","Invalid URL '"+i+"'.")}(e);return t}}class fM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function fd(i){return"string"==typeof i||i instanceof String}function Dy(i){return Ay()&&i instanceof Blob}function Ay(){return typeof Blob<"u"&&!(0,z.UG)()}function dw(i,e,n,t){if(t<e)throw Qh(`Invalid value for '${i}'. Expected ${e} or greater.`);if(t>n)throw Qh(`Invalid value for '${i}'. Expected ${n} or less.`)}function ql(i,e,n){let t=e;return null==n&&(t=`https://${e}`),`${n}://${t}/v0${i}`}function mE(i){const e=encodeURIComponent;let n="?";for(const t in i)i.hasOwnProperty(t)&&(n=n+(e(t)+"=")+e(i[t])+"&");return n=n.slice(0,-1),n}var Gl=function(i){return i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT",i}(Gl||{});function Mm(i,e){const n=i>=500&&i<600,r=-1!==[408,429].indexOf(i),o=-1!==e.indexOf(i);return n||r||o}class hw{constructor(e,n,t,r,o,c,d,f,_,b,T,M=!0){this.url_=e,this.method_=n,this.headers_=t,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=T,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,B)=>{this.resolve_=R,this.reject_=B,this.start_()})}start_(){const n=(t,r)=>{const o=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function uw(i){return void 0!==i}(f)?o():o(f)}catch(f){c(f)}else if(null!==d){const f=pd();f.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,f):f)}else c(r.canceled?this.appDelete_?aw():Dm():Sm())};this.canceled_?n(0,new km(!1,null,!0)):this.backoffId_=function fE(i,e,n){let t=1,r=null,o=null,c=!1,d=0;function f(){return 2===d}let _=!1;function b(...te){_||(_=!0,e.apply(null,te))}function T(te){r=setTimeout(()=>{r=null,i(R,f())},te)}function M(){o&&clearTimeout(o)}function R(te,..._e){if(_)return void M();if(te)return M(),void b.call(null,te,..._e);if(f()||c)return M(),void b.call(null,te,..._e);let Ue;t<64&&(t*=2),1===d?(d=2,Ue=0):Ue=1e3*(t+Math.random()),T(Ue)}let B=!1;function K(te){B||(B=!0,M(),!_&&(null!==r?(te||(d=2),clearTimeout(r),T(0)):te||(d=1)))}return T(0),o=setTimeout(()=>{c=!0,K(!0)},n),K}((t,r)=>{if(r)return void t(!1,new km(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Gl.NO_ERROR,f=o.getStatus();if(!d||Mm(f,this.additionalRetryCodes_)&&this.retry){const b=o.getErrorCode()===Gl.ABORT;return void t(!1,new km(!1,null,b))}const _=-1!==this.successCodes_.indexOf(f);t(!0,new km(_,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function cw(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class km{constructor(e,n,t){this.wasSuccessCode=e,this.connection=n,this.canceled=!!t}}function yE(...i){const e=function fw(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let t=0;t<i.length;t++)n.append(i[t]);return n.getBlob()}if(Ay())return new Blob(i);throw new Ci("unsupported-environment","This browser doesn't seem to support creating Blobs")}const no={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class My{constructor(e,n){this.data=e,this.contentType=n||null}}function ky(i,e){switch(i){case no.RAW:return new My(wE(e));case no.BASE64:case no.BASE64URL:return new My(mw(i,e));case no.DATA_URL:return new My(function _w(i){const e=new gw(i);return e.base64?mw(no.BASE64,e.rest):function bE(i){let e;try{e=decodeURIComponent(i)}catch{throw Jh(no.DATA_URL,"Malformed data URL.")}return wE(e)}(e.rest)}(e),function CE(i){return new gw(i).contentType}(e))}throw pd()}function wE(i){const e=[];for(let n=0;n<i.length;n++){let t=i.charCodeAt(n);t<=127?e.push(t):t<=2047?e.push(192|t>>6,128|63&t):55296==(64512&t)?n<i.length-1&&56320==(64512&i.charCodeAt(n+1))?(t=65536|(1023&t)<<10|1023&i.charCodeAt(++n),e.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|63&t)):e.push(239,191,189):56320==(64512&t)?e.push(239,191,189):e.push(224|t>>12,128|t>>6&63,128|63&t)}return new Uint8Array(e)}function mw(i,e){switch(i){case no.BASE64:{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw Jh(i,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case no.BASE64URL:{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw Jh(i,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function vE(i){if(typeof atob>"u")throw function pM(i){return new Ci("unsupported-environment",`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(i)}(e)}catch(r){throw r.message.includes("polyfill")?r:Jh(i,"Invalid character found")}const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}class gw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw Jh(no.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const t=n[1]||null;null!=t&&(this.base64=function IE(i,e){return i.length>=e.length&&i.substring(i.length-e.length)===e}(t,";base64"),this.contentType=this.base64?t.substring(0,t.length-7):t),this.rest=e.substring(e.indexOf(",")+1)}}class ua{constructor(e,n){let t=0,r="";Dy(e)?(this.data_=e,t=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),t=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),t=e.length),this.size_=t,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(Dy(this.data_)){const r=function yM(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}(this.data_,e,n);return null===r?null:new ua(r)}{const t=new Uint8Array(this.data_.buffer,e,n-e);return new ua(t,!0)}}static getBlob(...e){if(Ay()){const n=e.map(t=>t instanceof ua?t.data_:t);return new ua(yE.apply(null,n))}{const n=e.map(c=>fd(c)?ky(no.RAW,c).data:c.data_);let t=0;n.forEach(c=>{t+=c.byteLength});const r=new Uint8Array(t);let o=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)r[o++]=c[d]}),new ua(r,!0)}}uploadData(){return this.data_}}function Py(i){let e;try{e=JSON.parse(i)}catch{return null}return function Sy(i){return"object"==typeof i&&!Array.isArray(i)}(e)?e:null}function yw(i){const e=i.lastIndexOf("/",i.length-2);return-1===e?i:i.slice(e+1)}function xE(i,e){return e}class Vr{constructor(e,n,t,r){this.server=e,this.local=n||e,this.writable=!!t,this.xform=r||xE}}let da=null;function Pm(){if(da)return da;const i=[];i.push(new Vr("bucket")),i.push(new Vr("generation")),i.push(new Vr("metageneration")),i.push(new Vr("name","fullPath",!0));const n=new Vr("name");n.xform=function e(o,c){return function vM(i){return!fd(i)||i.length<2?i:yw(i)}(c)},i.push(n);const r=new Vr("size");return r.xform=function t(o,c){return void 0!==c?Number(c):c},i.push(r),i.push(new Vr("timeCreated")),i.push(new Vr("updated")),i.push(new Vr("md5Hash",null,!0)),i.push(new Vr("cacheControl",null,!0)),i.push(new Vr("contentDisposition",null,!0)),i.push(new Vr("contentEncoding",null,!0)),i.push(new Vr("contentLanguage",null,!0)),i.push(new Vr("contentType",null,!0)),i.push(new Vr("metadata","customMetadata",!0)),da=i,da}function Ry(i,e,n){const t=Py(e);return null===t?null:function md(i,e,n){const t={type:"file"},r=n.length;for(let o=0;o<r;o++){const c=n[o];t[c.local]=c.xform(t,e[c.server])}return function vw(i,e){Object.defineProperty(i,"ref",{get:function n(){const o=new hs(i.bucket,i.fullPath);return e._makeStorageReference(o)}})}(t,i),t}(i,t,n)}function Rm(i,e){const n={},t=e.length;for(let r=0;r<t;r++){const o=e[r];o.writable&&(n[o.server]=i[o.local])}return JSON.stringify(n)}const bM="prefixes",CM="items";class ha{constructor(e,n,t,r){this.url=e,this.method=n,this.handler=t,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xa(i){if(!i)throw pd()}function Hi(i,e){return function n(t,r){const o=Ry(i,r,e);return Xa(null!==o),o}}function Xh(i){return function e(n,t){let r;return r=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function cM(){return new Ci("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function lM(){return new Ci("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function aM(i){return new Ci("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===n.getStatus()?function ow(i){return new Ci("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):t,r.status=n.getStatus(),r.serverResponse=t.serverResponse,r}}function ep(i){const e=Xh(i);return function n(t,r){let o=e(t,r);return 404===t.getStatus()&&(o=function oM(i){return new Ci("object-not-found","Object '"+i+"' does not exist.")}(i.path)),o.serverResponse=r.serverResponse,o}}function DE(i,e,n){const r=ql(e.fullServerUrl(),i.host,i._protocol),c=i.maxOperationRetryTime,d=new ha(r,"GET",Hi(i,n),c);return d.errorHandler=ep(e),d}function AE(i,e,n,t,r){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),t&&(o.pageToken=t),r&&(o.maxResults=r);const d=ql(e.bucketOnlyServerUrl(),i.host,i._protocol),_=i.maxOperationRetryTime,b=new ha(d,"GET",function SE(i,e){return function n(t,r){const o=function TM(i,e,n){const t=Py(n);return null===t?null:function IM(i,e,n){const t={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[bM])for(const r of n[bM]){const o=r.replace(/\/$/,""),c=i._makeStorageReference(new hs(e,o));t.prefixes.push(c)}if(n[CM])for(const r of n[CM]){const o=i._makeStorageReference(new hs(e,r.name));t.items.push(o)}return t}(i,e,t)}(i,e,r);return Xa(null!==o),o}}(i,e.bucket),_);return b.urlParams=o,b.errorHandler=Xh(e),b}function kE(i,e,n){const t=Object.assign({},n);return t.fullPath=i.path,t.size=e.size(),t.contentType||(t.contentType=function ME(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}(null,e)),t}class Cw{constructor(e,n,t,r){this.current=e,this.total=n,this.finalized=!!t,this.metadata=r||null}}function Om(i,e){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{Xa(!1)}return Xa(!!n&&-1!==(e||["active"]).indexOf(n)),n}const el={STATE_CHANGED:"state_changed"},pi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function po(i){switch(i){case"running":case"pausing":case"canceling":return pi.RUNNING;case"paused":return pi.PAUSED;case"success":return pi.SUCCESS;case"canceled":return pi.CANCELED;default:return pi.ERROR}}class OE{constructor(e,n,t){if(function mM(i){return"function"==typeof i}(e)||null!=n||null!=t)this.next=e,this.error=n??void 0,this.complete=t??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function gd(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}let NE=null;class DM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,t,r){if(this.sent_)throw Am("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==t?this.xhr_.send(t):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Am("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Am("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Am("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Am("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class AM extends DM{initXhr(){this.xhr_.responseType="text"}}function fa(){return NE?NE():new AM}class FE{constructor(e,n,t=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=t,this._mappings=Pm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(Mm(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=Sm()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,t])=>{switch(this._state){case"running":e(n,t);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const t=function Iw(i,e,n,t,r){const o=e.bucketOnlyServerUrl(),c=kE(e,t,r),d={name:c.fullPath},f=ql(o,i.host,i._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=Rm(c,n),B=new ha(f,"POST",function R(K){let te;Om(K);try{te=K.getResponseHeader("X-Goog-Upload-URL")}catch{Xa(!1)}return Xa(fd(te)),te},i.maxUploadRetryTime);return B.urlParams=d,B.headers=b,B.body=T,B.errorHandler=Xh(e),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(t,fa,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,t)=>{const r=function pa(i,e,n,t){const f=new ha(n,"POST",function o(_){const b=Om(_,["active","final"]);let T=null;try{T=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xa(!1)}T||Xa(!1);const M=Number(T);return Xa(!isNaN(M)),new Cw(M,t.size(),"final"===b)},i.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=Xh(e),f}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,fa,n,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new Cw(this._transferred,this._blob.size()),t=this._uploadUrl;this._resolveToken((r,o)=>{let c;try{c=function RE(i,e,n,t,r,o,c,d){const f=new Cw(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=t.size()),t.size()!==f.total)throw function hM(){return new Ci("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=f.total-f.current;let b=_;r>0&&(b=Math.min(b,r));const T=f.current;let R="";R=0===b?"finalize":_===b?"upload, finalize":"upload";const B={"X-Goog-Upload-Command":R,"X-Goog-Upload-Offset":`${f.current}`},K=t.slice(T,T+b);if(null===K)throw xy();const Ue=new ha(n,"POST",function te(Oe,it){const pt=Om(Oe,["active","final"]),Ot=f.current+b,Qn=t.size();let Si;return Si="final"===pt?Hi(e,o)(Oe,it):null,new Cw(Ot,Qn,"final"===pt,Si)},e.maxUploadRetryTime);return Ue.headers=B,Ue.body=K.uploadData(),Ue.progressCallback=d||null,Ue.errorHandler=Xh(i),Ue}(this._ref._location,this._ref.storage,t,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(c,fa,r,o,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const t=DE(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(t,fa,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const t=function bw(i,e,n,t,r){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let Ue="";for(let Oe=0;Oe<2;Oe++)Ue+=Math.random().toString().slice(2);return Ue}();c["Content-Type"]="multipart/related; boundary="+f;const _=kE(e,t,r),b=Rm(_,n),R=ua.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+f+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",t,"\r\n--"+f+"--");if(null===R)throw xy();const B={name:_.fullPath},K=ql(o,i.host,i._protocol),_e=i.maxUploadRetryTime,Ne=new ha(K,"POST",Hi(i,n),_e);return Ne.urlParams=B,Ne.headers=c,Ne.body=R.uploadData(),Ne.errorHandler=Xh(e),Ne}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(t,fa,e,n);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Dm(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=po(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,t,r){const o=new OE(n||void 0,t||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(po(this._state)){case pi.SUCCESS:gd(this._resolve.bind(null,this.snapshot))();break;case pi.CANCELED:case pi.ERROR:gd(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(po(this._state)){case pi.RUNNING:case pi.PAUSED:e.next&&gd(e.next.bind(e,this.snapshot))();break;case pi.SUCCESS:e.complete&&gd(e.complete.bind(e))();break;default:e.error&&gd(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class _d{constructor(e,n){this._service=e,this._location=n instanceof hs?n:hs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _d(e,n)}get root(){const e=new hs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yw(this._location.path)}get storage(){return this._service}get parent(){const e=function TE(i){if(0===i.length)return null;const e=i.lastIndexOf("/");return-1===e?"":i.slice(0,e)}(this._location.path);if(null===e)return null;const n=new hs(this._location.bucket,e);return new _d(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw lw(e)}}function Ew(i,e,n){return xw.apply(this,arguments)}function xw(){return(xw=(0,Ae.Z)(function*(i,e,n){const r=yield zE(i,{pageToken:n});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield Ew(i,e,r.nextPageToken))})).apply(this,arguments)}function zE(i,e){null!=e&&"number"==typeof e.maxResults&&dw("options.maxResults",1,1e3,e.maxResults);const n=e||{},t=AE(i.storage,i._location,"/",n.pageToken,n.maxResults);return i.storage.makeRequestWithTokens(t,fa)}function Dw(i){i._throwIfRoot("getDownloadURL");const e=function tp(i,e,n){const r=ql(e.fullServerUrl(),i.host,i._protocol),c=i.maxOperationRetryTime,d=new ha(r,"GET",function EM(i,e){return function n(t,r){const o=Ry(i,r,e);return Xa(null!==o),function wM(i,e,n,t){const r=Py(e);if(null===r||!fd(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(_=>{const T=i.fullPath;return ql("/b/"+c(i.bucket)+"/o/"+c(T),n,t)+mE({alt:"media",token:_})})[0]}(o,r,i.host,i._protocol)}}(i,n),c);return d.errorHandler=ep(e),d}(i.storage,i._location,Pm());return i.storage.makeRequestWithTokens(e,fa).then(n=>{if(null===n)throw function pE(){return new Ci("no-download-url","The given file does not have any download URLs.")}();return n})}function Aw(i,e){const n=function EE(i,e){const n=e.split("/").filter(t=>t.length>0).join("/");return 0===i.length?n:i+"/"+n}(i._location.path,e),t=new hs(i._location.bucket,n);return new _d(i.storage,t)}function Mw(i,e){if(i instanceof Pw){const n=i;if(null==n._bucket)throw function dM(){return new Ci("no-default-bucket","No default bucket found. Did you set the '"+Ty+"' property when initializing the app?")}();const t=new _d(n,n._bucket);return null!=e?Mw(t,e):t}return void 0!==e?Aw(i,e):i}function ZE(i,e){if(e&&function qE(i){return/^[A-Za-z]+:\/\//.test(i)}(e)){if(i instanceof Pw)return function GE(i,e){return new _d(i,e)}(i,e);throw Qh("To use ref(service, url), the first argument must be a Storage instance.")}return Mw(i,e)}function kw(i,e){const n=e?.[Ty];return null==n?null:hs.makeFromBucketSpec(n,i)}class Pw{constructor(e,n,t,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=t,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Kh,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?hs.makeFromBucketSpec(r,this._host):kw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?hs.makeFromBucketSpec(this._url,e):kw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ae.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const t=yield n.getToken();if(null!==t)return t.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ae.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _d(this,e)}_makeRequest(e,n,t,r,o=!0){if(this._deleted)return new fM(aw());{const c=function _E(i,e,n,t,r,o,c=!0){const d=mE(i.urlParams),f=i.url+d,_=Object.assign({},i.headers);return function gE(i,e){e&&(i["X-Firebase-GMPID"]=e)}(_,e),function gM(i,e){null!==e&&e.length>0&&(i.Authorization="Firebase "+e)}(_,n),function _M(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,o),function pw(i,e){null!==e&&(i["X-Firebase-AppCheck"]=e)}(_,t),new hw(f,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,r,c)}(e,this._appId,t,r,n,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,n){var t=this;return(0,Ae.Z)(function*(){const[r,o]=yield Promise.all([t._getAuthToken(),t._getAppCheckToken()]);return t._makeRequest(e,n,r,o).getPromise()})()}}const $E="@firebase/storage";function KE(i,e){return ZE(i=(0,z.m9)(i),e)}function QE(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),t=i.getProvider("auth-internal"),r=i.getProvider("app-check-internal");return new Pw(n,t,r,e,ti.SDK_VERSION)}!function JE(){(0,ti._registerComponent)(new ca.wA("storage",QE,"PUBLIC").setMultipleInstances(!0)),(0,ti.registerVersion)($E,"0.10.1",""),(0,ti.registerVersion)($E,"0.10.1","esm2017")}();class Fm{constructor(e,n,t){this._delegate=e,this.task=n,this.ref=t}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ow{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Fm(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(t=>{if(e)return e(new Fm(t,this,this._ref))},n)}on(e,n,t,r){let o;return n&&(o="function"==typeof n?c=>n(new Fm(c,this,this._ref)):{next:n.next?c=>n.next(new Fm(c,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,t||void 0,r||void 0)}}class Nw{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new tl(e,this._service))}get items(){return this._delegate.items.map(e=>new tl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class tl{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function UM(i,e){return Aw(i,e)}(this._delegate,e);return new tl(n,this.storage)}get root(){return new tl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new tl(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new Ow(function RM(i,e,n){return function kM(i,e,n){return i._throwIfRoot("uploadBytesResumable"),new FE(i,new ua(e),n)}(i=(0,z.m9)(i),e,n)}(this._delegate,e,n),this)}putString(e,n=no.RAW,t){this._throwIfRoot("putString");const r=ky(n,e),o=Object.assign({},t);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new Ow(new FE(this._delegate,new ua(r.data,!0),o),this)}listAll(){return function FM(i){return function HE(i){const e={prefixes:[],items:[]};return Ew(i,e).then(()=>e)}(i=(0,z.m9)(i))}(this._delegate).then(e=>new Nw(e,this.storage))}list(e){return function LM(i,e){return zE(i=(0,z.m9)(i),e)}(this._delegate,e||void 0).then(n=>new Nw(n,this.storage))}getMetadata(){return function OM(i){return function Sw(i){i._throwIfRoot("getMetadata");const e=DE(i.storage,i._location,Pm());return i.storage.makeRequestWithTokens(e,fa)}(i=(0,z.m9)(i))}(this._delegate)}updateMetadata(e){return function NM(i,e){return function Oy(i,e){i._throwIfRoot("updateMetadata");const n=function xM(i,e,n,t){const o=ql(e.fullServerUrl(),i.host,i._protocol),d=Rm(n,t),_=i.maxOperationRetryTime,b=new ha(o,"PATCH",Hi(i,t),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=ep(e),b}(i.storage,i._location,e,Pm());return i.storage.makeRequestWithTokens(n,fa)}(i=(0,z.m9)(i),e)}(this._delegate,e)}getDownloadURL(){return function VM(i){return Dw(i=(0,z.m9)(i))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function BM(i){return function jE(i){i._throwIfRoot("deleteObject");const e=function SM(i,e){const t=ql(e.fullServerUrl(),i.host,i._protocol),d=new ha(t,"DELETE",function c(f,_){},i.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=ep(e),d}(i.storage,i._location);return i.storage.makeRequestWithTokens(e,fa)}(i=(0,z.m9)(i))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw lw(e)}}class Lw{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Fw(e))throw Qh("ref() expected a child path but got a URL, use refFromURL instead.");return new tl(KE(this._delegate,e),this)}refFromURL(e){if(!Fw(e))throw Qh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hs.makeFromUrl(e,this._delegate.host)}catch{throw Qh("refFromUrl() expected a valid full URL but got an invalid one.")}return new tl(KE(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,t={}){!function Rw(i,e,n,t={}){!function PM(i,e,n,t={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:r}=t;r&&(i._overrideAuthToken="string"==typeof r?r:(0,z.Sg)(r,i.app.options.projectId))}(i,e,n,t)}(this._delegate,e,n,t)}}function Fw(i){return/^[A-Za-z]+:\/\//.test(i)}function np(i,{instanceIdentifier:e}){const n=i.getProvider("app-compat").getImmediate(),t=i.getProvider("storage").getImmediate({identifier:e});return new Lw(n,t)}function GM(i){const e=function Vw(i){return new Os.y(e=>{const n=c=>e.next(c);n(i.snapshot);const o=i.on("state_changed",n);return i.then(c=>{n(c),e.complete()},c=>{n(i.snapshot),(c=>{e.error(c)})(c)}),function(){o()}}).pipe(function sM(i,e=Tm.z){return(0,Ir.e)((n,t)=>{let r=null,o=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=o;o=null,t.next(_)}};function f(){const _=c+i,b=e.now();if(b<_)return r=this.schedule(void 0,_-b),void t.add(r);d()}n.subscribe((0,Qi.x)(t,_=>{o=_,c=e.now(),r||(r=e.schedule(f,i),t.add(r))},()=>{d(),t.complete()},void 0,()=>{o=r=null}))})}(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,zt.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function Vm(i){return{getDownloadURL:()=>(0,kt.of)(void 0).pipe(In.fc,(0,Ji.w)(()=>i.getDownloadURL()),In.iC),getMetadata:()=>(0,kt.of)(void 0).pipe(In.fc,(0,Ji.w)(()=>i.getMetadata()),In.iC),delete:()=>(0,Wn.D)(i.delete()),child:e=>Vm(i.child(e)),updateMetadata:e=>(0,Wn.D)(i.updateMetadata(e)),put:(e,n)=>GM(i.put(e,n)),putString:(e,n,t)=>GM(i.putString(e,n,t)),list:e=>(0,Wn.D)(i.list(e)),listAll:()=>(0,Wn.D)(i.listAll())}}!function GO(i){const e={TaskState:pi,TaskEvent:el,StringFormat:no,Storage:Lw,Reference:tl};i.INTERNAL.registerComponent(new ca.wA("storage-compat",np,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.2.1")}(Em.Z);const XE=new s.OlP("angularfire2.storageBucket"),ZO=new s.OlP("angularfire2.storage.maxUploadRetryTime"),ip=new s.OlP("angularfire2.storage.maxOperationRetryTime"),ZM=new s.OlP("angularfire2.storage.use-emulator");let $M=(()=>{class i{constructor(n,t,r,o,c,d,f,_,b,T){const M=(0,Cr.on)(n,c,t);this.storage=(0,Cr.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const R=c.runOutsideAngular(()=>M.storage(r||void 0)),B=b;return B&&R.useEmulator(...B),f&&R.setMaxUploadRetryTime(f),_&&R.setMaxOperationRetryTime(_),R},[f,_])}ref(n){return Vm(this.storage.ref(n))}refFromURL(n){return Vm(this.storage.refFromURL(n))}upload(n,t,r){return Vm(this.storage.ref(n)).put(t,r)}}return i.\u0275fac=function(n){return new(n||i)(s.LFG(Cr.Dh),s.LFG(Cr.xv,8),s.LFG(XE,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(In.HU),s.LFG(ZO,8),s.LFG(ip,8),s.LFG(ZM,8),s.LFG(Ja,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),rp=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),WM=(()=>{class i{constructor(){Im.Z.registerVersion("angularfire",In.q4.full,"gcs-compat")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[$M],imports:[rp]}),i})();var Vc=U(7537);function ps(...i){return function Ny(){return(0,Vc.J)(1)}()((0,Wn.D)(i,(0,ed.yG)(i)))}function Bw(...i){const e=(0,ed.yG)(i);return(0,Ir.e)((n,t)=>{(e?ps(i,n,e):ps(i,n)).subscribe(t)})}function Ly(){return(0,Ir.e)((i,e)=>{let n,t=!1;i.subscribe((0,Qi.x)(e,r=>{const o=n;n=r,t&&e.next([o,r]),t=!0}))})}function sp(i,e){return(0,Ir.e)(function e2(i,e,n,t,r){return(o,c)=>{let d=n,f=e,_=0;o.subscribe((0,Qi.x)(c,b=>{const T=_++;f=d?i(f,b,T):(d=!0,b),t&&c.next(f)},r&&(()=>{d&&c.next(f),c.complete()})))}}(i,e,arguments.length>=2,!0))}var Et,Uw=U(3997),t2=(U(6365),typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}),nl={},Hw=Hw||{},Qt=t2||self;function Bc(){}function Fy(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Bm(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var op="closure_uid_"+(1e9*Math.random()>>>0),n2=0;function r2(i,e,n){return i.call.apply(i.bind,arguments)}function s2(i,e,n){if(!i)throw Error();if(2<arguments.length){var t=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,t),i.apply(e,r)}}return function(){return i.apply(e,arguments)}}function fs(i,e,n){return(fs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r2:s2).apply(null,arguments)}function Uc(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),i.apply(this,t)}}function Xi(i,e){function n(){}n.prototype=e.prototype,i.X=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Wb=function(t,r,o){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[r].apply(t,c)}}function Hc(){this.s=this.s,this.o=this.o}Hc.prototype.s=!1,Hc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function KM(i){Object.prototype.hasOwnProperty.call(i,op)&&i[op]||(i[op]=++n2)}(this)},Hc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const o2=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Vy(i){const e=i.length;if(0<e){const n=Array(e);for(let t=0;t<e;t++)n[t]=i[t];return n}return[]}function zw(i,e){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Fy(t)){const r=i.length||0,o=t.length||0;i.length=r+o;for(let c=0;c<o;c++)i[r+c]=t[c]}else i.push(t)}}function Wr(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Wr.prototype.h=function(){this.defaultPrevented=!0};var JM=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Qt.addEventListener("test",Bc,e),Qt.removeEventListener("test",Bc,e)}catch{}return i}();function Um(i){return/^[\s\xa0]*$/.test(i)}var a2=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function jw(i,e){return i<e?-1:i>e?1:0}function qw(){var i=Qt.navigator;return i&&(i=i.userAgent)?i:""}function Zl(i){return-1!=qw().indexOf(i)}function l2(i){return l2[" "](i),i}l2[" "]=Bc;var By,i,c2=Zl("Opera"),$l=Zl("Trident")||Zl("MSIE"),u2=Zl("Edge"),Gw=u2||$l,Zw=Zl("Gecko")&&!(-1!=qw().toLowerCase().indexOf("webkit")&&!Zl("Edge"))&&!(Zl("Trident")||Zl("MSIE"))&&!Zl("Edge"),Hm=-1!=qw().toLowerCase().indexOf("webkit")&&!Zl("Edge");function d2(){var i=Qt.document;return i?i.documentMode:void 0}e:{var $w="",Ww=(i=qw(),Zw?/rv:([^\);]+)(\)|;)/.exec(i):u2?/Edge\/([\d\.]+)/.exec(i):$l?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Hm?/WebKit\/(\S+)/.exec(i):c2?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ww&&($w=Ww?Ww[1]:""),$l){var h2=d2();if(null!=h2&&h2>parseFloat($w)){By=String(h2);break e}}By=$w}var XM={};var zm=Qt.document&&$l&&(d2()||parseInt(By,10))||void 0;function jm(i,e){if(Wr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,t=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Zw){e:{try{l2(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,t?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:m2[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&jm.X.h.call(this)}}Xi(jm,Wr);var m2={2:"touch",3:"pen",4:"mouse"};jm.prototype.h=function(){jm.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var qm="closure_listenable_"+(1e6*Math.random()|0),g2=0;function ek(i,e,n,t,r){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!t,this.ha=r,this.key=++g2,this.ba=this.ea=!1}function Gm(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Kw(i,e,n){for(const t in i)e.call(n,i[t],t,i)}function Uy(i){const e={};for(const n in i)e[n]=i[n];return e}const _2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qw(i,e){let n,t;for(let r=1;r<arguments.length;r++){for(n in t=arguments[r],t)i[n]=t[n];for(let o=0;o<_2.length;o++)n=_2[o],Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}}function Zm(i){this.src=i,this.g={},this.h=0}function Jw(i,e){var n=e.type;if(n in i.g){var o,t=i.g[n],r=o2(t,e);(o=0<=r)&&Array.prototype.splice.call(t,r,1),o&&(Gm(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Xw(i,e,n,t){for(var r=0;r<i.length;++r){var o=i[r];if(!o.ba&&o.listener==e&&o.capture==!!n&&o.ha==t)return r}return-1}Zm.prototype.add=function(i,e,n,t,r){var o=i.toString();(i=this.g[o])||(i=this.g[o]=[],this.h++);var c=Xw(i,e,t,r);return-1<c?(e=i[c],n||(e.ea=!1)):((e=new ek(e,this.src,o,!!t,r)).ea=n,i.push(e)),e};var eb="closure_lm_"+(1e6*Math.random()|0),$m={};function y2(i,e,n,t,r){if(t&&t.once)return v2(i,e,n,t,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)y2(i,e[o],n,t,r);return null}return n=Hy(n),i&&i[qm]?i.N(e,n,Bm(t)?!!t.capture:!!t,r):tb(i,e,n,!1,t,r)}function tb(i,e,n,t,r,o){if(!e)throw Error("Invalid event type");var c=Bm(r)?!!r.capture:!!r,d=ib(i);if(d||(i[eb]=d=new Zm(i)),(n=d.add(e,n,t,c,o)).proxy)return n;if(t=function tk(){const e=nk;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=t,t.src=i,t.listener=n,i.addEventListener)JM||(r=c),void 0===r&&(r=!1),i.addEventListener(e.toString(),t,r);else if(i.attachEvent)i.attachEvent(b2(e.toString()),t);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(t)}return n}function v2(i,e,n,t,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)v2(i,e[o],n,t,r);return null}return n=Hy(n),i&&i[qm]?i.O(e,n,Bm(t)?!!t.capture:!!t,r):tb(i,e,n,!0,t,r)}function w2(i,e,n,t,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)w2(i,e[o],n,t,r);else t=Bm(t)?!!t.capture:!!t,n=Hy(n),i&&i[qm]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Xw(o=i.g[e],n,t,r))&&(Gm(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete i.g[e],i.h--))):i&&(i=ib(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Xw(e,n,t,r)),(n=-1<i?e[i]:null)&&nb(n))}function nb(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[qm])Jw(e.i,i);else{var n=i.type,t=i.proxy;e.removeEventListener?e.removeEventListener(n,t,i.capture):e.detachEvent?e.detachEvent(b2(n),t):e.addListener&&e.removeListener&&e.removeListener(t),(n=ib(e))?(Jw(n,i),0==n.h&&(n.src=null,e[eb]=null)):Gm(i)}}}function b2(i){return i in $m?$m[i]:$m[i]="on"+i}function nk(i,e){if(i.ba)i=!0;else{e=new jm(e,this);var n=i.listener,t=i.ha||i.src;i.ea&&nb(i),i=n.call(t,e)}return i}function ib(i){return(i=i[eb])instanceof Zm?i:null}var rb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hy(i){return"function"==typeof i?i:(i[rb]||(i[rb]=function(e){return i.handleEvent(e)}),i[rb])}function Tr(){Hc.call(this),this.i=new Zm(this),this.P=this,this.I=null}function Yr(i,e){var n,t=i.I;if(t)for(n=[];t;t=t.I)n.push(t);if(i=i.P,t=e.type||e,"string"==typeof e)e=new Wr(e,i);else if(e instanceof Wr)e.target=e.target||i;else{var r=e;Qw(e=new Wr(t,i),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var c=e.g=n[o];r=zy(c,t,!0,e)&&r}if(r=zy(c=e.g=i,t,!0,e)&&r,r=zy(c,t,!1,e)&&r,n)for(o=0;o<n.length;o++)r=zy(c=e.g=n[o],t,!1,e)&&r}function zy(i,e,n,t){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.ba&&c.capture==n){var d=c.listener,f=c.ha||c.src;c.ea&&Jw(i.i,c),r=!1!==d.call(f,t)&&r}}return r&&!t.defaultPrevented}Xi(Tr,Hc),Tr.prototype[qm]=!0,Tr.prototype.removeEventListener=function(i,e,n,t){w2(this,i,e,n,t)},Tr.prototype.M=function(){if(Tr.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],t=0;t<n.length;t++)Gm(n[t]);delete i.g[e],i.h--}}this.I=null},Tr.prototype.N=function(i,e,n,t){return this.i.add(String(i),e,!1,n,t)},Tr.prototype.O=function(i,e,n,t){return this.i.add(String(i),e,!0,n,t)};var jy=Qt.JSON.stringify;function ik(){var i=I2;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Gy,C2=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new sk,i=>i.reset());class sk{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sb(i){Qt.setTimeout(()=>{throw i},0)}function qy(i,e){Gy||function ob(){var i=Qt.Promise.resolve(void 0);Gy=function(){i.then(lb)}}(),ab||(Gy(),ab=!0),I2.add(i,e)}var ab=!1,I2=new class rk{constructor(){this.h=this.g=null}add(e,n){const t=C2.get();t.set(e,n),this.h?this.h.next=t:this.g=t,this.h=t}};function lb(){for(var i;i=ik();){try{i.h.call(i.g)}catch(n){sb(n)}var e=C2;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ab=!1}function Zy(i,e){Tr.call(this),this.h=i||1,this.g=e||Qt,this.j=fs(this.lb,this),this.l=Date.now()}function $y(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Wl(i,e,n){if("function"==typeof i)n&&(i=fs(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=fs(i.handleEvent,i)}return 2147483647<Number(e)?-1:Qt.setTimeout(i,e||0)}function cb(i){i.g=Wl(()=>{i.g=null,i.i&&(i.i=!1,cb(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Xi(Zy,Tr),(Et=Zy.prototype).ca=!1,Et.R=null,Et.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Yr(this,"tick"),this.ca&&($y(this),this.start()))}},Et.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.M=function(){Zy.X.M.call(this),$y(this),delete this.g};class ok extends Hc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cb(this)}M(){super.M(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wy(i){Hc.call(this),this.h=i,this.g={}}Xi(Wy,Hc);var Yy=[];function Ky(i,e,n,t){Array.isArray(n)||(n&&(Yy[0]=n.toString()),n=Yy);for(var r=0;r<n.length;r++){var o=y2(e,n[r],t||i.handleEvent,!1,i.h||i);if(!o)break;i.g[o.key]=o}}function T2(i){Kw(i.g,function(e,n){this.g.hasOwnProperty(n)&&nb(e)},i),i.g={}}function Wm(){this.g=!0}function vd(i,e,n,t){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function x2(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var t=n[i];if(!(2>t.length)){var r=t[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return jy(n)}catch{return e}}(i,n)+(t?" "+t:"")})}Wy.prototype.M=function(){Wy.X.M.call(this),T2(this)},Wy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wm.prototype.Aa=function(){this.g=!1},Wm.prototype.info=function(){};var zc={},db=null;function Ym(){return db=db||new Tr}function S2(i){Wr.call(this,zc.Pa,i)}function Km(i){const e=Ym();Yr(e,new S2(e))}function D2(i,e){Wr.call(this,zc.STAT_EVENT,i),this.stat=e}function Fs(i){const e=Ym();Yr(e,new D2(e,i))}function hb(i,e){Wr.call(this,zc.Qa,i),this.size=e}function Qy(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){i()},e)}zc.Pa="serverreachability",Xi(S2,Wr),zc.STAT_EVENT="statevent",Xi(D2,Wr),zc.Qa="timingevent",Xi(hb,Wr);var Qm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},A2={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function pb(){}function M2(){}pb.prototype.h=null;var ev,Jm={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Jy(){Wr.call(this,"d")}function Xy(){Wr.call(this,"c")}function Xm(){}function ap(i,e,n,t){this.l=i,this.j=e,this.m=n,this.U=t||1,this.S=new Wy(this),this.O=k2,this.T=new Zy(i=Gw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new fb}function fb(){this.i=null,this.g="",this.h=!1}Xi(Jy,Wr),Xi(Xy,Wr),Xi(Xm,pb),Xm.prototype.g=function(){return new XMLHttpRequest},Xm.prototype.i=function(){return{}},ev=new Xm;var k2=45e3,tv={},nv={};function iv(i,e,n){i.K=1,i.v=rv(Yl(e)),i.s=n,i.P=!0,lp(i,null)}function lp(i,e){i.F=Date.now(),cp(i),i.A=Yl(i.v);var n=i.A,t=i.U;Array.isArray(t)||(t=[String(t)]),L2(n.i,"t",t),i.C=0,n=i.l.H,i.h=new fb,i.g=pv(i.l,n?e:null,!i.s),0<i.N&&(i.L=new ok(fs(i.La,i,i.g),i.N)),Ky(i.S,i.g,"readystatechange",i.ib),e=i.H?Uy(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Km(),function E2(i,e,n,t,r,o){i.info(function(){if(i.g)if(o)for(var c="",d=o.split("&"),f=0;f<d.length;f++){var _=d[f].split("=");if(1<_.length){var b=_[0];_=_[1];var T=b.split("_");c=2<=T.length&&"type"==T[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+t+") [attempt "+r+"]: "+e+"\n"+n+"\n"+c})}(i.j,i.u,i.A,i.m,i.U,i.s)}function mb(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function gb(i,e,n){let r,t=!0;for(;!i.I&&i.C<n.length;){if(r=P2(i,n),r==nv){4==e&&(i.o=4,Fs(14),t=!1),vd(i.j,i.m,null,"[Incomplete Response]");break}if(r==tv){i.o=4,Fs(15),vd(i.j,i.m,n,"[Invalid Chunk]"),t=!1;break}vd(i.j,i.m,r,null),R2(i,r)}mb(i)&&r!=nv&&r!=tv&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Fs(16),t=!1),i.i=i.i&&t,t?0<n.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Id(e),e.K=!0,Fs(11))):(vd(i.j,i.m,n,"[Invalid Chunked Response]"),up(i),tg(i))}function P2(i,e){var n=i.C,t=e.indexOf("\n",n);return-1==t?nv:(n=Number(e.substring(n,t)),isNaN(n)?tv:(t+=1)+n>e.length?nv:(e=e.substr(t,n),i.C=t+n,e))}function cp(i){i.V=Date.now()+i.O,_b(i,i.O)}function _b(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Qy(fs(i.gb,i),e)}function eg(i){i.B&&(Qt.clearTimeout(i.B),i.B=null)}function tg(i){0==i.l.G||i.I||K2(i.l,i)}function up(i){eg(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,$y(i.T),T2(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function R2(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||wb(n.h,i)))if(!i.J&&wb(n.h,i)&&3==n.G){try{var t=n.Fa.g.parse(e)}catch{t=null}if(Array.isArray(t)&&3==t.length){var r=t;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;_p(n),hv(n)}W2(n),Fs(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&0==n.A&&!n.v&&(n.v=Qy(fs(n.cb,n),6e3));if(1>=U2(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Td(n,11)}else if((i.J||n.g==i)&&_p(n),!Um(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(n.T=_[0],_=_[1],2==n.G)if("c"==_[0]){n.I=_[1],n.ka=_[2];const b=_[3];null!=b&&(n.ma=b,n.j.info("VER="+n.ma));const T=_[4];null!=T&&(n.Ca=T,n.j.info("SVER="+n.Ca));const M=_[5];null!=M&&"number"==typeof M&&0<M&&(n.J=t=1.5*M,n.j.info("backChannelRequestTimeoutMs_="+t)),t=n;const R=i.g;if(R){const B=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var o=t.h;o.g||-1==B.indexOf("spdy")&&-1==B.indexOf("quic")&&-1==B.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(av(o,o.h),o.h=null))}if(t.D){const K=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(t.za=K,ai(t.F,t.D,K))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-i.F,n.j.info("Handshake RTT: "+n.P+"ms"));var c=i;if((t=n).sa=J2(t,t.H?t.ka:null,t.V),c.J){bb(t.h,c);var d=c,f=t.J;f&&d.setTimeout(f),d.B&&(eg(d),cp(d)),t.g=c}else wk(t);0<n.i.length&&Db(n)}else"stop"!=_[0]&&"close"!=_[0]||Td(n,7);else 3==n.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Td(n,7):qc(n):"noop"!=_[0]&&n.l&&n.l.wa(_),n.A=0)}Km()}catch{}}function yb(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Fy(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function uk(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Fy(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const t in i)e[n++]=t;return e}}}(i),t=function ck(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Fy(i)){for(var e=[],n=i.length,t=0;t<n;t++)e.push(i[t]);return e}for(t in e=[],n=0,i)e[n++]=i[t];return e}(i),r=t.length,o=0;o<r;o++)e.call(void 0,t[o],n&&n[o],i)}(Et=ap.prototype).setTimeout=function(i){this.O=i},Et.ib=function(i){i=i.target;const e=this.L;e&&3==il(i)?e.l():this.La(i)},Et.La=function(i){try{if(i==this.g)e:{const b=il(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||Gw||this.g&&(this.h.h||this.g.fa()||Sb(this.g)))){this.I||4!=b||7==e||Km(),eg(this);var n=this.g.aa();this.Y=n;t:if(mb(this)){var t=Sb(this.g);i="";var r=t.length,o=4==il(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){up(this),tg(this);var c="";break t}this.h.i=new Qt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,i+=this.h.i.decode(t[e],{stream:o&&e==r-1});t.splice(0,r),this.h.g+=i,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==n,function ak(i,e,n,t,r,o,c){i.info(function(){return"XMLHTTP RESP ("+t+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.U,b,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Um(d)){var _=d;break t}}_=null}if(!(n=_)){this.i=!1,this.o=3,Fs(12),up(this),tg(this);break e}vd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,R2(this,n)}this.P?(gb(this,b,c),Gw&&this.i&&3==b&&(Ky(this.S,this.T,"tick",this.hb),this.T.start())):(vd(this.j,this.m,c,null),R2(this,c)),4==b&&up(this),this.i&&!this.I&&(4==b?K2(this.l,this):(this.i=!1,cp(this)))}else 400==n&&0<c.indexOf("Unknown SID")?(this.o=3,Fs(12)):(this.o=0,Fs(13)),up(this),tg(this)}}}catch{}},Et.hb=function(){if(this.g){var i=il(this.g),e=this.g.fa();this.C<e.length&&(eg(this),gb(this,i,e),this.i&&4!=i&&cp(this))}},Et.cancel=function(){this.I=!0,up(this)},Et.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function ub(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Km(),Fs(17)),up(this),this.o=2,tg(this)):_b(this,this.V-i)};var O2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ma){this.h=void 0!==e?e:i.h,dp(this,i.j),this.s=i.s,this.g=i.g,fo(this,i.m),this.l=i.l,e=i.i;var n=new pp;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),N2(this,n),this.o=i.o}else i&&(n=String(i).match(O2))?(this.h=!!e,dp(this,n[1]||"",!0),this.s=sv(n[2]||""),this.g=sv(n[3]||"",!0),fo(this,n[4]),this.l=sv(n[5]||"",!0),N2(this,n[6]||"",!0),this.o=sv(n[7]||"")):(this.h=!!e,this.i=new pp(null,this.h))}function Yl(i){return new ma(i)}function dp(i,e,n){i.j=n?sv(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function fo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function N2(i,e,n){e instanceof pp?(i.i=e,function F2(i,e){e&&!i.j&&(jc(i),i.i=null,i.g.forEach(function(n,t){var r=t.toLowerCase();t!=r&&(vb(this,t),L2(this,r,n))},i)),i.j=e}(i.i,i.h)):(n||(e=ng(e,fk)),i.i=new pp(e,i.h))}function ai(i,e,n){i.i.set(e,n)}function rv(i){return ai(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function sv(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ng(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,YO),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function YO(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ma.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ng(e,hp,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ng(e,hp,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(ng(n,"/"==n.charAt(0)?pk:hk,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",ng(n,ov)),i.join("")};var hp=/[#\/\?@]/g,hk=/[#\?:]/g,pk=/[#\?]/g,fk=/[#\?@]/g,ov=/#/g;function pp(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function jc(i){i.g||(i.g=new Map,i.h=0,i.i&&function dk(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var t=i[n].indexOf("="),r=null;if(0<=t){var o=i[n].substring(0,t);r=i[n].substring(t+1)}else o=i[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function vb(i,e){jc(i),e=fp(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ig(i,e){return jc(i),e=fp(i,e),i.g.has(e)}function L2(i,e,n){vb(i,e),0<n.length&&(i.i=null,i.g.set(fp(i,e),Vy(n)),i.h+=n.length)}function fp(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function V2(i){this.l=i||B2,i=Qt.PerformanceNavigationTiming?0<(i=Qt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ga&&Qt.g.Ga()&&Qt.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Et=pp.prototype).add=function(i,e){jc(this),this.i=null,i=fp(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Et.forEach=function(i,e){jc(this),this.g.forEach(function(n,t){n.forEach(function(r){i.call(e,r,t,this)},this)},this)},Et.oa=function(){jc(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let t=0;t<e.length;t++){const r=i[t];for(let o=0;o<r.length;o++)n.push(e[t])}return n},Et.W=function(i){jc(this);let e=[];if("string"==typeof i)ig(this,i)&&(e=e.concat(this.g.get(fp(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Et.set=function(i,e){return jc(this),this.i=null,ig(this,i=fp(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Et.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var t=e[n];const o=encodeURIComponent(String(t)),c=this.W(t);for(t=0;t<c.length;t++){var r=o;""!==c[t]&&(r+="="+encodeURIComponent(String(c[t]))),i.push(r)}}return this.i=i.join("&")};var B2=10;function rg(i){return!!i.h||!!i.g&&i.g.size>=i.j}function U2(i){return i.h?1:i.g?i.g.size:0}function wb(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function av(i,e){i.g?i.g.add(e):i.h=e}function bb(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function lv(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return Vy(i.i)}function cv(){}function gk(){this.g=new cv}function H2(i,e,n){const t=n||"";try{yb(i,function(r,o){let c=r;Bm(r)&&(c=jy(r)),e.push(t+o+"="+encodeURIComponent(c))})}catch(r){throw e.push(t+"type="+encodeURIComponent("_badmap")),r}}function uv(i,e,n,t,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(t)}catch{}}function sg(i){this.l=i.ac||null,this.j=i.jb||!1}function mp(i,e){Tr.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=og,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}V2.prototype.cancel=function(){if(this.i=lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},cv.prototype.stringify=function(i){return Qt.JSON.stringify(i,void 0)},cv.prototype.parse=function(i){return Qt.JSON.parse(i,void 0)},Xi(sg,pb),sg.prototype.g=function(){return new mp(this.l,this.j)},sg.prototype.i=function(i){return function(){return i}}({}),Xi(mp,Tr);var og=0;function Cb(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function wd(i){i.readyState=4,i.l=null,i.j=null,i.A=null,bd(i)}function bd(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Et=mp.prototype).open=function(i,e){if(this.readyState!=og)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,bd(this)},Et.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Qt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wd(this)),this.readyState=og},Et.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,bd(this)),this.g&&(this.readyState=3,bd(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cb(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},Et.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?wd(this):bd(this),3==this.readyState&&Cb(this)}},Et.Va=function(i){this.g&&(this.response=this.responseText=i,wd(this))},Et.Ua=function(i){this.g&&(this.response=i,wd(this))},Et.ga=function(){this.g&&wd(this)},Et.setRequestHeader=function(i,e){this.v.append(i,e)},Et.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(mp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var _k=Qt.JSON.parse;function zi(i){Tr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=j2,this.K=this.L=!1}Xi(zi,Tr);var j2="",yk=/^https?$/i,q2=["POST","PUT"];function Tb(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Eb(i),ag(i)}function Eb(i){i.D||(i.D=!0,Yr(i,"complete"),Yr(i,"error"))}function xb(i){if(i.h&&typeof Hw<"u"&&(!i.C[1]||4!=il(i)||2!=i.aa()))if(i.v&&4==il(i))Wl(i.Ha,0,i);else if(Yr(i,"readystatechange"),4==il(i)){i.h=!1;try{const d=i.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var t;if(t=0===d){var r=String(i.H).match(O2)[1]||null;if(!r&&Qt.self&&Qt.self.location){var o=Qt.self.location.protocol;r=o.substr(0,o.length-1)}t=!yk.test(r?r.toLowerCase():"")}n=t}if(n)Yr(i,"complete"),Yr(i,"success");else{i.m=6;try{var c=2<il(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.aa()+"]",Eb(i)}}finally{ag(i)}}}function ag(i,e){if(i.g){G2(i);const n=i.g,t=i.C[0]?Bc:null;i.g=null,i.C=null,e||Yr(i,"ready");try{n.onreadystatechange=t}catch{}}}function G2(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Qt.clearTimeout(i.A),i.A=null)}function il(i){return i.g?i.g.readyState:0}function Sb(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case j2:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Z2(i){let e="";return Kw(i,function(n,t){e+=t,e+=":",e+=n,e+="\r\n"}),e}function dv(i,e,n){e:{for(t in n){var t=!1;break e}t=!0}t||(n=Z2(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):ai(i,e,n))}function gp(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ms(i){this.Ca=0,this.i=[],this.j=new Wm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gp("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gp("baseRetryDelayMs",5e3,i),this.bb=gp("retryDelaySeedMs",1e4,i),this.$a=gp("forwardChannelMaxRetries",2,i),this.ta=gp("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new V2(i&&i.concurrentRequestLimit),this.Fa=new gk,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function qc(i){if($2(i),3==i.G){var e=i.U++,n=Yl(i.F);ai(n,"SID",i.I),ai(n,"RID",e),ai(n,"TYPE","terminate"),Cd(i,n),(e=new ap(i,i.j,e,void 0)).K=2,e.v=rv(Yl(n)),n=!1,Qt.navigator&&Qt.navigator.sendBeacon&&(n=Qt.navigator.sendBeacon(e.v.toString(),"")),!n&&Qt.Image&&((new Image).src=e.v,n=!0),n||(e.g=pv(e.l,null),e.g.da(e.v)),e.F=Date.now(),cp(e)}Q2(i)}function hv(i){i.g&&(Id(i),i.g.cancel(),i.g=null)}function $2(i){hv(i),i.u&&(Qt.clearTimeout(i.u),i.u=null),_p(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Qt.clearTimeout(i.m),i.m=null)}function Db(i){rg(i.h)||i.m||(i.m=!0,qy(i.Ja,i),i.C=0)}function Ab(i,e){var n;n=e?e.m:i.U++;const t=Yl(i.F);ai(t,"SID",i.I),ai(t,"RID",n),ai(t,"AID",i.T),Cd(i,t),i.o&&i.s&&dv(t,i.o,i.s),n=new ap(i,i.j,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.i=e.D.concat(i.i)),e=vk(i,n,1e3),n.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),av(i.h,n),iv(n,t,e)}function Cd(i,e){i.ia&&Kw(i.ia,function(n,t){ai(e,t,n)}),i.l&&yb({},function(n,t){ai(e,t,n)})}function vk(i,e,n){n=Math.min(i.i.length,n);var t=i.l?fs(i.l.Ra,i.l,i):null;e:{var r=i.i;let o=-1;for(;;){const c=["count="+n];-1==o?0<n?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let d=!0;for(let f=0;f<n;f++){let _=r[f].h;const b=r[f].g;if(_-=o,0>_)o=Math.max(0,r[f].h-100),d=!1;else try{H2(b,c,"req"+_+"_")}catch{t&&t(b)}}if(d){t=c.join("&");break e}}}return i=i.i.splice(0,n),e.D=i,t}function wk(i){i.g||i.u||(i.Z=1,qy(i.Ia,i),i.A=0)}function W2(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Qy(fs(i.Ia,i),Mb(i,i.A)),i.A++,0))}function Id(i){null!=i.B&&(Qt.clearTimeout(i.B),i.B=null)}function Y2(i){i.g=new ap(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Yl(i.sa);ai(e,"RID","rpc"),ai(e,"SID",i.I),ai(e,"CI",i.L?"0":"1"),ai(e,"AID",i.T),ai(e,"TYPE","xmlhttp"),Cd(i,e),i.o&&i.s&&dv(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var n=i.g;i=i.ka,n.K=1,n.v=rv(Yl(e)),n.s=null,n.P=!0,lp(n,i)}function _p(i){null!=i.v&&(Qt.clearTimeout(i.v),i.v=null)}function K2(i,e){var n=null;if(i.g==e){_p(i),Id(i),i.g=null;var t=2}else{if(!wb(i.h,e))return;n=e.D,bb(i.h,e),t=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==t){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=i.C;Yr(t=Ym(),new hb(t,n)),Db(i)}else wk(i);else if(3==(r=e.o)||0==r&&0<i.pa||!(1==t&&function KO(i,e){return!(U2(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Qy(fs(i.Ja,i,e),Mb(i,i.C)),i.C++,0)))}(i,e)||2==t&&W2(i)))switch(n&&0<n.length&&(e=i.h,e.i=e.i.concat(n)),r){case 1:Td(i,5);break;case 4:Td(i,10);break;case 3:Td(i,6);break;default:Td(i,2)}}function Mb(i,e){let n=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(n*=2),n*e}function Td(i,e){if(i.j.info("Error code "+e),2==e){var n=null;i.l&&(n=null);var t=fs(i.kb,i);n||(n=new ma("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||dp(n,"https"),rv(n)),function z2(i,e){const n=new Wm;if(Qt.Image){const t=new Image;t.onload=Uc(uv,n,t,"TestLoadImage: loaded",!0,e),t.onerror=Uc(uv,n,t,"TestLoadImage: error",!1,e),t.onabort=Uc(uv,n,t,"TestLoadImage: abort",!1,e),t.ontimeout=Uc(uv,n,t,"TestLoadImage: timeout",!1,e),Qt.setTimeout(function(){t.ontimeout&&t.ontimeout()},1e4),t.src=i}else e(!1)}(n.toString(),t)}else Fs(2);i.G=0,i.l&&i.l.va(e),Q2(i),$2(i)}function Q2(i){if(i.G=0,i.la=[],i.l){const e=lv(i.h);(0!=e.length||0!=i.i.length)&&(zw(i.la,e),zw(i.la,i.i),i.h.i.length=0,Vy(i.i),i.i.length=0),i.l.ua()}}function J2(i,e,n){var t=n instanceof ma?Yl(n):new ma(n,void 0);if(""!=t.g)e&&(t.g=e+"."+t.g),fo(t,t.m);else{var r=Qt.location;t=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new ma(null,void 0);t&&dp(o,t),e&&(o.g=e),r&&fo(o,r),n&&(o.l=n),t=o}return e=i.za,(n=i.D)&&e&&ai(t,n,e),ai(t,"VER",i.ma),Cd(i,t),t}function pv(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zi(n&&i.Da&&!i.ra?new sg({jb:!0}):i.ra)).Ka(i.H),e}function kb(){}function fv(){if($l&&!(10<=Number(zm)))throw Error("Environmental error: no available transport.")}function gs(i,e){Tr.call(this),this.g=new ms(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Um(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Um(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ed(this)}function mv(i){Jy.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function bk(){Xy.call(this),this.status=1}function Ed(i){this.g=i}(Et=zi.prototype).Ka=function(i){this.L=i},Et.da=function(i,e,n,t){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ev.g(),this.C=function lk(i){return i.h||(i.h=i.i())}(this.u?this.u:ev),this.g.onreadystatechange=fs(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(o){return void Tb(this,o)}if(i=n||"",n=new Map(this.headers),t)if(Object.getPrototypeOf(t)===Object.prototype)for(var r in t)n.set(r,t[r]);else{if("function"!=typeof t.keys||"function"!=typeof t.get)throw Error("Unknown input type for opt_headers: "+String(t));for(const o of t.keys())n.set(o,t.get(o))}t=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),r=Qt.FormData&&i instanceof Qt.FormData,!(0<=o2(q2,e))||t||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of n)this.g.setRequestHeader(o,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{G2(this),0<this.B&&((this.K=function Ib(i){return $l&&function p2(){return function WO(i){var e=XM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=a2(String(By)).split("."),n=a2("9").split("."),t=Math.max(e.length,n.length);for(let c=0;0==i&&c<t;c++){var r=e[c]||"",o=n[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;i=jw(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||jw(0==r[2].length,0==o[2].length)||jw(r[2],o[2]),r=r[3],o=o[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fs(this.qa,this)):this.A=Wl(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(o){Tb(this,o)}},Et.qa=function(){typeof Hw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yr(this,"timeout"),this.abort(8))},Et.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Yr(this,"complete"),Yr(this,"abort"),ag(this))},Et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ag(this,!0)),zi.X.M.call(this)},Et.Ha=function(){this.s||(this.F||this.v||this.l?xb(this):this.fb())},Et.fb=function(){xb(this)},Et.aa=function(){try{return 2<il(this)?this.g.status:-1}catch{return-1}},Et.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Et.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),_k(e)}},Et.Ea=function(){return this.m},Et.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=ms.prototype).ma=8,Et.G=1,Et.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const r=new ap(this,this.j,i,void 0);let o=this.s;if(this.S&&(o?(o=Uy(o),Qw(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var t=this.i[n];if(void 0===(t="__data__"in t.g&&"string"==typeof(t=t.g.__data__)?t.length:void 0))break;if(4096<(e+=t)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vk(this,r,e),ai(n=Yl(this.F),"RID",i),ai(n,"CVER",22),this.D&&ai(n,"X-HTTP-Session-Id",this.D),Cd(this,n),o&&(this.N?e="headers="+encodeURIComponent(String(Z2(o)))+"&"+e:this.o&&dv(n,this.o,o)),av(this.h,r),this.Ya&&ai(n,"TYPE","init"),this.O?(ai(n,"$req",e),ai(n,"SID","null"),r.Z=!0,iv(r,n,null)):iv(r,n,e),this.G=2}}else 3==this.G&&(i?Ab(this,i):0==this.i.length||rg(this.h)||Ab(this))},Et.Ia=function(){if(this.u=null,Y2(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Qy(fs(this.eb,this),i)}},Et.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Fs(10),hv(this),Y2(this))},Et.cb=function(){null!=this.v&&(this.v=null,hv(this),W2(this),Fs(19))},Et.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Fs(2)):(this.j.info("Failed to ping google.com"),Fs(1))},(Et=kb.prototype).xa=function(){},Et.wa=function(){},Et.va=function(){},Et.ua=function(){},Et.Ra=function(){},fv.prototype.g=function(i,e){return new gs(i,e)},Xi(gs,Tr),gs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;Fs(0),i.V=e,i.ia=n||{},i.L=i.Y,i.F=J2(i,null,i.V),Db(i)},gs.prototype.close=function(){qc(this.g)},gs.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=jy(i),i=n);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Db(e)},gs.prototype.M=function(){this.g.l=null,delete this.j,qc(this.g),delete this.g,gs.X.M.call(this)},Xi(mv,Jy),Xi(bk,Xy),Xi(Ed,kb),Ed.prototype.xa=function(){Yr(this.g,"a")},Ed.prototype.wa=function(i){Yr(this.g,new mv(i))},Ed.prototype.va=function(i){Yr(this.g,new bk)},Ed.prototype.ua=function(){Yr(this.g,"b")},fv.prototype.createWebChannel=fv.prototype.g,gs.prototype.send=gs.prototype.u,gs.prototype.open=gs.prototype.m,gs.prototype.close=gs.prototype.close,Qm.NO_ERROR=0,Qm.TIMEOUT=8,Qm.HTTP_ERROR=6,A2.COMPLETE="complete",M2.EventType=Jm,Jm.OPEN="a",Jm.CLOSE="b",Jm.ERROR="c",Jm.MESSAGE="d",Tr.prototype.listen=Tr.prototype.N,zi.prototype.listenOnce=zi.prototype.O,zi.prototype.getLastError=zi.prototype.Oa,zi.prototype.getLastErrorCode=zi.prototype.Ea,zi.prototype.getStatus=zi.prototype.aa,zi.prototype.getResponseJson=zi.prototype.Sa,zi.prototype.getResponseText=zi.prototype.fa,zi.prototype.send=zi.prototype.da,zi.prototype.setWithCredentials=zi.prototype.Ka;var Ck=nl.createWebChannelTransport=function(){return new fv},X2=nl.getStatEventTarget=function(){return Ym()},Gc=nl.ErrorCode=Qm,Ik=nl.EventType=A2,ex=nl.Event=zc,gv=nl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},QO=nl.FetchXmlHttpFactory=sg,_v=nl.WebChannel=M2,JO=nl.XhrIo=zi;const tx="@firebase/firestore";class Br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");let yp="9.16.0";const Kl=new Ka.Yd("@firebase/firestore");function yv(){return Kl.logLevel}function Qe(i,...e){if(Kl.logLevel<=Ka.in.DEBUG){const n=e.map(Pb);Kl.debug(`Firestore (${yp}): ${i}`,...n)}}function ji(i,...e){if(Kl.logLevel<=Ka.in.ERROR){const n=e.map(Pb);Kl.error(`Firestore (${yp}): ${i}`,...n)}}function xd(i,...e){if(Kl.logLevel<=Ka.in.WARN){const n=e.map(Pb);Kl.warn(`Firestore (${yp}): ${i}`,...n)}}function Pb(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function yt(i="Unexpected state"){const e=`FIRESTORE (${yp}) INTERNAL ASSERTION FAILED: `+i;throw ji(e),new Error(e)}function Tt(i,e){i||yt()}function ct(i,e){return i}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends z.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ix{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Br.UNAUTHENTICATED))}shutdown(){}}class rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e4{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var t=this;let r=this.i;const o=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let c=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Er,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=c;e.enqueueRetryable((0,Ae.Z)(function*(){yield _.promise,yield o(t.currentUser)}))},f=_=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>f(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?f(_):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Er)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(t=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Tt("string"==typeof t.accessToken),new ix(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Br(e)}}class t4{constructor(e,n,t,r){this.h=e,this.l=n,this.m=t,this.g=r,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Tt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class n4{constructor(e,n,t,r){this.h=e,this.l=n,this.m=t,this.g=r}getToken(){return Promise.resolve(new t4(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ek{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r4{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const t=o=>{null!=o.error&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.A;return this.A=o.token,Qe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>t(o))};const r=o=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt("string"==typeof n.token),this.A=n.token,new Ek(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function s4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let t=0;t<i;t++)n[t]=Math.floor(256*Math.random());return n}class xk{static R(){const n=62*Math.floor(256/62);let t="";for(;t.length<20;){const r=s4(40);for(let o=0;o<r.length;++o)t.length<20&&r[o]<n&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return t}}function en(i,e){return i<e?-1:i>e?1:0}function Sd(i,e,n){return i.length===e.length&&i.every((t,r)=>n(t,e[r]))}function vv(i){return i+"\0"}class fi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $e(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fi.fromMillis(Date.now())}static fromDate(e){return fi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),t=Math.floor(1e6*(e-1e3*n));return new fi(n,t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new fi(0,0))}static max(){return new Mt(new fi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zc{constructor(e,n,t){void 0===n?n=0:n>e.length&&yt(),void 0===t?t=e.length-n:t>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=t}get length(){return this.len}isEqual(e){return 0===Zc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zc?e.forEach(t=>{n.push(t)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,t=this.limit();n<t;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const t=Math.min(e.length,n.length);for(let r=0;r<t;r++){const o=e.get(r),c=n.get(r);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Tn extends Zc{construct(e,n,t){return new Tn(e,n,t)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const t of e){if(t.indexOf("//")>=0)throw new $e(Te.INVALID_ARGUMENT,`Invalid segment (${t}). Paths must not contain // in them.`);n.push(...t.split("/").filter(r=>r.length>0))}return new Tn(n)}static emptyPath(){return new Tn([])}}const o4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends Zc{construct(e,n,t){return new er(e,n,t)}static isValidIdentifier(e){return o4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new er(["__name__"])}static fromServerFormat(e){const n=[];let t="",r=0;const o=()=>{if(0===t.length)throw new $e(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(t),t=""};let c=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new $e(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new $e(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);t+=f,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(t+=d,r++):(o(),r++)}if(o(),c)throw new $e(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(n)}static emptyPath(){return new er([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Tn.fromString(e))}static fromName(e){return new ot(Tn.fromString(e).popFirst(5))}static empty(){return new ot(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Tn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Tn(e.slice()))}}class lg{constructor(e,n,t,r){this.indexId=e,this.collectionGroup=n,this.fields=t,this.indexState=r}}function Rb(i){return i.fields.find(e=>2===e.kind)}function Dd(i){return i.fields.filter(e=>2!==e.kind)}lg.UNKNOWN_ID=-1;class Ob{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ql{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ql(0,mo.min())}}function cg(i,e){const n=i.toTimestamp().seconds,t=i.toTimestamp().nanoseconds+1,r=Mt.fromTimestamp(1e9===t?new fi(n+1,0):new fi(n,t));return new mo(r,ot.empty(),e)}function sx(i){return new mo(i.readTime,i.key,-1)}class mo{constructor(e,n,t){this.readTime=e,this.documentKey=n,this.largestBatchId=t}static min(){return new mo(Mt.min(),ot.empty(),-1)}static max(){return new mo(Mt.max(),ot.empty(),-1)}}function Nb(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=ot.comparator(i.documentKey,e.documentKey),0!==n?n:en(i.largestBatchId,e.largestBatchId))}const ox="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ax{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function $c(i){return ug.apply(this,arguments)}function ug(){return ug=(0,Ae.Z)(function*(i){if(i.code!==Te.FAILED_PRECONDITION||i.message!==ox)throw i;Qe("LocalStore","Unexpectedly lost primary lease")}),ug.apply(this,arguments)}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((t,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(t,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(t,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,t)=>{n(e)})}static reject(e){return new Ce((n,t)=>{t(e)})}static waitFor(e){return new Ce((n,t)=>{let r=0,o=0,c=!1;e.forEach(d=>{++r,d.next(()=>{++o,c&&o===r&&n()},f=>t(f))}),c=!0,o===r&&n()})}static or(e){let n=Ce.resolve(!1);for(const t of e)n=n.next(r=>r?Ce.resolve(r):t());return n}static forEach(e,n){const t=[];return e.forEach((r,o)=>{t.push(n.call(this,r,o))}),this.waitFor(t)}static mapArray(e,n){return new Ce((t,r)=>{const o=e.length,c=new Array(o);let d=0;for(let f=0;f<o;f++){const _=f;n(e[_]).next(b=>{c[_]=b,++d,d===o&&t(c)},b=>r(b))}})}static doWhile(e,n){return new Ce((t,r)=>{const o=()=>{!0===e()?n().next(()=>{o()},r):t()};o()})}}class wv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new Er,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new dg(e,n.error)):this.P.resolve()},this.transaction.onerror=t=>{const r=bv(t.target.error);this.P.reject(new dg(e,r))}}static open(e,n,t,r){try{return new wv(n,e.transaction(r,t))}catch(o){throw new dg(n,o)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Mk(n)}}class ga{constructor(e,n,t){this.name=e,this.version=n,this.S=t,12.2===ga.D((0,z.z$)())&&ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qe("SimpleDb","Removing database:",e),Ad(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,z.hl)())return!1;if(ga.N())return!0;const e=(0,z.z$)(),n=ga.D(e),t=0<n&&n<10,r=ga.k(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||t||o)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),t=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(t)}static k(e){const n=e.match(/Android ([\d.]+)/i),t=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(t)}F(e){var n=this;return(0,Ae.Z)(function*(){return n.db||(Qe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((t,r)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=c=>{t(c.target.result)},o.onblocked=()=>{r(new dg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new $e(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new $e(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new dg(e,d))},o.onupgradeneeded=c=>{Qe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',c.oldVersion),n.S.$(c.target.result,o.transaction,c.oldVersion,n.version).next(()=>{Qe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=t=>n.B(t)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,t,r){var o=this;return(0,Ae.Z)(function*(){const c="readonly"===n;let d=0;for(;;){++d;try{o.db=yield o.F(e);const f=wv.open(o.db,e,c?"readonly":"readwrite",t),_=r(f).next(b=>(f.V(),b)).catch(b=>(f.abort(b),Ce.reject(b))).toPromise();return _.catch(()=>{}),yield f.v,_}catch(f){const _=f,b="FirebaseError"!==_.name&&d<3;if(Qe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),o.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ak{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Ad(this.q.delete())}}class dg extends $e{constructor(e,n){super(Te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Wc(i){return"IndexedDbTransactionError"===i.name}class Mk{constructor(e){this.store=e}put(e,n){let t;return void 0!==n?(Qe("SimpleDb","PUT",this.store.name,e,n),t=this.store.put(n,e)):(Qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),t=this.store.put(e)),Ad(t)}add(e){return Qe("SimpleDb","ADD",this.store.name,e,e),Ad(this.store.add(e))}get(e){return Ad(this.store.get(e)).next(n=>(void 0===n&&(n=null),Qe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Qe("SimpleDb","DELETE",this.store.name,e),Ad(this.store.delete(e))}count(){return Qe("SimpleDb","COUNT",this.store.name),Ad(this.store.count())}W(e,n){const t=this.options(e,n);if(t.index||"function"!=typeof this.store.getAll){const r=this.cursor(t),o=[];return this.H(r,(c,d)=>{o.push(d)}).next(()=>o)}{const r=this.store.getAll(t.range);return new Ce((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}}J(e,n){const t=this.store.getAll(e,null===n?void 0:n);return new Ce((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{r(c.target.result)}})}Y(e,n){Qe("SimpleDb","DELETE ALL",this.store.name);const t=this.options(e,n);t.X=!1;const r=this.cursor(t);return this.H(r,(o,c,d)=>d.delete())}Z(e,n){let t;n?t=e:(t={},n=e);const r=this.cursor(t);return this.H(r,n)}tt(e){const n=this.cursor({});return new Ce((t,r)=>{n.onerror=o=>{const c=bv(o.target.error);r(c)},n.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():t()}):t()}})}H(e,n){const t=[];return new Ce((r,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const f=new Ak(d),_=n(d.primaryKey,d.value,f);if(_ instanceof Ce){const b=_.catch(T=>(f.done(),Ce.reject(T)));t.push(b)}f.isDone?r():null===f.G?d.continue():d.continue(f.G)}}).next(()=>Ce.waitFor(t))}options(e,n){let t;return void 0!==e&&("string"==typeof e?t=e:n=e),{index:t,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const t=this.store.index(e.index);return e.X?t.openKeyCursor(e.range,n):t.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ad(i){return new Ce((e,n)=>{i.onsuccess=t=>{e(t.target.result)},i.onerror=t=>{const r=bv(t.target.error);n(r)}})}let lx=!1;function bv(i){const e=ga.D((0,z.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const t=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lx||(lx=!0,setTimeout(()=>{throw t},0)),t}}return i}class Lb{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;Qe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){n.task=null;try{Qe("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(t){Wc(t)?Qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):yield $c(t)}yield n.nt(6e4)}))}}class kk{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return(0,Ae.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>n.it(t,e))})()}it(e,n){const t=new Set;let r=n,o=!0;return Ce.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!t.has(c))return Qe("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(d=>{r-=d,t.add(c)});o=!1})).next(()=>n-r)}rt(e,n,t){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,t).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,o)).next(d=>(Qe("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,n,d))).next(()=>c.size)}))}ot(e,n){let t=e;return n.changes.forEach((r,o)=>{const c=sx(o);Nb(c,t)>0&&(t=c)}),new mo(t.readTime,t.documentKey,Math.max(n.batchId,e.largestBatchId))}}let go=(()=>{class i{constructor(n,t){this.previousValue=n,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return i.at=-1,i})();class cx{constructor(e,n,t,r,o,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=t,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class Jl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}function Pk(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function fr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Fb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function hg(i){return null==i}function Cv(i){return 0===i&&1/i==-1/0}function Kr(i){return"number"==typeof i&&Number.isInteger(i)&&!Cv(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new tr(n)}static fromUint8Array(e){const n=function(t){let r="";for(let o=0;o<t.length;++o)r+=String.fromCharCode(t[o]);return r}(e);return new tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const Ok=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yc(i){if(Tt(!!i),"string"==typeof i){let e=0;const n=Ok.exec(i);if(Tt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const t=new Date(i);return{seconds:Math.floor(t.getTime()/1e3),nanos:e}}return{seconds:Ii(i.seconds),nanos:Ii(i.nanos)}}function Ii(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Kc(i){return"string"==typeof i?tr.fromBase64String(i):tr.fromUint8Array(i)}function Iv(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ux(i){const e=i.mapValue.fields.__previous_value__;return Iv(e)?ux(e):e}function vp(i){const e=Yc(i.mapValue.fields.__local_write_time__.timestampValue);return new fi(e.seconds,e.nanos)}const Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pg={nullValue:"NULL_VALUE"};function Qc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Iv(i)?4:dx(i)?9007199254740991:10:yt()}function rl(i,e){if(i===e)return!0;const n=Qc(i);if(n!==Qc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return vp(i).isEqual(vp(e));case 3:return function(t,r){if("string"==typeof t.timestampValue&&"string"==typeof r.timestampValue&&t.timestampValue.length===r.timestampValue.length)return t.timestampValue===r.timestampValue;const o=Yc(t.timestampValue),c=Yc(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return r=e,Kc(i.bytesValue).isEqual(Kc(r.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(t,r){return Ii(t.geoPointValue.latitude)===Ii(r.geoPointValue.latitude)&&Ii(t.geoPointValue.longitude)===Ii(r.geoPointValue.longitude)}(i,e);case 2:return function(t,r){if("integerValue"in t&&"integerValue"in r)return Ii(t.integerValue)===Ii(r.integerValue);if("doubleValue"in t&&"doubleValue"in r){const o=Ii(t.doubleValue),c=Ii(r.doubleValue);return o===c?Cv(o)===Cv(c):isNaN(o)&&isNaN(c)}return!1}(i,e);case 9:return Sd(i.arrayValue.values||[],e.arrayValue.values||[],rl);case 10:return function(t,r){const o=t.mapValue.fields||{},c=r.mapValue.fields||{};if(Pk(o)!==Pk(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===c[d]||!rl(o[d],c[d])))return!1;return!0}(i,e);default:return yt()}var r}function wp(i,e){return void 0!==(i.values||[]).find(n=>rl(n,e))}function Jc(i,e){if(i===e)return 0;const n=Qc(i),t=Qc(e);if(n!==t)return en(n,t);switch(n){case 0:case 9007199254740991:return 0;case 1:return en(i.booleanValue,e.booleanValue);case 2:return function(r,o){const c=Ii(r.integerValue||r.doubleValue),d=Ii(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(i,e);case 3:return Tv(i.timestampValue,e.timestampValue);case 4:return Tv(vp(i),vp(e));case 5:return en(i.stringValue,e.stringValue);case 6:return function(r,o){const c=Kc(r),d=Kc(o);return c.compareTo(d)}(i.bytesValue,e.bytesValue);case 7:return function(r,o){const c=r.split("/"),d=o.split("/");for(let f=0;f<c.length&&f<d.length;f++){const _=en(c[f],d[f]);if(0!==_)return _}return en(c.length,d.length)}(i.referenceValue,e.referenceValue);case 8:return function(r,o){const c=en(Ii(r.latitude),Ii(o.latitude));return 0!==c?c:en(Ii(r.longitude),Ii(o.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(r,o){const c=r.values||[],d=o.values||[];for(let f=0;f<c.length&&f<d.length;++f){const _=Jc(c[f],d[f]);if(_)return _}return en(c.length,d.length)}(i.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Xl.mapValue&&o===Xl.mapValue)return 0;if(r===Xl.mapValue)return 1;if(o===Xl.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),f=o.fields||{},_=Object.keys(f);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const T=en(d[b],_[b]);if(0!==T)return T;const M=Jc(c[d[b]],f[_[b]]);if(0!==M)return M}return en(d.length,_.length)}(i.mapValue,e.mapValue);default:throw yt()}}function Tv(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return en(i,e);const n=Yc(i),t=Yc(e),r=en(n.seconds,t.seconds);return 0!==r?r:en(n.nanos,t.nanos)}function _o(i){return Ev(i)}function Ev(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=Yc(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Kc(i.bytesValue).toBase64():"referenceValue"in i?ot.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(t){let r="[",o=!0;for(const c of t.values||[])o?o=!1:r+=",",r+=Ev(c);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Ev(t.fields[d])}`;return o+"}"}(i.mapValue):yt();var e}function ec(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function fg(i){return!!i&&"integerValue"in i}function mg(i){return!!i&&"arrayValue"in i}function Nk(i){return!!i&&"nullValue"in i}function Vb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xv(i){return!!i&&"mapValue"in i}function gg(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return fr(i.mapValue.fields,(n,t)=>e.mapValue.fields[n]=gg(t)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gg(i.arrayValue.values[n]);return e}return Object.assign({},i)}function dx(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Lk(i){return"nullValue"in i?pg:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ec(Jl.empty(),ot.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:yt()}function hx(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ec(Jl.empty(),ot.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Xl:yt()}function Fk(i,e){const n=Jc(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Bb(i,e){const n=Jc(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Xc{constructor(e,n){this.position=e,this.inclusive=n}}function Ub(i,e,n){let t=0;for(let r=0;r<i.position.length;r++){const o=e[r],c=i.position[r];if(t=o.field.isKeyField()?ot.comparator(ot.fromName(c.referenceValue),n.key):Jc(c,n.data.field(o.field)),"desc"===o.dir&&(t*=-1),0!==t)break}return t}function Vk(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!rl(i.position[n],e.position[n]))return!1;return!0}class Sv{}class mn extends Sv{constructor(e,n,t){super(),this.field=e,this.op=n,this.value=t}static create(e,n,t){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,t):new Bk(e,n,t):"array-contains"===n?new Uk(e,t):"in"===n?new Hk(e,t):"not-in"===n?new l4(e,t):"array-contains-any"===n?new c4(e,t):new mn(e,n,t)}static createKeyFieldInFilter(e,n,t){return"in"===n?new a4(e,t):new fx(e,t)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Jc(n,this.value)):null!==n&&Qc(this.value)===Qc(n)&&this.matchesComparison(Jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Nn extends Sv{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Nn(e,n)}matches(e){return bp(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function bp(i){return"and"===i.op}function Dv(i){return"or"===i.op}function Av(i){return Md(i)&&bp(i)}function Md(i){for(const e of i.filters)if(e instanceof Nn)return!1;return!0}function Cp(i){if(i instanceof mn)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(Av(i))return i.filters.map(e=>Cp(e)).join(",");{const e=i.filters.map(n=>Cp(n)).join(",");return`${i.op}(${e})`}}function Hb(i,e){return i instanceof mn?(n=i,(t=e)instanceof mn&&n.op===t.op&&n.field.isEqual(t.field)&&rl(n.value,t.value)):i instanceof Nn?function(n,t){return t instanceof Nn&&n.op===t.op&&n.filters.length===t.filters.length&&n.filters.reduce((r,o,c)=>r&&Hb(o,t.filters[c]),!0)}(i,e):void yt();var n,t}function zb(i,e){const n=i.filters.concat(e);return Nn.create(n,i.op)}function px(i){return i instanceof mn?`${(e=i).field.canonicalString()} ${e.op} ${_o(e.value)}`:i instanceof Nn?function(e){return e.op.toString()+" {"+e.getFilters().map(px).join(" ,")+"}"}(i):"Filter";var e}class Bk extends mn{constructor(e,n,t){super(e,n,t),this.key=ot.fromName(t.referenceValue)}matches(e){const n=ot.comparator(e.key,this.key);return this.matchesComparison(n)}}class a4 extends mn{constructor(e,n){super(e,"in",n),this.keys=mx(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fx extends mn{constructor(e,n){super(e,"not-in",n),this.keys=mx(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mx(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>ot.fromName(t.referenceValue))}class Uk extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mg(n)&&wp(n.arrayValue,this.value)}}class Hk extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&wp(this.value.arrayValue,n)}}class l4 extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!wp(this.value.arrayValue,n)}}class c4 extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(t=>wp(this.value.arrayValue,t))}}class kd{constructor(e,n="asc"){this.field=e,this.dir=n}}function zk(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class qi{constructor(e,n){this.comparator=e,this.root=n||_s.EMPTY}insert(e,n){return new qi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new qi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const t=this.comparator(e,n.key);if(0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}indexOf(e){let n=0,t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return n+t.left.size;r<0?t=t.left:(n+=t.left.size+1,t=t.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,t)=>(e(n,t),!1))}toString(){const e=[];return this.inorderTraversal((n,t)=>(e.push(`${n}:${t}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mv(this.root,e,this.comparator,!0)}}class Mv{constructor(e,n,t,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?t(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _s{constructor(e,n,t,r,o){this.key=e,this.value=n,this.color=t??_s.RED,this.left=r??_s.EMPTY,this.right=o??_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,t,r,o){return new _s(e??this.key,n??this.value,t??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,t){let r=this;const o=t(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,t),null):0===o?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,t)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let t,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return _s.EMPTY;t=r.right.min(),r=r.copy(t.key,t.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1,_s.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(i,e,n,t,r){return this}insert(i,e,n){return new _s(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ni{constructor(e){this.comparator=e,this.data=new qi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,t)=>(e(n),!1))}forEachInRange(e,n){const t=this.data.getIteratorFrom(e[0]);for(;t.hasNext();){const r=t.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let t;for(t=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();t.hasNext();)if(!e(t.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jk(this.data.getIterator())}getIteratorFrom(e){return new jk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(t=>{n=n.add(t)}),n}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const n=this.data.getIterator(),t=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=t.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ni(this.comparator);return n.data=e,n}}class jk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _g(i){return i.hasNext()?i.getNext():void 0}class yo{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new yo([])}unionWith(e){let n=new ni(er.comparator);for(const t of this.fields)n=n.add(t);for(const t of e)n=n.add(t);return new yo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sd(this.fields,e.fields,(n,t)=>n.isEqual(t))}}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let t=0;t<e.length-1;++t)if(n=(n.mapValue.fields||{})[e.get(t)],!xv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gg(n)}setAll(e){let n=er.emptyPath(),t={},r=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,t,r),t={},r=[],n=d.popLast()}c?t[d.lastSegment()]=gg(c):r.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,t,r)}delete(e){const n=this.field(e.popLast());xv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let t=0;t<e.length;++t){let r=n.mapValue.fields[e.get(t)];xv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(t)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,t){fr(n,(r,o)=>e[r]=o);for(const r of t)delete e[r]}clone(){return new Qr(gg(this.value))}}function yg(i){const e=[];return fr(i.fields,(n,t)=>{const r=new er([n]);if(xv(t)){const o=yg(t.mapValue).fields;if(0===o.length)e.push(r);else for(const c of o)e.push(r.child(c))}else e.push(r)}),new yo(e)}class mi{constructor(e,n,t,r,o,c,d){this.key=e,this.documentType=n,this.version=t,this.readTime=r,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new mi(e,0,Mt.min(),Mt.min(),Mt.min(),Qr.empty(),0)}static newFoundDocument(e,n,t,r){return new mi(e,1,n,Mt.min(),t,r,0)}static newNoDocument(e,n){return new mi(e,2,n,Mt.min(),Mt.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new mi(e,3,n,Mt.min(),Mt.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Mt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qk{constructor(e,n=null,t=[],r=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=t,this.filters=r,this.limit=o,this.startAt=c,this.endAt=d,this.ft=null}}function kv(i,e=null,n=[],t=[],r=null,o=null,c=null){return new qk(i,e,n,t,r,o,c)}function vo(i){const e=ct(i);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(t=>Cp(t)).join(","),n+="|ob:",n+=e.orderBy.map(t=>{return(r=t).field.canonicalString()+r.dir;var r}).join(","),hg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(t=>_o(t)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(t=>_o(t)).join(",")),e.ft=n}return e.ft}function Ip(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!zk(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Hb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Vk(i.startAt,e.startAt)&&Vk(i.endAt,e.endAt)}function Tp(i){return ot.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Ep(i,e){return i.filters.filter(n=>n instanceof mn&&n.field.isEqual(e))}function gx(i,e,n){let t=pg,r=!0;for(const o of Ep(i,e)){let c=pg,d=!0;switch(o.op){case"<":case"<=":c=Lk(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=pg}Fk({value:t,inclusive:r},{value:c,inclusive:d})<0&&(t=c,r=d)}if(null!==n)for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(e)){const c=n.position[o];Fk({value:t,inclusive:r},{value:c,inclusive:n.inclusive})<0&&(t=c,r=n.inclusive);break}return{value:t,inclusive:r}}function Pv(i,e,n){let t=Xl,r=!0;for(const o of Ep(i,e)){let c=Xl,d=!0;switch(o.op){case">=":case">":c=hx(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=Xl}Bb({value:t,inclusive:r},{value:c,inclusive:d})>0&&(t=c,r=d)}if(null!==n)for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(e)){const c=n.position[o];Bb({value:t,inclusive:r},{value:c,inclusive:n.inclusive})>0&&(t=c,r=n.inclusive);break}return{value:t,inclusive:r}}class _a{constructor(e,n=null,t=[],r=[],o=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=t,this.filters=r,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=f,this.dt=null,this._t=null}}function vg(i,e,n,t,r,o,c,d){return new _a(i,e,n,t,r,o,c,d)}function wg(i){return new _a(i)}function Gk(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function _x(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function bg(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function jb(i){return null!==i.collectionGroup}function Pd(i){const e=ct(i);if(null===e.dt){e.dt=[];const n=bg(e),t=_x(e);if(null!==n&&null===t)n.isKeyField()||e.dt.push(new kd(n)),e.dt.push(new kd(er.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new kd(er.keyField(),o))}}}return e.dt}function Vs(i){const e=ct(i);if(!e._t)if("F"===e.limitType)e._t=kv(e.path,e.collectionGroup,Pd(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Pd(e))n.push(new kd(o.field,"desc"===o.dir?"asc":"desc"));const t=e.endAt?new Xc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Xc(e.startAt.position,e.startAt.inclusive):null;e._t=kv(e.path,e.collectionGroup,n,e.filters,e.limit,t,r)}return e._t}function qb(i,e){e.getFirstInequalityField(),bg(i);const n=i.filters.concat([e]);return new _a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Cg(i,e,n){return new _a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function xp(i,e){return Ip(Vs(i),Vs(e))&&i.limitType===e.limitType}function Gb(i){return`${vo(Vs(i))}|lt:${i.limitType}`}function Zb(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(t=>px(t)).join(", ")}]`),hg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(t=>_o(t)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(t=>_o(t)).join(",")),`Target(${n})`}(Vs(i))}; limitType=${i.limitType})`}function $b(i,e){return e.isFoundDocument()&&function(n,t){const r=t.key.path;return null!==n.collectionGroup?t.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):ot.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(i,e)&&function(n,t){for(const r of Pd(n))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(i,e)&&function(n,t){for(const r of n.filters)if(!r.matches(t))return!1;return!0}(i,e)&&(t=e,!((n=i).startAt&&!function(r,o,c){const d=Ub(r,o,c);return r.inclusive?d<=0:d<0}(n.startAt,Pd(n),t)||n.endAt&&!function(r,o,c){const d=Ub(r,o,c);return r.inclusive?d>=0:d>0}(n.endAt,Pd(n),t)));var n,t}function Wb(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Rv(i){return(e,n)=>{let t=!1;for(const r of Pd(i)){const o=u4(r,e,n);if(0!==o)return o;t=t||r.field.isKeyField()}return 0}}function u4(i,e,n){const t=i.field.isKeyField()?ot.comparator(e.key,n.key):function(r,o,c){const d=o.data.field(r),f=c.data.field(r);return null!==d&&null!==f?Jc(d,f):yt()}(i.field,e,n);switch(i.dir){case"asc":return t;case"desc":return-1*t;default:return yt()}}function Yb(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cv(e)?"-0":e}}function Ov(i){return{integerValue:""+i}}function yx(i,e){return Kr(e)?Ov(e):Yb(i,e)}class Nv{constructor(){this._=void 0}}function d4(i,e,n){return i instanceof Sp?function(t,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,e):i instanceof Rd?wx(i,e):i instanceof eu?Kb(i,e):function(t,r){const o=vx(t,r),c=bx(o)+bx(t.gt);return fg(o)&&fg(t.gt)?Ov(c):Yb(t.yt,c)}(i,e)}function h4(i,e,n){return i instanceof Rd?wx(i,e):i instanceof eu?Kb(i,e):n}function vx(i,e){return i instanceof Od?fg(n=e)||(t=n)&&"doubleValue"in t?e:{integerValue:0}:null;var t,n}class Sp extends Nv{}class Rd extends Nv{constructor(e){super(),this.elements=e}}function wx(i,e){const n=Zk(e);for(const t of i.elements)n.some(r=>rl(r,t))||n.push(t);return{arrayValue:{values:n}}}class eu extends Nv{constructor(e){super(),this.elements=e}}function Kb(i,e){let n=Zk(e);for(const t of i.elements)n=n.filter(r=>!rl(r,t));return{arrayValue:{values:n}}}class Od extends Nv{constructor(e,n){super(),this.yt=e,this.gt=n}}function bx(i){return Ii(i.integerValue||i.doubleValue)}function Zk(i){return mg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ig{constructor(e,n){this.field=e,this.transform=n}}class Cx{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lv(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Nd{}function Ix(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Mp(i.key,gi.none()):new Ap(i.key,i.data,gi.none());{const n=i.data,t=Qr.empty();let r=new ni(er.comparator);for(let o of e.fields)if(!r.has(o)){let c=n.field(o);null===c&&o.length>1&&(o=o.popLast(),c=n.field(o)),null===c?t.delete(o):t.set(o,c),r=r.add(o)}return new tu(i.key,t,new yo(r.toArray()),gi.none())}}function $k(i,e,n){i instanceof Ap?function(t,r,o){const c=t.value.clone(),d=Yk(t.fieldTransforms,r,o.transformResults);c.setAll(d),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(i,e,n):i instanceof tu?function(t,r,o){if(!Lv(t.precondition,r))return void r.convertToUnknownDocument(o.version);const c=Yk(t.fieldTransforms,r,o.transformResults),d=r.data;d.setAll(Ex(t)),d.setAll(c),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Dp(i,e,n,t){return i instanceof Ap?function(r,o,c,d){if(!Lv(r.precondition,o))return c;const f=r.value.clone(),_=Kk(r.fieldTransforms,d,o);return f.setAll(_),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(i,e,n,t):i instanceof tu?function(r,o,c,d){if(!Lv(r.precondition,o))return c;const f=Kk(r.fieldTransforms,d,o),_=o.data;return _.setAll(Ex(r)),_.setAll(f),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(i,e,n,t):(c=n,Lv(i.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function Tx(i,e){let n=null;for(const t of i.fieldTransforms){const r=e.data.field(t.field),o=vx(t.transform,r||null);null!=o&&(null===n&&(n=Qr.empty()),n.set(t.field,o))}return n||null}function Wk(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(t=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===t||n&&t&&Sd(n,t,(r,o)=>function Qb(i,e){return i.field.isEqual(e.field)&&(t=e.transform,(n=i.transform)instanceof Rd&&t instanceof Rd||n instanceof eu&&t instanceof eu?Sd(n.elements,t.elements,rl):n instanceof Od&&t instanceof Od?rl(n.gt,t.gt):n instanceof Sp&&t instanceof Sp);var n,t}(r,o))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,t}class Ap extends Nd{constructor(e,n,t,r=[]){super(),this.key=e,this.value=n,this.precondition=t,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class tu extends Nd{constructor(e,n,t,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=t,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ex(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const t=i.data.field(n);e.set(n,t)}}),e}function Yk(i,e,n){const t=new Map;Tt(i.length===n.length);for(let r=0;r<n.length;r++){const o=i[r],c=o.transform,d=e.data.field(o.field);t.set(o.field,h4(c,d,n[r]))}return t}function Kk(i,e,n){const t=new Map;for(const r of i){const o=r.transform,c=n.data.field(r.field);t.set(r.field,d4(o,c,e))}return t}class Mp extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jb extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p4{constructor(e){this.count=e}}var xr,Sn;function Qk(i){switch(i){default:return yt();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function Jk(i){if(void 0===i)return ji("GRPC error has no .code"),Te.UNKNOWN;switch(i){case xr.OK:return Te.OK;case xr.CANCELLED:return Te.CANCELLED;case xr.UNKNOWN:return Te.UNKNOWN;case xr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case xr.INTERNAL:return Te.INTERNAL;case xr.UNAVAILABLE:return Te.UNAVAILABLE;case xr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case xr.NOT_FOUND:return Te.NOT_FOUND;case xr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case xr.ABORTED:return Te.ABORTED;case xr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case xr.DATA_LOSS:return Te.DATA_LOSS;default:return yt()}}(Sn=xr||(xr={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";class nu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),t=this.inner[n];if(void 0!==t)for(const[r,o]of t)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return this.inner[t]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),t=this.inner[n];if(void 0===t)return!1;for(let r=0;r<t.length;r++)if(this.equalsFn(t[r][0],e))return 1===t.length?delete this.inner[n]:t.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fr(this.inner,(n,t)=>{for(const[r,o]of t)e(r,o)})}isEmpty(){return Fb(this.inner)}size(){return this.innerSize}}const f4=new qi(ot.comparator);function wo(){return f4}const Xk=new qi(ot.comparator);function Fv(...i){let e=Xk;for(const n of i)e=e.insert(n.key,n);return e}function e3(i){let e=Xk;return i.forEach((n,t)=>e=e.insert(n,t.overlayedDocument)),e}function sl(){return a()}function t3(){return a()}function a(){return new nu(i=>i.toString(),(i,e)=>i.isEqual(e))}const l=new qi(ot.comparator),u=new ni(ot.comparator);function h(...i){let e=u;for(const n of i)e=e.add(n);return e}const p=new ni(en);function g(){return p}class w{constructor(e,n,t,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=t,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,t){const r=new Map;return r.set(e,C.createSynthesizedTargetChangeForCurrentChange(e,n,t)),new w(Mt.min(),r,g(),wo(),h())}}class C{constructor(e,n,t,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=t,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,t){return new C(t,n,h(),h(),h())}}class x{constructor(e,n,t,r){this.It=e,this.removedTargetIds=n,this.key=t,this.Tt=r}}class k{constructor(e,n){this.targetId=e,this.Et=n}}class N{constructor(e,n,t=tr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=t,this.cause=r}}class j{constructor(){this.At=0,this.Rt=ke(),this.bt=tr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=h(),n=h(),t=h();return this.Rt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:t=t.add(r);break;default:yt()}}),new C(this.bt,this.Pt,e,n,t)}xt(){this.vt=!1,this.Rt=ke()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class ne{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=wo(),this.qt=ae(),this.Ut=new ni(en)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const t=this.Wt(n);switch(e.state){case 0:this.zt(n)&&t.Dt(e.resumeToken);break;case 1:t.Mt(),t.Vt||t.xt(),t.Dt(e.resumeToken);break;case 2:t.Mt(),t.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(t.Ft(),t.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),t.Dt(e.resumeToken));break;default:yt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((t,r)=>{this.zt(r)&&n(r)})}Jt(e){const n=e.targetId,t=e.Et.count,r=this.Yt(n);if(r){const o=r.target;if(Tp(o))if(0===t){const c=new ot(o.path);this.Qt(n,c,mi.newNoDocument(c,Mt.min()))}else Tt(1===t);else this.Xt(n)!==t&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((o,c)=>{const d=this.Yt(c);if(d){if(o.current&&Tp(d.target)){const f=new ot(d.target.path);null!==this.Lt.get(f)||this.te(c,f)||this.Qt(c,f,mi.newNoDocument(f,e))}o.St&&(n.set(c,o.Ct()),o.xt())}});let t=h();this.qt.forEach((o,c)=>{let d=!0;c.forEachWhile(f=>{const _=this.Yt(f);return!_||2===_.purpose||(d=!1,!1)}),d&&(t=t.add(o))}),this.Lt.forEach((o,c)=>c.setReadTime(e));const r=new w(e,n,this.Ut,this.Lt,t);return this.Lt=wo(),this.qt=ae(),this.Ut=new ni(en),r}Gt(e,n){if(!this.zt(e))return;const t=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,t),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,t){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,n)?r.Nt(n,1):r.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),t&&(this.Lt=this.Lt.insert(n,t))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new j,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new ni(en),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||Qe("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new j),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function ae(){return new qi(ot.comparator)}function ke(){return new qi(ot.comparator)}const Ke={asc:"ASCENDING",desc:"DESCENDING"},ut={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},St={and:"AND",or:"OR"};class Ge{constructor(e,n){this.databaseId=e,this.wt=n}}function jt(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function on(i,e){return i.wt?e.toBase64():e.toUint8Array()}function zn(i,e){return jt(i,e.toTimestamp())}function En(i){return Tt(!!i),Mt.fromTimestamp(function(e){const n=Yc(e);return new fi(n.seconds,n.nanos)}(i))}function ya(i,e){return(n=i,new Tn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Ld(i){const e=Tn.fromString(i);return Tt(I4(e)),e}function Fd(i,e){return ya(i.databaseId,e.path)}function ol(i,e){const n=Ld(e);if(n.get(1)!==i.databaseId.projectId)throw new $e(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new $e(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ot(g4(n))}function Xb(i,e){return ya(i.databaseId,e)}function m4(i){const e=Ld(i);return 4===e.length?Tn.emptyPath():g4(e)}function eC(i){return new Tn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function g4(i){return Tt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function _4(i,e,n){return{name:Fd(i,e),fields:n.value.mapValue.fields}}function y4(i,e,n){const t=ol(i,e.name),r=En(e.updateTime),o=e.createTime?En(e.createTime):Mt.min(),c=new Qr({mapValue:{fields:e.fields}}),d=mi.newFoundDocument(t,r,o,c);return n&&d.setHasCommittedMutations(),n?d.setHasCommittedMutations():d}function tC(i,e){let n;if(e instanceof Ap)n={update:_4(i,e.key,e.value)};else if(e instanceof Mp)n={delete:Fd(i,e.key)};else if(e instanceof tu)n={update:_4(i,e.key,e.data),updateMask:K8(e.fieldMask)};else{if(!(e instanceof Jb))return yt();n={verify:Fd(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(r,o){const c=o.transform;if(c instanceof Sp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof eu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Od)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw yt()}(0,t))),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:zn(i,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:yt()),n;var r}function n3(i,e){const n=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?gi.updateTime(En(r.updateTime)):void 0!==r.exists?gi.exists(r.exists):gi.none():gi.none(),t=e.updateTransforms?e.updateTransforms.map(r=>function(o,c){let d=null;"setToServerValue"in c?(Tt("REQUEST_TIME"===c.setToServerValue),d=new Sp):"appendMissingElements"in c?d=new Rd(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new eu(c.removeAllFromArray.values||[]):"increment"in c?d=new Od(o,c.increment):yt();const f=er.fromServerFormat(c.fieldPath);return new Ig(f,d)}(i,r)):[];var r;if(e.update){const r=ol(i,e.update.name),o=new Qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new yo((e.updateMask.fieldPaths||[]).map(_=>er.fromServerFormat(_)));return new tu(r,o,c,n,t)}return new Ap(r,o,n,t)}if(e.delete){const r=ol(i,e.delete);return new Mp(r,n)}if(e.verify){const r=ol(i,e.verify);return new Jb(r,n)}return yt()}function v4(i,e){return{documents:[Xb(i,e.path)]}}function r3(i,e){const n={structuredQuery:{}},t=e.path;null!==e.collectionGroup?(n.parent=Xb(i,t),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xb(i,t.popLast()),n.structuredQuery.from=[{collectionId:t.lastSegment()}]);const r=function(f){if(0!==f.length)return C4(Nn.create(f,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(f){if(0!==f.length)return f.map(_=>{return{field:Vv((b=_).field),direction:$8(b.dir)};var b})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=(_=e.limit,i.wt||hg(_)?_:{value:_});var _,d,f;return null!==c&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(n.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),n}function w4(i){let e=m4(i.parent);const n=i.structuredQuery,t=n.from?n.from.length:0;let r=null;if(t>0){Tt(1===t);const b=n.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let o=[];n.where&&(o=function(b){const T=b4(b);return T instanceof Nn&&Av(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=n.orderBy.map(b=>{return new kd(Bv((T=b).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let d=null;n.limit&&(d=function(b){let T;return T="object"==typeof b?b.value:b,hg(T)?null:T}(n.limit));let f=null;var b;n.startAt&&(f=new Xc((b=n.startAt).values||[],!!b.before));let _=null;return n.endAt&&(_=function(b){return new Xc(b.values||[],!b.before)}(n.endAt)),vg(e,r,c,o,d,"F",f,_)}function b4(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Bv(e.unaryFilter.field);return mn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const t=Bv(e.unaryFilter.field);return mn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bv(e.unaryFilter.field);return mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bv(e.unaryFilter.field);return mn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(i):void 0!==i.fieldFilter?mn.create(Bv((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Nn.create(e.compositeFilter.filters.map(n=>b4(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return yt()}}(e.compositeFilter.op))}(i):yt();var e}function $8(i){return Ke[i]}function W8(i){return ut[i]}function Y8(i){return St[i]}function Vv(i){return{fieldPath:i.canonicalString()}}function Bv(i){return er.fromServerFormat(i.fieldPath)}function C4(i){return i instanceof mn?function(e){if("=="===e.op){if(Vb(e.value))return{unaryFilter:{field:Vv(e.field),op:"IS_NAN"}};if(Nk(e.value))return{unaryFilter:{field:Vv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vb(e.value))return{unaryFilter:{field:Vv(e.field),op:"IS_NOT_NAN"}};if(Nk(e.value))return{unaryFilter:{field:Vv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vv(e.field),op:W8(e.op),value:e.value}}}(i):i instanceof Nn?function(e){const n=e.getFilters().map(t=>C4(t));return 1===n.length?n[0]:{compositeFilter:{op:Y8(e.op),filters:n}}}(i):yt()}function K8(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function I4(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function bo(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=T4(e)),e=Q8(i.get(n),e);return T4(e)}function Q8(i,e){let n=e;const t=i.length;for(let r=0;r<t;r++){const o=i.charAt(r);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function T4(i){return i+"\x01\x01"}function iu(i){const e=i.length;if(Tt(e>=2),2===e)return Tt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Tn.emptyPath();const n=e-2,t=[];let r="";for(let o=0;o<e;){const c=i.indexOf("\x01",o);switch((c<0||c>n)&&yt(),i.charAt(c+1)){case"\x01":const d=i.substring(o,c);let f;0===r.length?f=d:(r+=d,f=r,r=""),t.push(f);break;case"\x10":r+=i.substring(o,c),r+="\0";break;case"\x11":r+=i.substring(o,c+1);break;default:yt()}o=c+2}return new Tn(t)}const E4=["userId","batchId"];function xx(i,e){return[i,bo(e)]}function x4(i,e,n){return[i,bo(e),n]}const J8={},X8=["prefixPath","collectionGroup","readTime","documentId"],eV=["prefixPath","collectionGroup","documentId"],tV=["collectionGroup","readTime","prefixPath","documentId"],nV=["canonicalId","targetId"],iV=["targetId","path"],rV=["path","targetId"],sV=["collectionId","parent"],oV=["indexId","uid"],aV=["uid","sequenceNumber"],lV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cV=["indexId","uid","orderedDocumentKey"],uV=["userId","collectionPath","documentId"],dV=["userId","collectionPath","largestBatchId"],hV=["userId","collectionGroup","largestBatchId"],S4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pV=[...S4,"documentOverlays"],D4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],A4=D4,fV=[...A4,"indexConfiguration","indexState","indexEntries"];class s3 extends ax{constructor(e,n){super(),this.se=e,this.currentSequenceNumber=n}}function ys(i,e){const n=ct(i);return ga.M(n.se,e)}class o3{constructor(e,n,t,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=t,this.mutations=r}applyToRemoteDocument(e,n){const t=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&$k(o,e,t[r])}}applyToLocalView(e,n){for(const t of this.baseMutations)t.key.isEqual(e.key)&&(n=Dp(t,e,n,this.localWriteTime));for(const t of this.mutations)t.key.isEqual(e.key)&&(n=Dp(t,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const t=t3();return this.mutations.forEach(r=>{const o=e.get(r.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(r.key)?null:d;const f=Ix(c,d);null!==f&&t.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Mt.min())}),t}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),h())}isEqual(e){return this.batchId===e.batchId&&Sd(this.mutations,e.mutations,(n,t)=>Wk(n,t))&&Sd(this.baseMutations,e.baseMutations,(n,t)=>Wk(n,t))}}class a3{constructor(e,n,t,r){this.batch=e,this.commitVersion=n,this.mutationResults=t,this.docVersions=r}static from(e,n,t){Tt(e.mutations.length===t.length);let r=l;const o=e.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,t[c].version);return new a3(e,n,t,r)}}class l3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kp{constructor(e,n,t,r,o=Mt.min(),c=Mt.min(),d=tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=t,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(e){return new kp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new kp(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new kp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class M4{constructor(e){this.ie=e}}function k4(i,e){const n=e.key,t={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Sx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())t.document={name:Fd(r=i.ie,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:jt(r,o.version.toTimestamp()),createTime:jt(r,o.createTime.toTimestamp())};else if(e.isNoDocument())t.noDocument={path:n.path.toArray(),readTime:Tg(e.version)};else{if(!e.isUnknownDocument())return yt();t.unknownDocument={path:n.path.toArray(),version:Tg(e.version)}}var r,o;return t}function Sx(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Tg(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Eg(i){const e=new fi(i.seconds,i.nanoseconds);return Mt.fromTimestamp(e)}function xg(i,e){const n=(e.baseMutations||[]).map(o=>n3(i.ie,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const t=e.mutations.map(o=>n3(i.ie,o)),r=fi.fromMillis(e.localWriteTimeMs);return new o3(e.batchId,r,n,t)}function nC(i){const e=Eg(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Eg(i.lastLimboFreeSnapshotVersion):Mt.min();let t;var r;return void 0!==i.query.documents?(Tt(1===(r=i.query).documents.length),t=Vs(wg(m4(r.documents[0])))):t=Vs(w4(i.query)),new kp(t,i.targetId,0,i.lastListenSequenceNumber,e,n,tr.fromBase64String(i.resumeToken))}function P4(i,e){const n=Tg(e.snapshotVersion),t=Tg(e.lastLimboFreeSnapshotVersion);let r;r=Tp(e.target)?v4(i.ie,e.target):r3(i.ie,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vo(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:t,query:r}}function c3(i){const e=w4({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Cg(e,e.limit,"L"):e}function u3(i,e){return new l3(e.largestBatchId,n3(i.ie,e.overlayMutation))}function R4(i,e){const n=e.path.lastSegment();return[i,bo(e.path.popLast()),n]}function O4(i,e,n,t){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:Tg(t.readTime),documentKey:bo(t.documentKey.path),largestBatchId:t.largestBatchId}}class gV{getBundleMetadata(e,n){return N4(e).get(n).next(t=>{if(t)return{id:(r=t).bundleId,createTime:Eg(r.createTime),version:r.version};var r})}saveBundleMetadata(e,n){return N4(e).put({bundleId:(t=n).id,createTime:Tg(En(t.createTime)),version:t.version});var t}getNamedQuery(e,n){return L4(e).get(n).next(t=>{if(t)return{name:(r=t).name,query:c3(r.bundledQuery),readTime:Eg(r.readTime)};var r})}saveNamedQuery(e,n){return L4(e).put({name:(t=n).name,readTime:Tg(En(t.readTime)),bundledQuery:t.bundledQuery});var t}}function N4(i){return ys(i,"bundles")}function L4(i){return ys(i,"namedQueries")}class Dx{constructor(e,n){this.yt=e,this.userId=n}static re(e,n){return new Dx(e,n.uid||"")}getOverlay(e,n){return iC(e).get(R4(this.userId,n)).next(t=>t?u3(this.yt,t):null)}getOverlays(e,n){const t=sl();return Ce.forEach(n,r=>this.getOverlay(e,r).next(o=>{null!==o&&t.set(r,o)})).next(()=>t)}saveOverlays(e,n,t){const r=[];return t.forEach((o,c)=>{const d=new l3(n,c);r.push(this.oe(e,d))}),Ce.waitFor(r)}removeOverlaysForBatchId(e,n,t){const r=new Set;n.forEach(c=>r.add(bo(c.getCollectionPath())));const o=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,t],[this.userId,c,t+1],!1,!0);o.push(iC(e).Y("collectionPathOverlayIndex",d))}),Ce.waitFor(o)}getOverlaysForCollection(e,n,t){const r=sl(),o=bo(n),c=IDBKeyRange.bound([this.userId,o,t],[this.userId,o,Number.POSITIVE_INFINITY],!0);return iC(e).W("collectionPathOverlayIndex",c).next(d=>{for(const f of d){const _=u3(this.yt,f);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(e,n,t,r){const o=sl();let c;const d=IDBKeyRange.bound([this.userId,n,t],[this.userId,n,Number.POSITIVE_INFINITY],!0);return iC(e).Z({index:"collectionGroupOverlayIndex",range:d},(f,_,b)=>{const T=u3(this.yt,_);o.size()<r||T.largestBatchId===c?(o.set(T.getKey(),T),c=T.largestBatchId):b.done()}).next(()=>o)}oe(e,n){return iC(e).put(function(t,r,o){const[c,d,f]=R4(r,o.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:tC(t.ie,o.mutation)}}(this.yt,this.userId,n))}}function iC(i){return ys(i,"documentOverlays")}class Sg{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(Ii(e.integerValue));else if("doubleValue"in e){const t=Ii(e.doubleValue);isNaN(t)?this.he(n,13):(this.he(n,15),Cv(t)?n.le(0):n.le(t))}else if("timestampValue"in e){const t=e.timestampValue;this.he(n,20),"string"==typeof t?n.fe(t):(n.fe(`${t.seconds||""}`),n.le(t.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(Kc(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const t=e.geoPointValue;this.he(n,45),n.le(t.latitude||0),n.le(t.longitude||0)}else"mapValue"in e?dx(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):yt()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const t=e.fields||{};this.he(n,55);for(const r of Object.keys(t))this.de(r,n),this.ce(t[r],n)}ye(e,n){const t=e.values||[];this.he(n,50);for(const r of t)this.ce(r,n)}me(e,n){this.he(n,37),ot.fromName(e).path.forEach(t=>{this.he(n,60),this.pe(t,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}function _V(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function F4(i){const e=64-function(n){let t=0;for(let r=0;r<8;++r){const o=_V(255&n[r]);if(t+=o,8!==o)break}return t}(i);return Math.ceil(e/8)}Sg.Ie=new Sg;class yV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const n=e[Symbol.iterator]();let t=n.next();for(;!t.done;)this.Ee(t.value),t=n.next();this.Ae()}Re(e){const n=e[Symbol.iterator]();let t=n.next();for(;!t.done;)this.be(t.value),t=n.next();this.Pe()}ve(e){for(const n of e){const t=n.charCodeAt(0);if(t<128)this.Ee(t);else if(t<2048)this.Ee(960|t>>>6),this.Ee(128|63&t);else if(n<"\ud800"||"\udbff"<n)this.Ee(480|t>>>12),this.Ee(128|63&t>>>6),this.Ee(128|63&t);else{const r=n.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(e){for(const n of e){const t=n.charCodeAt(0);if(t<128)this.be(t);else if(t<2048)this.be(960|t>>>6),this.be(128|63&t);else if(n<"\ud800"||"\udbff"<n)this.be(480|t>>>12),this.be(128|63&t>>>6),this.be(128|63&t);else{const r=n.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(e){const n=this.De(e),t=F4(n);this.Ce(1+t),this.buffer[this.position++]=255&t;for(let r=n.length-t;r<n.length;++r)this.buffer[this.position++]=255&n[r]}xe(e){const n=this.De(e),t=F4(n);this.Ce(1+t),this.buffer[this.position++]=~(255&t);for(let r=n.length-t;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const n=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),t=0!=(128&n[0]);n[0]^=t?255:128;for(let r=1;r<n.length;++r)n[r]^=t?255:0;return n}Ee(e){const n=255&e;0===n?(this.ke(0),this.ke(255)):255===n?(this.ke(255),this.ke(0)):this.ke(n)}be(e){const n=255&e;0===n?(this.Me(0),this.Me(255)):255===n?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const n=e+this.position;if(n<=this.buffer.length)return;let t=2*this.buffer.length;t<n&&(t=n);const r=new Uint8Array(t);r.set(this.buffer),this.buffer=r}}class vV{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class wV{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class rC{constructor(){this.$e=new yV,this.Be=new vV(this.$e),this.Le=new wV(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Dg{constructor(e,n,t,r){this.indexId=e,this.documentKey=n,this.arrayValue=t,this.directionalValue=r}Ue(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,t=new Uint8Array(n);return t.set(this.directionalValue,0),n!==e?t.set([0],this.directionalValue.length):++t[t.length-1],new Dg(this.indexId,this.documentKey,this.arrayValue,t)}}function Pp(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=V4(i.arrayValue,e.arrayValue),0!==n?n:(n=V4(i.directionalValue,e.directionalValue),0!==n?n:ot.comparator(i.documentKey,e.documentKey)))}function V4(i,e){for(let n=0;n<i.length&&n<e.length;++n){const t=i[n]-e[n];if(0!==t)return t}return i.length-e.length}class bV{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const n of e.filters){const t=n;t.isInequality()?this.Qe=t:this.Ge.push(t)}}je(e){Tt(e.collectionGroup===this.collectionId);const n=Rb(e);if(void 0!==n&&!this.We(n))return!1;const t=Dd(e);let r=0,o=0;for(;r<t.length&&this.We(t[r]);++r);if(r===t.length)return!0;if(void 0!==this.Qe){const c=t[r];if(!this.ze(this.Qe,c)||!this.He(this.Ke[o++],c))return!1;++r}for(;r<t.length;++r)if(o>=this.Ke.length||!this.He(this.Ke[o++],t[r]))return!1;return!0}We(e){for(const n of this.Ge)if(this.ze(n,e))return!0;return!1}ze(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function B4(i){var e,n;if(Tt(i instanceof mn||i instanceof Nn),i instanceof mn){if(i instanceof Hk){const r=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>mn.create(i.field,"==",o)))||[];return Nn.create(r,"or")}return i}const t=i.filters.map(r=>B4(r));return Nn.create(t,i.op)}function CV(i){if(0===i.getFilters().length)return[];const e=p3(B4(i));return Tt(U4(e)),d3(e)||h3(e)?[e]:e.getFilters()}function d3(i){return i instanceof mn}function h3(i){return i instanceof Nn&&Av(i)}function U4(i){return d3(i)||h3(i)||function(e){if(e instanceof Nn&&Dv(e)){for(const n of e.getFilters())if(!d3(n)&&!h3(n))return!1;return!0}return!1}(i)}function p3(i){if(Tt(i instanceof mn||i instanceof Nn),i instanceof mn)return i;if(1===i.filters.length)return p3(i.filters[0]);const e=i.filters.map(t=>p3(t));let n=Nn.create(e,i.op);return n=Ax(n),U4(n)?n:(Tt(n instanceof Nn),Tt(bp(n)),Tt(n.filters.length>1),n.filters.reduce((t,r)=>f3(t,r)))}function f3(i,e){let n;return Tt(i instanceof mn||i instanceof Nn),Tt(e instanceof mn||e instanceof Nn),n=i instanceof mn?e instanceof mn?Nn.create([i,e],"and"):H4(i,e):e instanceof mn?H4(e,i):function(t,r){if(Tt(t.filters.length>0&&r.filters.length>0),bp(t)&&bp(r))return zb(t,r.getFilters());const o=Dv(t)?t:r,c=Dv(t)?r:t,d=o.filters.map(f=>f3(f,c));return Nn.create(d,"or")}(i,e),Ax(n)}function H4(i,e){if(bp(e))return zb(e,i.getFilters());{const n=e.filters.map(t=>f3(i,t));return Nn.create(n,"or")}}function Ax(i){if(Tt(i instanceof mn||i instanceof Nn),i instanceof mn)return i;const e=i.getFilters();if(1===e.length)return Ax(e[0]);if(Md(i))return i;const n=e.map(r=>Ax(r)),t=[];return n.forEach(r=>{r instanceof mn?t.push(r):r instanceof Nn&&(r.op===i.op?t.push(...r.filters):t.push(r))}),1===t.length?t[0]:Nn.create(t,i.op)}class IV{constructor(){this.Je=new m3}addToCollectionParentIndex(e,n){return this.Je.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(mo.min())}updateCollectionGroup(e,n,t){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class m3{constructor(){this.index={}}add(e){const n=e.lastSegment(),t=e.popLast(),r=this.index[n]||new ni(Tn.comparator),o=!r.has(t);return this.index[n]=r.add(t),o}has(e){const n=e.lastSegment(),t=e.popLast(),r=this.index[n];return r&&r.has(t)}getEntries(e){return(this.index[e]||new ni(Tn.comparator)).toArray()}}const Mx=new Uint8Array(0);class TV{constructor(e,n){this.user=e,this.databaseId=n,this.Ye=new m3,this.Xe=new nu(t=>vo(t),(t,r)=>Ip(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ye.has(n)){const t=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.Ye.add(n)});const o={collectionId:t,parent:bo(r)};return z4(e).put(o)}return Ce.resolve()}getCollectionParents(e,n){const t=[],r=IDBKeyRange.bound([n,""],[vv(n),""],!1,!0);return z4(e).W(r).next(o=>{for(const c of o){if(c.collectionId!==n)break;t.push(iu(c.parent))}return t})}addFieldIndex(e,n){const t=kx(e),r={indexId:(c=n).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const o=t.add(r);if(n.indexState){const c=oC(e);return o.next(d=>{c.put(O4(d,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const t=kx(e),r=oC(e),o=sC(e);return t.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const t=sC(e);let r=!0;const o=new Map;return Ce.forEach(this.Ze(n),c=>this.tn(e,c).next(d=>{r&&(r=!!d),o.set(c,d)})).next(()=>{if(r){let c=h();const d=[];return Ce.forEach(o,(f,_)=>{var b;Qe("IndexedDbIndexManager",`Using index ${b=f,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Ue=>`${Ue.fieldPath}:${Ue.kind}`).join(",")}`} to execute ${vo(n)}`);const T=function(Ue,Oe){const it=Rb(Oe);if(void 0===it)return null;for(const pt of Ep(Ue,it.fieldPath))switch(pt.op){case"array-contains-any":return pt.value.arrayValue.values||[];case"array-contains":return[pt.value]}return null}(_,f),M=function(Ue,Oe){const it=new Map;for(const pt of Dd(Oe))for(const Ot of Ep(Ue,pt.fieldPath))switch(Ot.op){case"==":case"in":it.set(pt.fieldPath.canonicalString(),Ot.value);break;case"not-in":case"!=":return it.set(pt.fieldPath.canonicalString(),Ot.value),Array.from(it.values())}return null}(_,f),R=function(Ue,Oe){const it=[];let pt=!0;for(const Ot of Dd(Oe)){const Qn=0===Ot.kind?gx(Ue,Ot.fieldPath,Ue.startAt):Pv(Ue,Ot.fieldPath,Ue.startAt);it.push(Qn.value),pt&&(pt=Qn.inclusive)}return new Xc(it,pt)}(_,f),B=function(Ue,Oe){const it=[];let pt=!0;for(const Ot of Dd(Oe)){const Qn=0===Ot.kind?Pv(Ue,Ot.fieldPath,Ue.endAt):gx(Ue,Ot.fieldPath,Ue.endAt);it.push(Qn.value),pt&&(pt=Qn.inclusive)}return new Xc(it,pt)}(_,f),K=this.en(f,_,R),te=this.en(f,_,B),_e=this.nn(f,_,M),Ne=this.sn(f.indexId,T,K,R.inclusive,te,B.inclusive,_e);return Ce.forEach(Ne,Ue=>t.J(Ue,n.limit).next(Oe=>{Oe.forEach(it=>{const pt=ot.fromSegments(it.documentKey);c.has(pt)||(c=c.add(pt),d.push(pt))})}))}).next(()=>d)}return Ce.resolve(null)})}Ze(e){let n=this.Xe.get(e);return n||(n=0===e.filters.length?[e]:CV(Nn.create(e.filters,"and")).map(t=>kv(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,n),n)}sn(e,n,t,r,o,c,d){const f=(null!=n?n.length:1)*Math.max(t.length,o.length),_=f/(null!=n?n.length:1),b=[];for(let T=0;T<f;++T){const M=n?this.rn(n[T/_]):Mx,R=this.on(e,M,t[T%_],r),B=this.un(e,M,o[T%_],c),K=d.map(te=>this.on(e,M,te,!0));b.push(...this.createRange(R,B,K))}return b}on(e,n,t,r){const o=new Dg(e,ot.empty(),n,t);return r?o:o.Ue()}un(e,n,t,r){const o=new Dg(e,ot.empty(),n,t);return r?o.Ue():o}tn(e,n){const t=new bV(n),r=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let c=null;for(const d of o)t.je(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,n){let t=2;const r=this.Ze(n);return Ce.forEach(r,o=>this.tn(e,o).next(c=>{c?0!==t&&c.fields.length<function(d){let f=new ni(er.comparator),_=!1;for(const b of d.filters)for(const T of b.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?_=!0:f=f.add(T.field));for(const b of d.orderBy)b.field.isKeyField()||(f=f.add(b.field));return f.size+(_?1:0)}(o)&&(t=1):t=0})).next(()=>null!==n.limit&&r.length>1&&2===t?1:t)}cn(e,n){const t=new rC;for(const r of Dd(e)){const o=n.data.field(r.fieldPath);if(null==o)return null;const c=t.qe(r.kind);Sg.Ie.ue(o,c)}return t.Fe()}rn(e){const n=new rC;return Sg.Ie.ue(e,n.qe(0)),n.Fe()}an(e,n){const t=new rC;return Sg.Ie.ue(ec(this.databaseId,n),t.qe(function(r){const o=Dd(r);return 0===o.length?0:o[o.length-1].kind}(e))),t.Fe()}nn(e,n,t){if(null===t)return[];let r=[];r.push(new rC);let o=0;for(const c of Dd(e)){const d=t[o++];for(const f of r)if(this.hn(n,c.fieldPath)&&mg(d))r=this.ln(r,c,d);else{const _=f.qe(c.kind);Sg.Ie.ue(d,_)}}return this.fn(r)}en(e,n,t){return this.nn(e,n,t.position)}fn(e){const n=[];for(let t=0;t<e.length;++t)n[t]=e[t].Fe();return n}ln(e,n,t){const r=[...e],o=[];for(const c of t.arrayValue.values||[])for(const d of r){const f=new rC;f.seed(d.Fe()),Sg.Ie.ue(c,f.qe(n.kind)),o.push(f)}return o}hn(e,n){return!!e.filters.find(t=>t instanceof mn&&t.field.isEqual(n)&&("in"===t.op||"not-in"===t.op))}getFieldIndexes(e,n){const t=kx(e),r=oC(e);return(n?t.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):t.W()).next(o=>{const c=[];return Ce.forEach(o,d=>r.get([d.indexId,this.uid]).next(f=>{c.push(function(_,b){const T=b?new Ql(b.sequenceNumber,new mo(Eg(b.readTime),new ot(iu(b.documentKey)),b.largestBatchId)):Ql.empty(),M=_.fields.map(([R,B])=>new Ob(er.fromServerFormat(R),B));return new lg(_.indexId,_.collectionGroup,M,T)}(d,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((t,r)=>{const o=t.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:en(t.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,t){const r=kx(e),o=oC(e);return this.dn(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(d=>Ce.forEach(d,f=>o.put(O4(f.indexId,this.user,c,t)))))}updateIndexEntries(e,n){const t=new Map;return Ce.forEach(n,(r,o)=>{const c=t.get(r.collectionGroup);return(c?Ce.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(t.set(r.collectionGroup,d),Ce.forEach(d,f=>this._n(e,r,f).next(_=>{const b=this.wn(o,f);return _.isEqual(b)?Ce.resolve():this.mn(e,o,f,_,b)}))))})}gn(e,n,t,r){return sC(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(t,n.key),documentKey:n.key.path.toArray()})}yn(e,n,t,r){return sC(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(t,n.key),n.key.path.toArray()])}_n(e,n,t){const r=sC(e);let o=new ni(Pp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([t.indexId,this.uid,this.an(t,n)])},(c,d)=>{o=o.add(new Dg(t.indexId,n,d.arrayValue,d.directionalValue))}).next(()=>o)}wn(e,n){let t=new ni(Pp);const r=this.cn(n,e);if(null==r)return t;const o=Rb(n);if(null!=o){const c=e.data.field(o.fieldPath);if(mg(c))for(const d of c.arrayValue.values||[])t=t.add(new Dg(n.indexId,e.key,this.rn(d),r))}else t=t.add(new Dg(n.indexId,e.key,Mx,r));return t}mn(e,n,t,r,o){Qe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const c=[];return function(d,f,_,b,T){const M=d.getIterator(),R=f.getIterator();let B=_g(M),K=_g(R);for(;B||K;){let te=!1,_e=!1;if(B&&K){const Ne=_(B,K);Ne<0?_e=!0:Ne>0&&(te=!0)}else null!=B?_e=!0:te=!0;te?(b(K),K=_g(R)):_e?(T(B),B=_g(M)):(B=_g(M),K=_g(R))}}(r,o,Pp,d=>{c.push(this.gn(e,n,t,d))},d=>{c.push(this.yn(e,n,t,d))}),Ce.waitFor(c)}dn(e){let n=1;return oC(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(t,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,t){t=t.sort((c,d)=>Pp(c,d)).filter((c,d,f)=>!d||0!==Pp(c,f[d-1]));const r=[];r.push(e);for(const c of t){const d=Pp(c,e),f=Pp(c,n);if(0===d)r[0]=e.Ue();else if(d>0&&f<0)r.push(c),r.push(c.Ue());else if(f>0)break}r.push(n);const o=[];for(let c=0;c<r.length;c+=2){if(this.pn(r[c],r[c+1]))return[];o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,Mx,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,Mx,[]]))}return o}pn(e,n){return Pp(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(j4)}getMinOffset(e,n){return Ce.mapArray(this.Ze(n),t=>this.tn(e,t).next(r=>r||yt())).next(j4)}}function z4(i){return ys(i,"collectionParents")}function sC(i){return ys(i,"indexEntries")}function kx(i){return ys(i,"indexConfiguration")}function oC(i){return ys(i,"indexState")}function j4(i){Tt(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let t=1;t<i.length;t++){const r=i[t].indexState.offset;Nb(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new mo(e.readTime,e.documentKey,n)}const q4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{constructor(e,n,t){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=t}static withCacheSize(e){return new Zo(e,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function G4(i,e,n){const t=i.store("mutations"),r=i.store("documentMutations"),o=[],c=IDBKeyRange.only(n.batchId);let d=0;const f=t.Z({range:c},(b,T,M)=>(d++,M.delete()));o.push(f.next(()=>{Tt(1===d)}));const _=[];for(const b of n.mutations){const T=x4(e,b.key.path,n.batchId);o.push(r.delete(T)),_.push(b.key)}return Ce.waitFor(o).next(()=>_)}function Px(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw yt();e=i.noDocument}return JSON.stringify(e).length}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class Rx{constructor(e,n,t,r){this.userId=e,this.yt=n,this.indexManager=t,this.referenceDelegate=r,this.In={}}static re(e,n,t,r){Tt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Rx(o,n,t,r)}checkEmpty(e){let n=!0;const t=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rp(e).Z({index:"userMutationsIndex",range:t},(r,o,c)=>{n=!1,c.done()}).next(()=>n)}addMutationBatch(e,n,t,r){const o=Uv(e),c=Rp(e);return c.add({}).next(d=>{Tt("number"==typeof d);const f=new o3(d,n,t,r),_=function(M,R,B){const K=B.baseMutations.map(_e=>tC(M.ie,_e)),te=B.mutations.map(_e=>tC(M.ie,_e));return{userId:R,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:K,mutations:te}}(this.yt,this.userId,f),b=[];let T=new ni((M,R)=>en(M.canonicalString(),R.canonicalString()));for(const M of r){const R=x4(this.userId,M.key.path,d);T=T.add(M.key.path.popLast()),b.push(c.put(_)),b.push(o.put(R,J8))}return T.forEach(M=>{b.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.In[d]=f.keys()}),Ce.waitFor(b).next(()=>f)})}lookupMutationBatch(e,n){return Rp(e).get(n).next(t=>t?(Tt(t.userId===this.userId),xg(this.yt,t)):null)}Tn(e,n){return this.In[n]?Ce.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(t=>{if(t){const r=t.keys();return this.In[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){const t=n+1,r=IDBKeyRange.lowerBound([this.userId,t]);let o=null;return Rp(e).Z({index:"userMutationsIndex",range:r},(c,d,f)=>{d.userId===this.userId&&(Tt(d.batchId>=t),o=xg(this.yt,d)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let t=-1;return Rp(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(r,o,c)=>{t=o.batchId,c.done()}).next(()=>t)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rp(e).W("userMutationsIndex",n).next(t=>t.map(r=>xg(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){const t=xx(this.userId,n.path),r=IDBKeyRange.lowerBound(t),o=[];return Uv(e).Z({range:r},(c,d,f)=>{const[_,b,T]=c,M=iu(b);if(_===this.userId&&n.path.isEqual(M))return Rp(e).get(T).next(R=>{if(!R)throw yt();Tt(R.userId===this.userId),o.push(xg(this.yt,R))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let t=new ni(en);const r=[];return n.forEach(o=>{const c=xx(this.userId,o.path),d=IDBKeyRange.lowerBound(c),f=Uv(e).Z({range:d},(_,b,T)=>{const[M,R,B]=_,K=iu(R);M===this.userId&&o.path.isEqual(K)?t=t.add(B):T.done()});r.push(f)}),Ce.waitFor(r).next(()=>this.En(e,t))}getAllMutationBatchesAffectingQuery(e,n){const t=n.path,r=t.length+1,o=xx(this.userId,t),c=IDBKeyRange.lowerBound(o);let d=new ni(en);return Uv(e).Z({range:c},(f,_,b)=>{const[T,M,R]=f,B=iu(M);T===this.userId&&t.isPrefixOf(B)?B.length===r&&(d=d.add(R)):b.done()}).next(()=>this.En(e,d))}En(e,n){const t=[],r=[];return n.forEach(o=>{r.push(Rp(e).get(o).next(c=>{if(null===c)throw yt();Tt(c.userId===this.userId),t.push(xg(this.yt,c))}))}),Ce.waitFor(r).next(()=>t)}removeMutationBatch(e,n){return G4(e.se,this.userId,n).next(t=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),Ce.forEach(t,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ce.resolve();const t=IDBKeyRange.lowerBound([this.userId]),r=[];return Uv(e).Z({range:t},(o,c,d)=>{if(o[0]===this.userId){const f=iu(o[1]);r.push(f)}else d.done()}).next(()=>{Tt(0===r.length)})})}containsKey(e,n){return Z4(e,this.userId,n)}Rn(e){return $4(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Z4(i,e,n){const t=xx(e,n.path),r=t[1],o=IDBKeyRange.lowerBound(t);let c=!1;return Uv(i).Z({range:o,X:!0},(d,f,_)=>{const[b,T,M]=d;b===e&&T===r&&(c=!0),_.done()}).next(()=>c)}function Rp(i){return ys(i,"mutations")}function Uv(i){return ys(i,"documentMutations")}function $4(i){return ys(i,"mutationQueues")}class Ag{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ag(0)}static vn(){return new Ag(-1)}}class EV{constructor(e,n){this.referenceDelegate=e,this.yt=n}allocateTargetId(e){return this.Vn(e).next(n=>{const t=new Ag(n.highestTargetId);return n.highestTargetId=t.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>Mt.fromTimestamp(new fi(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,t){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=n,t&&(r.lastRemoteSnapshotVersion=t.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.Sn(e,r)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(t=>(t.targetCount+=1,this.Cn(n,t),this.Sn(e,t))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Hv(e).delete(n.targetId)).next(()=>this.Vn(e)).next(t=>(Tt(t.targetCount>0),t.targetCount-=1,this.Sn(e,t)))}removeTargets(e,n,t){let r=0;const o=[];return Hv(e).Z((c,d)=>{const f=nC(d);f.sequenceNumber<=n&&null===t.get(f.targetId)&&(r++,o.push(this.removeTargetData(e,f)))}).next(()=>Ce.waitFor(o)).next(()=>r)}forEachTarget(e,n){return Hv(e).Z((t,r)=>{const o=nC(r);n(o)})}Vn(e){return W4(e).get("targetGlobalKey").next(n=>(Tt(null!==n),n))}Sn(e,n){return W4(e).put("targetGlobalKey",n)}Dn(e,n){return Hv(e).put(P4(this.yt,n))}Cn(e,n){let t=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,t=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,t=!0),t}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const t=vo(n),r=IDBKeyRange.bound([t,Number.NEGATIVE_INFINITY],[t,Number.POSITIVE_INFINITY]);let o=null;return Hv(e).Z({range:r,index:"queryTargetsIndex"},(c,d,f)=>{const _=nC(d);Ip(n,_.target)&&(o=_,f.done())}).next(()=>o)}addMatchingKeys(e,n,t){const r=[],o=Op(e);return n.forEach(c=>{const d=bo(c.path);r.push(o.put({targetId:t,path:d})),r.push(this.referenceDelegate.addReference(e,t,c))}),Ce.waitFor(r)}removeMatchingKeys(e,n,t){const r=Op(e);return Ce.forEach(n,o=>{const c=bo(o.path);return Ce.waitFor([r.delete([t,c]),this.referenceDelegate.removeReference(e,t,o)])})}removeMatchingKeysForTargetId(e,n){const t=Op(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return t.delete(r)}getMatchingKeysForTargetId(e,n){const t=IDBKeyRange.bound([n],[n+1],!1,!0),r=Op(e);let o=h();return r.Z({range:t,X:!0},(c,d,f)=>{const _=iu(c[1]),b=new ot(_);o=o.add(b)}).next(()=>o)}containsKey(e,n){const t=bo(n.path),r=IDBKeyRange.bound([t],[vv(t)],!1,!0);let o=0;return Op(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],f,_)=>{0!==c&&(o++,_.done())}).next(()=>o>0)}ne(e,n){return Hv(e).get(n).next(t=>t?nC(t):null)}}function Hv(i){return ys(i,"targets")}function W4(i){return ys(i,"targetGlobal")}function Op(i){return ys(i,"targetDocuments")}function Y4([i,e],[n,t]){const r=en(i,n);return 0===r?en(e,t):r}class xV{constructor(e){this.xn=e,this.buffer=new ni(Y4),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const t=this.buffer.last();Y4(n,t)<0&&(this.buffer=this.buffer.delete(t).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SV{constructor(e,n,t){this.garbageCollector=e,this.asyncQueue=n,this.localStore=t,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var n=this;Qe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){n.Mn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(t){Wc(t)?Qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield $c(t)}yield n.Fn(3e5)}))}}class DV{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(t=>Math.floor(n/100*t))}nthSequenceNumber(e,n){if(0===n)return Ce.resolve(go.at);const t=new xV(n);return this.$n.forEachTarget(e,r=>t.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>t.On(r))).next(()=>t.maxValue)}removeTargets(e,n,t){return this.$n.removeTargets(e,n,t)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(q4)):this.getCacheSize(e).next(t=>t<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${t} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q4):this.qn(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,n){let t,r,o,c,d,f,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,c=Date.now(),this.nthSequenceNumber(e,r))).next(T=>(t=T,d=Date.now(),this.removeTargets(e,t,n))).next(T=>(o=T,f=Date.now(),this.removeOrphanedDocuments(e,t))).next(T=>(_=Date.now(),yv()<=Ka.in.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${o} targets in `+(f-d)+`ms\n\tRemoved ${T} documents in `+(_-f)+`ms\nTotal Duration: ${_-b}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:T})))}}class AV{constructor(e,n){this.db=e,this.garbageCollector=new DV(this,n)}Bn(e){const n=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(t=>n.next(r=>t+r))}Un(e){let n=0;return this.Ln(e,t=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(t,r)=>n(r))}addReference(e,n,t){return Ox(e,t)}removeReference(e,n,t){return Ox(e,t)}removeTargets(e,n,t){return this.db.getTargetCache().removeTargets(e,n,t)}markPotentiallyOrphaned(e,n){return Ox(e,n)}Gn(e,n){return function(t,r){let o=!1;return $4(t).tt(c=>Z4(t,c,r).next(d=>(d&&(o=!0),Ce.resolve(!d)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const t=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(e,(c,d)=>{if(d<=n){const f=this.Gn(e,c).next(_=>{if(!_)return o++,t.getEntry(e,c).next(()=>(t.removeEntry(c,Mt.min()),Op(e).delete([0,bo(c.path)])))});r.push(f)}}).next(()=>Ce.waitFor(r)).next(()=>t.apply(e)).next(()=>o)}removeTarget(e,n){const t=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,t)}updateLimboDocument(e,n){return Ox(e,n)}Kn(e,n){const t=Op(e);let r,o=go.at;return t.Z({index:"documentTargetsIndex"},([c,d],{path:f,sequenceNumber:_})=>{0===c?(o!==go.at&&n(new ot(iu(r)),o),o=_,r=f):o=go.at}).next(()=>{o!==go.at&&n(new ot(iu(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ox(i,e){return Op(i).put((t=i.currentSequenceNumber,{targetId:0,path:bo(e.path),sequenceNumber:t}));var t}class K4{constructor(){this.changes=new nu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const t=this.changes.get(n);return void 0!==t?Ce.resolve(t):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MV{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,t){return Mg(e).put(t)}removeEntry(e,n,t){return Mg(e).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Sx(o),c[c.length-1]]}(n,t))}updateMetadata(e,n){return this.getMetadata(e).next(t=>(t.byteSize+=n,this.Qn(e,t)))}getEntry(e,n){let t=mi.newInvalidDocument(n);return Mg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(aC(n))},(r,o)=>{t=this.jn(n,o)}).next(()=>t)}Wn(e,n){let t={size:0,document:mi.newInvalidDocument(n)};return Mg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(aC(n))},(r,o)=>{t={document:this.jn(n,o),size:Px(o)}}).next(()=>t)}getEntries(e,n){let t=wo();return this.zn(e,n,(r,o)=>{const c=this.jn(r,o);t=t.insert(r,c)}).next(()=>t)}Hn(e,n){let t=wo(),r=new qi(ot.comparator);return this.zn(e,n,(o,c)=>{const d=this.jn(o,c);t=t.insert(o,d),r=r.insert(o,Px(c))}).next(()=>({documents:t,Jn:r}))}zn(e,n,t){if(n.isEmpty())return Ce.resolve();let r=new ni(eN);n.forEach(f=>r=r.add(f));const o=IDBKeyRange.bound(aC(r.first()),aC(r.last())),c=r.getIterator();let d=c.getNext();return Mg(e).Z({index:"documentKeyIndex",range:o},(f,_,b)=>{const T=ot.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&eN(d,T)<0;)t(d,null),d=c.getNext();d&&d.isEqual(T)&&(t(d,_),d=c.hasNext()?c.getNext():null),d?b.j(aC(d)):b.done()}).next(()=>{for(;d;)t(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(e,n,t){const r=[n.popLast().toArray(),n.lastSegment(),Sx(t.readTime),t.documentKey.path.isEmpty()?"":t.documentKey.path.lastSegment()],o=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mg(e).W(IDBKeyRange.bound(r,o,!0)).next(c=>{let d=wo();for(const f of c){const _=this.jn(ot.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(e,n,t,r){let o=wo();const c=X4(n,t),d=X4(n,mo.max());return Mg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(f,_,b)=>{const T=this.jn(ot.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);o=o.insert(T.key,T),o.size===r&&b.done()}).next(()=>o)}newChangeBuffer(e){return new kV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return J4(e).get("remoteDocumentGlobalKey").next(n=>(Tt(!!n),n))}Qn(e,n){return J4(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const t=function mV(i,e){let n;if(e.document)n=y4(i.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=ot.fromSegments(e.noDocument.path),r=Eg(e.noDocument.readTime);n=mi.newNoDocument(t,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return yt();{const t=ot.fromSegments(e.unknownDocument.path),r=Eg(e.unknownDocument.version);n=mi.newUnknownDocument(t,r)}}return e.readTime&&n.setReadTime(function(t){const r=new fi(t[0],t[1]);return Mt.fromTimestamp(r)}(e.readTime)),n}(this.yt,n);if(!t.isNoDocument()||!t.version.isEqual(Mt.min()))return t}return mi.newInvalidDocument(e)}}function Q4(i){return new MV(i)}class kV extends K4{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new nu(t=>t.toString(),(t,r)=>t.isEqual(r))}applyChanges(e){const n=[];let t=0,r=new ni((o,c)=>en(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const d=this.Xn.get(o);if(n.push(this.Yn.removeEntry(e,o,d.readTime)),c.isValidDocument()){const f=k4(this.Yn.yt,c);r=r.add(o.path.popLast());const _=Px(f);t+=_-d.size,n.push(this.Yn.addEntry(e,o,f))}else if(t-=d.size,this.trackRemovals){const f=k4(this.Yn.yt,c.convertToNoDocument(Mt.min()));n.push(this.Yn.addEntry(e,o,f))}}),r.forEach(o=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.Yn.updateMetadata(e,t)),Ce.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(t=>(this.Xn.set(n,{size:t.size,readTime:t.document.readTime}),t.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:t,Jn:r})=>(r.forEach((o,c)=>{this.Xn.set(o,{size:c,readTime:t.get(o).readTime})}),t))}}function J4(i){return ys(i,"remoteDocumentGlobal")}function Mg(i){return ys(i,"remoteDocumentsV14")}function aC(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function X4(i,e){const n=e.documentKey.path.toArray();return[i,Sx(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function eN(i,e){const n=i.path.toArray(),t=e.path.toArray();let r=0;for(let o=0;o<n.length-2&&o<t.length-2;++o)if(r=en(n[o],t[o]),r)return r;return r=en(n.length,t.length),r||(r=en(n[n.length-2],t[t.length-2]),r||en(n[n.length-1],t[t.length-1]))}class PV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class tN{constructor(e,n,t,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=t,this.indexManager=r}getDocument(e,n){let t=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(t=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(null!==t&&Dp(t.mutation,r,yo.empty(),fi.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(t=>this.getLocalViewOfDocuments(e,t,h()).next(()=>t))}getLocalViewOfDocuments(e,n,t=h()){const r=sl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,t).next(o=>{let c=Fv();return o.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const t=sl();return this.populateOverlays(e,t,n).next(()=>this.computeViews(e,n,t,h()))}populateOverlays(e,n,t){const r=[];return t.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,t,r){let o=wo();const c=a(),d=a();return n.forEach((f,_)=>{const b=t.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof tu)?o=o.insert(_.key,_):void 0!==b?(c.set(_.key,b.mutation.getFieldMask()),Dp(b.mutation,_,b.mutation.getFieldMask(),fi.now())):c.set(_.key,yo.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((_,b)=>c.set(_,b)),n.forEach((_,b)=>{var T;return d.set(_,new PV(b,null!==(T=c.get(_))&&void 0!==T?T:null))}),d))}recalculateAndSaveOverlays(e,n){const t=a();let r=new qi((c,d)=>c-d),o=h();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(f=>{const _=n.get(f);if(null===_)return;let b=t.get(f)||yo.empty();b=d.applyToLocalView(_,b),t.set(f,b);const T=(r.get(d.batchId)||h()).add(f);r=r.insert(d.batchId,T)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),_=f.key,b=f.value,T=t3();b.forEach(M=>{if(!o.has(M)){const R=Ix(n.get(M),t.get(M));null!==R&&T.set(M,R),o=o.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,T))}return Ce.waitFor(c)}).next(()=>t)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,n,t){return ot.isDocumentKey((r=n).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):jb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,t):this.getDocumentsMatchingCollectionQuery(e,n,t);var r}getNextDocuments(e,n,t,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,t,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,t.largestBatchId,r-o.size):Ce.resolve(sl());let d=-1,f=o;return c.next(_=>Ce.forEach(_,(b,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),o.get(b)?Ce.resolve():this.remoteDocumentCache.getEntry(e,b).next(M=>{f=f.insert(b,M)}))).next(()=>this.populateOverlays(e,_,o)).next(()=>this.computeViews(e,f,_,h())).next(b=>({batchId:d,changes:e3(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ot(n)).next(t=>{let r=Fv();return t.isFoundDocument()&&(r=r.insert(t.key,t)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,t){const r=n.collectionGroup;let o=Fv();return this.indexManager.getCollectionParents(e,r).next(c=>Ce.forEach(c,d=>{const f=(_=n,b=d.child(r),new _a(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(e,f,t).next(_=>{_.forEach((b,T)=>{o=o.insert(b,T)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,t){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,t).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(e,n.path,t.largestBatchId))).next(o=>{o.forEach((d,f)=>{const _=f.getKey();null===r.get(_)&&(r=r.insert(_,mi.newInvalidDocument(_)))});let c=Fv();return r.forEach((d,f)=>{const _=o.get(d);void 0!==_&&Dp(_.mutation,f,yo.empty(),fi.now()),$b(n,f)&&(c=c.insert(d,f))}),c})}}class RV{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return Ce.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var t;return this.Zn.set(n.id,{id:(t=n).id,version:t.version,createTime:En(t.createTime)}),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(t=n).name,query:c3(t.bundledQuery),readTime:En(t.readTime)}),Ce.resolve();var t}}class OV{constructor(){this.overlays=new qi(ot.comparator),this.es=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const t=sl();return Ce.forEach(n,r=>this.getOverlay(e,r).next(o=>{null!==o&&t.set(r,o)})).next(()=>t)}saveOverlays(e,n,t){return t.forEach((r,o)=>{this.oe(e,n,o)}),Ce.resolve()}removeOverlaysForBatchId(e,n,t){const r=this.es.get(t);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(t)),Ce.resolve()}getOverlaysForCollection(e,n,t){const r=sl(),o=n.length+1,c=new ot(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,_=f.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===o&&f.largestBatchId>t&&r.set(f.getKey(),f)}return Ce.resolve(r)}getOverlaysForCollectionGroup(e,n,t,r){let o=new qi((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>t){let b=o.get(_.largestBatchId);null===b&&(b=sl(),o=o.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=sl(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=r)););return Ce.resolve(d)}oe(e,n,t){const r=this.overlays.get(t.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(t.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(t.key,new l3(n,t));let o=this.es.get(n);void 0===o&&(o=h(),this.es.set(n,o)),this.es.set(n,o.add(t.key))}}class g3{constructor(){this.ns=new ni(vs.ss),this.rs=new ni(vs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const t=new vs(e,n);this.ns=this.ns.add(t),this.rs=this.rs.add(t)}us(e,n){e.forEach(t=>this.addReference(t,n))}removeReference(e,n){this.cs(new vs(e,n))}hs(e,n){e.forEach(t=>this.removeReference(t,n))}ls(e){const n=new ot(new Tn([])),t=new vs(n,e),r=new vs(n,e+1),o=[];return this.rs.forEachInRange([t,r],c=>{this.cs(c),o.push(c.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ot(new Tn([])),t=new vs(n,e),r=new vs(n,e+1);let o=h();return this.rs.forEachInRange([t,r],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new vs(e,0),t=this.ns.firstAfterOrEqual(n);return null!==t&&e.isEqual(t.key)}}class vs{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ot.comparator(e.key,n.key)||en(e._s,n._s)}static os(e,n){return en(e._s,n._s)||ot.comparator(e.key,n.key)}}class NV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ni(vs.ss)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,t,r){const o=this.ws;this.ws++;const c=new o3(o,n,t,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new vs(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Ce.resolve(c)}lookupMutationBatch(e,n){return Ce.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=this.ps(n+1),o=r<0?0:r;return Ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const t=new vs(n,0),r=new vs(n,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([t,r],c=>{const d=this.ys(c._s);o.push(d)}),Ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let t=new ni(en);return n.forEach(r=>{const o=new vs(r,0),c=new vs(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,c],d=>{t=t.add(d._s)})}),Ce.resolve(this.Is(t))}getAllMutationBatchesAffectingQuery(e,n){const t=n.path,r=t.length+1;let o=t;ot.isDocumentKey(o)||(o=o.child(""));const c=new vs(new ot(o),0);let d=new ni(en);return this.gs.forEachWhile(f=>{const _=f.key.path;return!!t.isPrefixOf(_)&&(_.length===r&&(d=d.add(f._s)),!0)},c),Ce.resolve(this.Is(d))}Is(e){const n=[];return e.forEach(t=>{const r=this.ys(t);null!==r&&n.push(r)}),n}removeMutationBatch(e,n){Tt(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let t=this.gs;return Ce.forEach(n.mutations,r=>{const o=new vs(r.key,n.batchId);return t=t.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=t})}An(e){}containsKey(e,n){const t=new vs(n,0),r=this.gs.firstAfterOrEqual(t);return Ce.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return Ce.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class LV{constructor(e){this.Es=e,this.docs=new qi(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const t=n.key,r=this.docs.get(t),o=r?r.size:0,c=this.Es(n);return this.docs=this.docs.insert(t,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,t.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const t=this.docs.get(n);return Ce.resolve(t?t.document.mutableCopy():mi.newInvalidDocument(n))}getEntries(e,n){let t=wo();return n.forEach(r=>{const o=this.docs.get(r);t=t.insert(r,o?o.document.mutableCopy():mi.newInvalidDocument(r))}),Ce.resolve(t)}getAllFromCollection(e,n,t){let r=wo();const o=new ot(n.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!n.isPrefixOf(d.path))break;d.path.length>n.length+1||Nb(sx(f),t)<=0||(r=r.insert(f.key,f.mutableCopy()))}return Ce.resolve(r)}getAllFromCollectionGroup(e,n,t,r){yt()}As(e,n){return Ce.forEach(this.docs,t=>n(t))}newChangeBuffer(e){return new FV(this)}getSize(e){return Ce.resolve(this.size)}}class FV extends K4{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((t,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(t)}),Ce.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class VV{constructor(e){this.persistence=e,this.Rs=new nu(n=>vo(n),Ip),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new g3,this.targetCount=0,this.vs=Ag.Pn()}forEachTarget(e,n){return this.Rs.forEach((t,r)=>n(r)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,t){return t&&(this.lastRemoteSnapshotVersion=t),n>this.bs&&(this.bs=n),Ce.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Ag(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Dn(n),Ce.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,t){let r=0;const o=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=n&&null===t.get(d.targetId)&&(this.Rs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),Ce.waitFor(o).next(()=>r)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const t=this.Rs.get(n)||null;return Ce.resolve(t)}addMatchingKeys(e,n,t){return this.Ps.us(n,t),Ce.resolve()}removeMatchingKeys(e,n,t){this.Ps.hs(n,t);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(c=>{o.push(r.markPotentiallyOrphaned(e,c))}),Ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const t=this.Ps.ds(n);return Ce.resolve(t)}containsKey(e,n){return Ce.resolve(this.Ps.containsKey(n))}}class nN{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new go(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new VV(this),this.indexManager=new IV,this.remoteDocumentCache=new LV(t=>this.referenceDelegate.xs(t)),this.yt=new M4(n),this.Ns=new RV(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let t=this.Vs[e.toKey()];return t||(t=new NV(n,this.referenceDelegate),this.Vs[e.toKey()]=t),t}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,t){Qe("MemoryPersistence","Starting transaction:",e);const r=new BV(this.Ss.next());return this.referenceDelegate.ks(),t(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(e,n){return Ce.or(Object.values(this.Vs).map(t=>()=>t.containsKey(e,n)))}}class BV extends ax{constructor(e){super(),this.currentSequenceNumber=e}}class Nx{constructor(e){this.persistence=e,this.Fs=new g3,this.$s=null}static Bs(e){return new Nx(e)}get Ls(){if(this.$s)return this.$s;throw yt()}addReference(e,n,t){return this.Fs.addReference(t,n),this.Ls.delete(t.toString()),Ce.resolve()}removeReference(e,n,t){return this.Fs.removeReference(t,n),this.Ls.add(t.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const t=this.persistence.getTargetCache();return t.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>t.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ls,t=>{const r=ot.fromPath(t);return this.qs(e,r).next(o=>{o||n.removeEntry(r,Mt.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(t=>{t?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return Ce.or([()=>Ce.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class UV{constructor(e){this.yt=e}$(e,n,t,r){const o=new wv("createOrUpgrade",n);var d;t<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",E4,{unique:!0}),d.createObjectStore("documentMutations"),iN(e),function(d){d.createObjectStore("remoteDocuments")}(e));let c=Ce.resolve();return t<3&&r>=3&&(0!==t&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),iN(e)),c=c.next(()=>function(d){const f=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",_)}(o))),t<4&&r>=4&&(0!==t&&(c=c.next(()=>function(d,f){return f.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",E4,{unique:!0});const b=f.store("mutations"),T=_.map(M=>b.put(M));return Ce.waitFor(T)})}(e,o))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),t<5&&r>=5&&(c=c.next(()=>this.Us(o))),t<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(o)))),t<7&&r>=7&&(c=c.next(()=>this.Gs(o))),t<8&&r>=8&&(c=c.next(()=>this.Qs(e,o))),t<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),t<10&&r>=10&&(c=c.next(()=>this.js(o))),t<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),t<12&&r>=12&&(c=c.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:uV});f.createIndex("collectionPathOverlayIndex",dV,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",hV,{unique:!1})}(e)})),t<13&&r>=13&&(c=c.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:X8});f.createIndex("documentKeyIndex",eV),f.createIndex("collectionGroupIndex",tV)}(e)).next(()=>this.Ws(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),t<14&&r>=14&&(c=c.next(()=>this.zs(e,o))),t<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:oV}).createIndex("sequenceNumberIndex",aV,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:lV}).createIndex("documentKeyIndex",cV,{unique:!1})}(e))),c}Ks(e){let n=0;return e.store("remoteDocuments").Z((t,r)=>{n+=Px(r)}).next(()=>{const t={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",t)})}Us(e){const n=e.store("mutationQueues"),t=e.store("mutations");return n.W().next(r=>Ce.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return t.W("userMutationsIndex",c).next(d=>Ce.forEach(d,f=>{Tt(f.userId===o.userId);const _=xg(this.yt,f);return G4(e,o.userId,_).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),t=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return t.Z((c,d)=>{const f=new Tn(c),_=[0,bo(f)];o.push(n.get(_).next(b=>b?Ce.resolve():n.put({targetId:0,path:bo(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ce.waitFor(o))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:sV});const t=n.store("collectionParents"),r=new m3,o=c=>{if(r.add(c)){const d=c.lastSegment(),f=c.popLast();return t.put({collectionId:d,parent:bo(f)})}};return n.store("remoteDocuments").Z({X:!0},(c,d)=>{const f=new Tn(c);return o(f.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([c,d,f],_)=>{const b=iu(d);return o(b.popLast())}))}js(e){const n=e.store("targets");return n.Z((t,r)=>{const o=nC(r),c=P4(this.yt,o);return n.put(c)})}Ws(e,n){const t=n.store("remoteDocuments"),r=[];return t.Z((o,c)=>{const d=n.store("remoteDocumentsV14"),f=(_=c,_.document?new ot(Tn.fromString(_.document.name).popFirst(5)):_.noDocument?ot.fromSegments(_.noDocument.path):_.unknownDocument?ot.fromSegments(_.unknownDocument.path):yt()).path.toArray();var _;const b={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(b))}).next(()=>Ce.waitFor(r))}zs(e,n){const t=n.store("mutations"),r=Q4(this.yt),o=new nN(Nx.Bs,this.yt.ie);return t.W().next(c=>{const d=new Map;return c.forEach(f=>{var _;let b=null!==(_=d.get(f.userId))&&void 0!==_?_:h();xg(this.yt,f).keys().forEach(T=>b=b.add(T)),d.set(f.userId,b)}),Ce.forEach(d,(f,_)=>{const b=new Br(_),T=Dx.re(this.yt,b),M=o.getIndexManager(b),R=Rx.re(b,this.yt,M,o.referenceDelegate);return new tN(r,R,T,M).recalculateAndSaveOverlaysForDocumentKeys(new s3(n,go.at),f).next()})})}}function iN(i){i.createObjectStore("targetDocuments",{keyPath:iV}).createIndex("documentTargetsIndex",rV,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nV,{unique:!0}),i.createObjectStore("targetGlobal")}const _3="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class y3{constructor(e,n,t,r,o,c,d,f,_,b,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=t,this.Hs=o,this.window=c,this.document=d,this.Js=_,this.Ys=b,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=M=>Promise.resolve(),!y3.C())throw new $e(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AV(this,r),this.ii=n+"main",this.yt=new M4(f),this.ri=new ga(this.ii,this.Xs,new UV(this.yt)),this.Cs=new EV(this.referenceDelegate,this.yt),this.remoteDocumentCache=Q4(this.yt),this.Ns=new gV,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(Te.FAILED_PRECONDITION,_3);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new go(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var n=this;return this.si=function(){var t=(0,Ae.Z)(function*(r){if(n.started)return e(r)});return function(r){return t.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var n=(0,Ae.Z)(function*(t){null===t.newVersion&&(yield e())});return function(t){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ae.Z)(function*(){n.started&&(yield n.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Wc(e))return Qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return lC(e).get("owner").next(n=>Ce.resolve(this.mi(n)))}gi(e){return Lx(e).delete(this.clientId)}yi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=ys(t,"clientMetadata");return r.W().next(o=>{const c=e.Ii(o,18e5),d=o.filter(f=>-1===c.indexOf(f));return Ce.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const t of n)e.oi.removeItem(e.Ti(t.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ce.resolve(!0):lC(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new $e(Te.FAILED_PRECONDITION,_3);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lx(e).W().next(t=>void 0===this.Ii(t,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Qe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const t=new s3(n,go.at);return e._i(t).next(()=>e.gi(t))}),e.ri.close(),e.Pi()})()}Ii(e,n){return e.filter(t=>this.pi(t.updateTimeMs,n)&&!this.Ei(t.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Lx(e).W().next(n=>this.Ii(n,18e5).map(t=>t.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Rx.re(e,this.yt,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new TV(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Dx.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,n,t){Qe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===n?"readonly":"readwrite",o=15===(c=this.Xs)?fV:14===c?A4:13===c?D4:12===c?pV:11===c?S4:void yt();var c;let d;return this.ri.runTransaction(e,r,o,f=>(d=new s3(f,this.Ss?this.Ss.next():go.at),"readwrite-primary"===n?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new $e(Te.FAILED_PRECONDITION,ox);return t(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>t(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Vi(e){return lC(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new $e(Te.FAILED_PRECONDITION,_3)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lC(e).put("owner",n)}static C(){return ga.C()}_i(e){const n=lC(e);return n.get("owner").next(t=>this.mi(t)?(Qe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ce.resolve())}pi(e,n){const t=Date.now();return!(e<t-n||e>t&&(ji(`Detected an update time that is in the future: ${e} > ${t}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,z.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const t=null!==(null===(n=this.oi)||void 0===n?void 0:n.getItem(this.Ti(e)));return Qe("IndexedDbPersistence",`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return ji("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ji("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lC(i){return ys(i,"owner")}function Lx(i){return ys(i,"clientMetadata")}function v3(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class w3{constructor(e,n,t,r){this.targetId=e,this.fromCache=n,this.Si=t,this.Di=r}static Ci(e,n){let t=h(),r=h();for(const o of n.docChanges)switch(o.type){case 0:t=t.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new w3(e,n.fromCache,t,r)}}class rN{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,t,r){return this.ki(e,n).next(o=>o||this.Oi(e,n,r,t)).next(o=>o||this.Mi(e,n))}ki(e,n){if(Gk(n))return Ce.resolve(null);let t=Vs(n);return this.indexManager.getIndexType(e,t).next(r=>0===r?null:(null!==n.limit&&1===r&&(n=Cg(n,null,"F"),t=Vs(n)),this.indexManager.getDocumentsMatchingTarget(e,t).next(o=>{const c=h(...o);return this.Ni.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,t).next(f=>{const _=this.Fi(n,d);return this.$i(n,_,c,f.readTime)?this.ki(e,Cg(n,null,"F")):this.Bi(e,_,n,f)}))})))}Oi(e,n,t,r){return Gk(n)||r.isEqual(Mt.min())?this.Mi(e,n):this.Ni.getDocuments(e,t).next(o=>{const c=this.Fi(n,o);return this.$i(n,c,t,r)?this.Mi(e,n):(yv()<=Ka.in.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zb(n)),this.Bi(e,c,n,cg(r,-1)))})}Fi(e,n){let t=new ni(Rv(e));return n.forEach((r,o)=>{$b(e,o)&&(t=t.add(o))}),t}$i(e,n,t,r){if(null===e.limit)return!1;if(t.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(e,n){return yv()<=Ka.in.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",Zb(n)),this.Ni.getDocumentsMatchingQuery(e,n,mo.min())}Bi(e,n,t,r){return this.Ni.getDocumentsMatchingQuery(e,t,r).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}class HV{constructor(e,n,t,r){this.persistence=e,this.Li=n,this.yt=r,this.qi=new qi(en),this.Ui=new nu(o=>vo(o),Ip),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(t)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tN(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function sN(i,e,n,t){return new HV(i,e,n,t)}function oN(i,e){return b3.apply(this,arguments)}function b3(){return b3=(0,Ae.Z)(function*(i,e){const n=ct(i);return yield n.persistence.runTransaction("Handle user change","readonly",t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next(o=>(r=o,n.Qi(e),n.mutationQueue.getAllMutationBatches(t))).next(o=>{const c=[],d=[];let f=h();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)f=f.add(b.key)}for(const _ of o){d.push(_.batchId);for(const b of _.mutations)f=f.add(b.key)}return n.localDocuments.getDocuments(t,f).next(_=>({ji:_,removedBatchIds:c,addedBatchIds:d}))})})}),b3.apply(this,arguments)}function aN(i){const e=ct(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function lN(i,e,n){let t=h(),r=h();return n.forEach(o=>t=t.add(o)),e.getEntries(i,t).next(o=>{let c=wo();return n.forEach((d,f)=>{const _=o.get(d);f.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(Mt.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Qe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),{Wi:c,zi:r}})}function qV(i,e){const n=ct(i);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function zv(i,e){const n=ct(i);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return n.Cs.getTargetData(t,e).next(o=>o?(r=o,Ce.resolve(r)):n.Cs.allocateTargetId(t).next(c=>(r=new kp(e,c,0,t.currentSequenceNumber),n.Cs.addTargetData(t,r).next(()=>r))))}).then(t=>{const r=n.qi.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(t.targetId,t),n.Ui.set(e,t.targetId)),t})}function jv(i,e,n){return C3.apply(this,arguments)}function C3(){return C3=(0,Ae.Z)(function*(i,e,n){const t=ct(i),r=t.qi.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield t.persistence.runTransaction("Release target",o,c=>t.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Wc(c))throw c;Qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}t.qi=t.qi.remove(e),t.Ui.delete(r.target)}),C3.apply(this,arguments)}function Fx(i,e,n){const t=ct(i);let r=Mt.min(),o=h();return t.persistence.runTransaction("Execute query","readonly",c=>function(d,f,_){const b=ct(d),T=b.Ui.get(_);return void 0!==T?Ce.resolve(b.qi.get(T)):b.Cs.getTargetData(f,_)}(t,c,Vs(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,t.Cs.getMatchingKeysForTargetId(c,d.targetId).next(f=>{o=f})}).next(()=>t.Li.getDocumentsMatchingQuery(c,e,n?r:Mt.min(),n?o:h())).next(d=>(dN(t,Wb(e),d),{documents:d,Hi:o})))}function cN(i,e){const n=ct(i),t=ct(n.Cs),r=n.qi.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>t.ne(o,e).next(c=>c?c.target:null))}function uN(i,e){const n=ct(i),t=n.Ki.get(e)||Mt.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.Gi.getAllFromCollectionGroup(r,e,cg(t,-1),Number.MAX_SAFE_INTEGER)).then(r=>(dN(n,e,r),r))}function dN(i,e,n){let t=i.Ki.get(e)||Mt.min();n.forEach((r,o)=>{o.readTime.compareTo(t)>0&&(t=o.readTime)}),i.Ki.set(e,t)}function I3(){return I3=(0,Ae.Z)(function*(i,e,n,t){const r=ct(i);let o=h(),c=wo();for(const _ of n){const b=e.Ji(_.metadata.name);_.document&&(o=o.add(b));const T=e.Yi(_);T.setReadTime(e.Xi(_.metadata.readTime)),c=c.insert(b,T)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),f=yield zv(r,(_=t,Vs(wg(Tn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>lN(_,d,c).next(b=>(d.apply(_),b)).next(b=>r.Cs.removeMatchingKeysForTargetId(_,f.targetId).next(()=>r.Cs.addMatchingKeys(_,o,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.Wi,b.zi)).next(()=>b.Wi)))}),I3.apply(this,arguments)}function ZV(i,e){return T3.apply(this,arguments)}function T3(){return T3=(0,Ae.Z)(function*(i,e,n=h()){const t=yield zv(i,Vs(c3(e.bundledQuery))),r=ct(i);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=En(e.readTime);if(t.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(o,e);const d=t.withResumeToken(tr.EMPTY_BYTE_STRING,c);return r.qi=r.qi.insert(d.targetId,d),r.Cs.updateTargetData(o,d).next(()=>r.Cs.removeMatchingKeysForTargetId(o,t.targetId)).next(()=>r.Cs.addMatchingKeys(o,n,t.targetId)).next(()=>r.Ns.saveNamedQuery(o,e))})}),T3.apply(this,arguments)}function hN(i,e){return`firestore_clients_${i}_${e}`}function pN(i,e,n){let t=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(t+=`_${e.uid}`),t}function E3(i,e){return`firestore_targets_${i}_${e}`}class Vx{constructor(e,n,t,r){this.user=e,this.batchId=n,this.state=t,this.error=r}static Zi(e,n,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new $e(r.error.code,r.error.message))),c?new Vx(e,n,r.state,o):(ji("SharedClientState",`Failed to parse mutation state for ID '${n}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cC{constructor(e,n,t){this.targetId=e,this.state=n,this.error=t}static Zi(e,n){const t=JSON.parse(n);let r,o="object"==typeof t&&-1!==["not-current","current","rejected"].indexOf(t.state)&&(void 0===t.error||"object"==typeof t.error);return o&&t.error&&(o="string"==typeof t.error.message&&"string"==typeof t.error.code,o&&(r=new $e(t.error.code,t.error.message))),o?new cC(e,t.state,r):(ji("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bx{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const t=JSON.parse(n);let r="object"==typeof t&&t.activeTargetIds instanceof Array,o=g();for(let c=0;r&&c<t.activeTargetIds.length;++c)r=Kr(t.activeTargetIds[c]),o=o.add(t.activeTargetIds[c]);return r?new Bx(e,o):(ji("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class x3{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new x3(n.clientId,n.onlineState):(ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class S3{constructor(){this.activeTargetIds=g()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D3{constructor(e,n,t,r,o){this.window=e,this.Hs=n,this.persistenceKey=t,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new qi(en),this.started=!1,this.cr=[];const c=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=hN(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new S3),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const n=yield e.syncEngine.vi();for(const r of n){if(r===e.sr)continue;const o=e.getItem(hN(e.persistenceKey,r));if(o){const c=Bx.Zi(r,o);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const t=e.storage.getItem(e.wr);if(t){const r=e.yr(t);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((t,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,t){this.Tr(e,n,t),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(E3(this.persistenceKey,e));if(t){const r=cC.Zi(e,t);r&&(n=r.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(E3(this.persistenceKey,e))}updateQueryState(e,n,t){this.Rr(e,n,t)}handleUserChange(e,n,t){n.forEach(r=>{this.Er(r)}),this.currentUser=e,t.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Qe("SharedClientState","READ",e,n),n}setItem(e,n){Qe("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var n=this;const t=e;if(t.storageArea===this.storage){if(Qe("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ar)return void ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ae.Z)(function*(){if(n.started){if(null!==t.key)if(n.lr.test(t.key)){if(null==t.newValue){const r=n.vr(t.key);return n.Vr(r,null)}{const r=n.Sr(t.key,t.newValue);if(r)return n.Vr(r.clientId,r)}}else if(n.dr.test(t.key)){if(null!==t.newValue){const r=n.Dr(t.key,t.newValue);if(r)return n.Cr(r)}}else if(n._r.test(t.key)){if(null!==t.newValue){const r=n.Nr(t.key,t.newValue);if(r)return n.kr(r)}}else if(t.key===n.wr){if(null!==t.newValue){const r=n.yr(t.newValue);if(r)return n.pr(r)}}else if(t.key===n.hr){const r=function(o){let c=go.at;if(null!=o)try{const d=JSON.parse(o);Tt("number"==typeof d),c=d}catch(d){ji("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(t.newValue);r!==go.at&&n.sequenceNumberHandler(r)}else if(t.key===n.mr){const r=n.Or(t.newValue);yield Promise.all(r.map(o=>n.syncEngine.Mr(o)))}}else n.cr.push(t)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,t){const r=new Vx(this.currentUser,e,n,t),o=pN(this.persistenceKey,this.currentUser,e);this.setItem(o,r.tr())}Er(e){const n=pN(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,n,t){const r=E3(this.persistenceKey,e),o=new cC(e,n,t);this.setItem(r,o.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const t=this.vr(e);return Bx.Zi(t,n)}Dr(e,n){const t=this.dr.exec(e),r=Number(t[1]);return Vx.Zi(new Br(void 0!==t[2]?t[2]:null),r,n)}Nr(e,n){const t=this._r.exec(e),r=Number(t[1]);return cC.Zi(r,n)}yr(e){return x3.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var n=this;return(0,Ae.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Fr(e.batchId,e.state,e.error);Qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const t=n?this.ur.insert(e,n):this.ur.remove(e),r=this.Ir(this.ur),o=this.Ir(t),c=[],d=[];return o.forEach(f=>{r.has(f)||c.push(f)}),r.forEach(f=>{o.has(f)||d.push(f)}),this.syncEngine.Br(c,d).then(()=>{this.ur=t})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=g();return e.forEach((t,r)=>{n=n.unionWith(r.activeTargetIds)}),n}}class fN{constructor(){this.Lr=new S3,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,t){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,t){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new S3,Promise.resolve()}handleUserChange(e,n,t){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $V{Ur(e){}shutdown(){}}class mN{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const WV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YV{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class KV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,t,r,o){const c=this.ho(e,n);Qe("RestConnection","Sending: ",c,t);const d={};return this.lo(d,r,o),this.fo(e,c,d,t).then(f=>(Qe("RestConnection","Received: ",f),f),f=>{throw xd("RestConnection",`${e} failed with error: `,f,"url: ",c,"request:",t),f})}_o(e,n,t,r,o,c){return this.ao(e,n,t,r,o)}lo(e,n,t){e["X-Goog-Api-Client"]="gl-js/ fire/"+yp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>e[o]=r),t&&t.headers.forEach((r,o)=>e[o]=r)}ho(e,n){return`${this.oo}/v1/${n}:${WV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,t,r){return new Promise((o,c)=>{const d=new JO;d.setWithCredentials(!0),d.listenOnce(Ik.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Gc.NO_ERROR:const _=d.getResponseJson();Qe("Connection","XHR received:",JSON.stringify(_)),o(_);break;case Gc.TIMEOUT:Qe("Connection",'RPC "'+e+'" timed out'),c(new $e(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const b=d.getStatus();if(Qe("Connection",'RPC "'+e+'" failed with status:',b,"response text:",d.getResponseText()),b>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const M=T?.error;if(M&&M.status&&M.message){const R=function(B){const K=B.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(K)>=0?K:Te.UNKNOWN}(M.status);c(new $e(R,M.message))}else c(new $e(Te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new $e(Te.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Qe("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(r);d.send(n,"POST",f,t,15)})}wo(e,n,t){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ck(),c=X2(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new QO({})),this.lo(d.initMessageHeaders,n,t),d.encodeInitMessageHeaders=!0;const f=r.join("");Qe("Connection","Creating WebChannel: "+f,d);const _=o.createWebChannel(f,d);let b=!1,T=!1;const M=new YV({Hr:B=>{T?Qe("Connection","Not sending because WebChannel is closed:",B):(b||(Qe("Connection","Opening WebChannel transport."),_.open(),b=!0),Qe("Connection","WebChannel sending:",B),_.send(B))},Jr:()=>_.close()}),R=(B,K,te)=>{B.listen(K,_e=>{try{te(_e)}catch(Ne){setTimeout(()=>{throw Ne},0)}})};return R(_,_v.EventType.OPEN,()=>{T||Qe("Connection","WebChannel transport opened.")}),R(_,_v.EventType.CLOSE,()=>{T||(T=!0,Qe("Connection","WebChannel transport closed"),M.io())}),R(_,_v.EventType.ERROR,B=>{T||(T=!0,xd("Connection","WebChannel transport errored:",B),M.io(new $e(Te.UNAVAILABLE,"The operation could not be completed")))}),R(_,_v.EventType.MESSAGE,B=>{var K;if(!T){const te=B.data[0];Tt(!!te);const Ne=te.error||(null===(K=te[0])||void 0===K?void 0:K.error);if(Ne){Qe("Connection","WebChannel received error:",Ne);const Ue=Ne.status;let Oe=function(pt){const Ot=xr[pt];if(void 0!==Ot)return Jk(Ot)}(Ue),it=Ne.message;void 0===Oe&&(Oe=Te.INTERNAL,it="Unknown error status: "+Ue+" with message "+Ne.message),T=!0,M.io(new $e(Oe,it)),_.close()}else Qe("Connection","WebChannel received:",te),M.ro(te)}}),R(c,ex.STAT_EVENT,B=>{B.stat===gv.PROXY?Qe("Connection","Detected buffering proxy"):B.stat===gv.NOPROXY&&Qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.so()},0),M}}function gN(){return typeof window<"u"?window:null}function Ux(){return typeof document<"u"?document:null}function uC(i){return new Ge(i,!0)}class A3{constructor(e,n,t=1e3,r=1.5,o=6e4){this.Hs=e,this.timerId=n,this.mo=t,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),t=Math.max(0,Date.now()-this.Eo),r=Math.max(0,n-t);r>0&&Qe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${t} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class _N{constructor(e,n,t,r,o,c,d,f){this.Hs=e,this.vo=t,this.Vo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new A3(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ae.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ae.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var t=this;return(0,Ae.Z)(function*(){t.Lo(),t.qo(),t.xo.cancel(),t.So++,4!==e?t.xo.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),t.xo.Ao()):n&&n.code===Te.UNAUTHENTICATED&&3!==t.state&&(t.authCredentialsProvider.invalidateToken(),t.appCheckCredentialsProvider.invalidateToken()),null!==t.stream&&(t.Uo(),t.stream.close(),t.stream=null),t.state=e,yield t.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,r])=>{this.So===n&&this.Go(t,r)},t=>{e(()=>{const r=new $e(Te.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Qo(r)})})}Go(e,n){const t=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{t(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{t(()=>this.Qo(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ae.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QV extends _N{constructor(e,n,t,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,t,r,c),this.yt=o}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function q8(i,e){let n;if("targetChange"in e){const t="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:yt(),r=e.targetChange.targetIds||[],o=function(f,_){return f.wt?(Tt(void 0===_||"string"==typeof _),tr.fromBase64String(_||"")):(Tt(void 0===_||_ instanceof Uint8Array),tr.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(f){const _=void 0===f.code?Te.UNKNOWN:Jk(f.code);return new $e(_,f.message||"")}(c);n=new N(t,r,o,d||null)}else if("documentChange"in e){const t=e.documentChange,r=ol(i,t.document.name),o=En(t.document.updateTime),c=t.document.createTime?En(t.document.createTime):Mt.min(),d=new Qr({mapValue:{fields:t.document.fields}}),f=mi.newFoundDocument(r,o,c,d);n=new x(t.targetIds||[],t.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const t=e.documentDelete,r=ol(i,t.document),o=t.readTime?En(t.readTime):Mt.min(),c=mi.newNoDocument(r,o);n=new x([],t.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const t=e.documentRemove,r=ol(i,t.document);n=new x([],t.removedTargetIds||[],r,null)}else{if(!("filter"in e))return yt();{const t=e.filter,o=new p4(t.count||0);n=new k(t.targetId,o)}}var f;return n}(this.yt,e),t=function(r){if(!("targetChange"in r))return Mt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Mt.min():o.readTime?En(o.readTime):Mt.min()}(e);return this.listener.Wo(n,t)}zo(e){const n={};n.database=eC(this.yt),n.addTarget=function(r,o){let c;const d=o.target;return c=Tp(d)?{documents:v4(r,d)}:{query:r3(r,d)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=on(r,o.resumeToken):o.snapshotVersion.compareTo(Mt.min())>0&&(c.readTime=jt(r,o.snapshotVersion.toTimestamp())),c}(this.yt,e);const t=function Z8(i,e){const n=function(t,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);t&&(n.labels=t),this.Bo(n)}Ho(e){const n={};n.database=eC(this.yt),n.removeTarget=e,this.Bo(n)}}class JV extends _N{constructor(e,n,t,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,t,r,c),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function G8(i,e){return i&&i.length>0?(Tt(void 0!==e),i.map(n=>function(t,r){let o=En(t.updateTime?t.updateTime:r);return o.isEqual(Mt.min())&&(o=En(r)),new Cx(o,t.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),t=En(e.commitTime);return this.listener.Zo(t,n)}return Tt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=eC(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(t=>tC(this.yt,t))};this.Bo(n)}}class XV extends class{}{constructor(e,n,t,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=t,this.yt=r,this.nu=!1}su(){if(this.nu)throw new $e(Te.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,t){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.ao(e,n,t,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $e(Te.UNKNOWN,r.toString())})}_o(e,n,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection._o(e,n,t,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Te.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class tB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ji(n),this.ou=!1):Qe("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class nB{constructor(e,n,t,r,o){var c=this;this.localStore=e,this.datastore=n,this.asyncQueue=t,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(d=>{t.enqueueAndForget((0,Ae.Z)(function*(){var f;Vd(c)&&(Qe("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Ae.Z)(function*(_){const b=ct(_);b._u.add(4),yield qv(b),b.gu.set("Unknown"),b._u.delete(4),yield dC(b)}),function(_){return f.apply(this,arguments)})(c))}))}),this.gu=new tB(t,r)}}function dC(i){return k3.apply(this,arguments)}function k3(){return k3=(0,Ae.Z)(function*(i){if(Vd(i))for(const e of i.wu)yield e(!0)}),k3.apply(this,arguments)}function qv(i){return P3.apply(this,arguments)}function P3(){return P3=(0,Ae.Z)(function*(i){for(const e of i.wu)yield e(!1)}),P3.apply(this,arguments)}function Hx(i,e){const n=ct(i);n.du.has(e.targetId)||(n.du.set(e.targetId,e),N3(n)?O3(n):Zv(n).ko()&&R3(n,e))}function hC(i,e){const n=ct(i),t=Zv(n);n.du.delete(e),t.ko()&&yN(n,e),0===n.du.size&&(t.ko()?t.Fo():Vd(n)&&n.gu.set("Unknown"))}function R3(i,e){i.yu.Ot(e.targetId),Zv(i).zo(e)}function yN(i,e){i.yu.Ot(e),Zv(i).Ho(e)}function O3(i){i.yu=new ne({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),Zv(i).start(),i.gu.uu()}function N3(i){return Vd(i)&&!Zv(i).No()&&i.du.size>0}function Vd(i){return 0===ct(i)._u.size}function vN(i){i.yu=void 0}function iB(i){return L3.apply(this,arguments)}function L3(){return L3=(0,Ae.Z)(function*(i){i.du.forEach((e,n)=>{R3(i,e)})}),L3.apply(this,arguments)}function rB(i,e){return F3.apply(this,arguments)}function F3(){return F3=(0,Ae.Z)(function*(i,e){vN(i),N3(i)?(i.gu.hu(e),O3(i)):i.gu.set("Unknown")}),F3.apply(this,arguments)}function sB(i,e,n){return V3.apply(this,arguments)}function V3(){return V3=(0,Ae.Z)(function*(i,e,n){if(i.gu.set("Online"),e instanceof N&&2===e.state&&e.cause)try{yield(t=(0,Ae.Z)(function*(r,o){const c=o.cause;for(const d of o.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,o){return t.apply(this,arguments)})(i,e)}catch(t){Qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),t),yield zx(i,t)}else if(e instanceof x?i.yu.Kt(e):e instanceof k?i.yu.Jt(e):i.yu.jt(e),!n.isEqual(Mt.min()))try{const t=yield aN(i.localStore);n.compareTo(t)>=0&&(yield function(r,o){const c=r.yu.Zt(o);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.du.get(f);_&&r.du.set(f,_.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach(d=>{const f=r.du.get(d);if(!f)return;r.du.set(d,f.withResumeToken(tr.EMPTY_BYTE_STRING,f.snapshotVersion)),yN(r,d);const _=new kp(f.target,d,1,f.sequenceNumber);R3(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(i,n))}catch(t){Qe("RemoteStore","Failed to raise snapshot:",t),yield zx(i,t)}var t}),V3.apply(this,arguments)}function zx(i,e,n){return B3.apply(this,arguments)}function B3(){return B3=(0,Ae.Z)(function*(i,e,n){if(!Wc(e))throw e;i._u.add(1),yield qv(i),i.gu.set("Offline"),n||(n=()=>aN(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Qe("RemoteStore","Retrying IndexedDB access"),yield n(),i._u.delete(1),yield dC(i)}))}),B3.apply(this,arguments)}function wN(i,e){return e().catch(n=>zx(i,n,e))}function Gv(i){return U3.apply(this,arguments)}function U3(){return U3=(0,Ae.Z)(function*(i){const e=ct(i),n=Np(e);let t=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;oB(e);)try{const r=yield qV(e.localStore,t);if(null===r){0===e.fu.length&&n.Fo();break}t=r.batchId,aB(e,r)}catch(r){yield zx(e,r)}bN(e)&&CN(e)}),U3.apply(this,arguments)}function oB(i){return Vd(i)&&i.fu.length<10}function aB(i,e){i.fu.push(e);const n=Np(i);n.ko()&&n.Yo&&n.Xo(e.mutations)}function bN(i){return Vd(i)&&!Np(i).No()&&i.fu.length>0}function CN(i){Np(i).start()}function lB(i){return H3.apply(this,arguments)}function H3(){return H3=(0,Ae.Z)(function*(i){Np(i).eu()}),H3.apply(this,arguments)}function cB(i){return z3.apply(this,arguments)}function z3(){return z3=(0,Ae.Z)(function*(i){const e=Np(i);for(const n of i.fu)e.Xo(n.mutations)}),z3.apply(this,arguments)}function uB(i,e,n){return j3.apply(this,arguments)}function j3(){return j3=(0,Ae.Z)(function*(i,e,n){const t=i.fu.shift(),r=a3.from(t,e,n);yield wN(i,()=>i.remoteSyncer.applySuccessfulWrite(r)),yield Gv(i)}),j3.apply(this,arguments)}function dB(i,e){return q3.apply(this,arguments)}function q3(){return q3=(0,Ae.Z)(function*(i,e){var n;e&&Np(i).Yo&&(yield(n=(0,Ae.Z)(function*(t,r){if(Qk(o=r.code)&&o!==Te.ABORTED){const c=t.fu.shift();Np(t).Mo(),yield wN(t,()=>t.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Gv(t)}var o}),function(t,r){return n.apply(this,arguments)})(i,e)),bN(i)&&CN(i)}),q3.apply(this,arguments)}function IN(i,e){return G3.apply(this,arguments)}function G3(){return G3=(0,Ae.Z)(function*(i,e){const n=ct(i);n.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const t=Vd(n);n._u.add(3),yield qv(n),t&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield dC(n)}),G3.apply(this,arguments)}function Z3(i,e){return $3.apply(this,arguments)}function $3(){return $3=(0,Ae.Z)(function*(i,e){const n=ct(i);e?(n._u.delete(2),yield dC(n)):e||(n._u.add(2),yield qv(n),n.gu.set("Unknown"))}),$3.apply(this,arguments)}function Zv(i){return i.pu||(i.pu=function(e,n,t){const r=ct(e);return r.su(),new QV(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,t)}(i.datastore,i.asyncQueue,{Yr:iB.bind(null,i),Zr:rB.bind(null,i),Wo:sB.bind(null,i)}),i.wu.push(function(){var e=(0,Ae.Z)(function*(n){n?(i.pu.Mo(),N3(i)?O3(i):i.gu.set("Unknown")):(yield i.pu.stop(),vN(i))});return function(n){return e.apply(this,arguments)}}())),i.pu}function Np(i){return i.Iu||(i.Iu=function(e,n,t){const r=ct(e);return r.su(),new JV(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,t)}(i.datastore,i.asyncQueue,{Yr:lB.bind(null,i),Zr:dB.bind(null,i),tu:cB.bind(null,i),Zo:uB.bind(null,i)}),i.wu.push(function(){var e=(0,Ae.Z)(function*(n){n?(i.Iu.Mo(),yield Gv(i)):(yield i.Iu.stop(),i.fu.length>0&&(Qe("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Iu}class W3{constructor(e,n,t,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=t,this.op=r,this.removalCallback=o,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,n,t,r,o){const c=Date.now()+t,d=new W3(e,n,c,r,o);return d.start(t),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(i,e){if(ji("AsyncQueue",`${e}: ${i}`),Wc(i))return new $e(Te.UNAVAILABLE,`${e}: ${i}`);throw i}class Wv{constructor(e){this.comparator=e?(n,t)=>e(n,t)||ot.comparator(n.key,t.key):(n,t)=>ot.comparator(n.key,t.key),this.keyedMap=Fv(),this.sortedSet=new qi(this.comparator)}static emptySet(e){return new Wv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,t)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wv)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),t=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=t.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const t=new Wv;return t.comparator=this.comparator,t.keyedMap=e,t.sortedSet=n,t}}class TN{constructor(){this.Tu=new qi(ot.comparator)}track(e){const n=e.doc.key,t=this.Tu.get(n);t?0!==e.type&&3===t.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==t.type?this.Tu=this.Tu.insert(n,{type:t.type,doc:e.doc}):2===e.type&&2===t.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===t.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===t.type?this.Tu=this.Tu.remove(n):1===e.type&&2===t.type?this.Tu=this.Tu.insert(n,{type:1,doc:t.doc}):0===e.type&&1===t.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):yt():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,t)=>{e.push(t)}),e}}class Yv{constructor(e,n,t,r,o,c,d,f,_){this.query=e,this.docs=n,this.oldDocs=t,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=_}static fromInitialDocuments(e,n,t,r,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Yv(e,n,Wv.emptySet(n),c,t,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,t=e.docChanges;if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==t[r].type||!n[r].doc.isEqual(t[r].doc))return!1;return!0}}class hB{constructor(){this.Au=void 0,this.listeners=[]}}class pB{constructor(){this.queries=new nu(e=>Gb(e),xp),this.onlineState="Unknown",this.Ru=new Set}}function Y3(i,e){return K3.apply(this,arguments)}function K3(){return K3=(0,Ae.Z)(function*(i,e){const n=ct(i),t=e.query;let r=!1,o=n.queries.get(t);if(o||(r=!0,o=new hB),r)try{o.Au=yield n.onListen(t)}catch(c){const d=$v(c,`Initialization of query '${Zb(e.query)}' failed`);return void e.onError(d)}n.queries.set(t,o),o.listeners.push(e),e.bu(n.onlineState),o.Au&&e.Pu(o.Au)&&X3(n)}),K3.apply(this,arguments)}function Q3(i,e){return J3.apply(this,arguments)}function J3(){return J3=(0,Ae.Z)(function*(i,e){const n=ct(i),t=e.query;let r=!1;const o=n.queries.get(t);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return n.queries.delete(t),n.onUnlisten(t)}),J3.apply(this,arguments)}function fB(i,e){const n=ct(i);let t=!1;for(const r of e){const c=n.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(t=!0);c.Au=r}}t&&X3(n)}function mB(i,e,n){const t=ct(i),r=t.queries.get(e);if(r)for(const o of r.listeners)o.onError(n);t.queries.delete(e)}function X3(i){i.Ru.forEach(e=>{e.next()})}class eP{constructor(e,n,t){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=t||{}}Pu(e){if(!this.options.includeMetadataChanges){const t=[];for(const r of e.docChanges)3!==r.type&&t.push(r);e=new Yv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Yv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class gB{constructor(e,n){this.ku=e,this.byteLength=n}Ou(){return"metadata"in this.ku}}class EN{constructor(e){this.yt=e}Ji(e){return ol(this.yt,e)}Yi(e){return e.metadata.exists?y4(this.yt,e.document,!1):mi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return En(e)}}class _B{constructor(e,n,t){this.Mu=e,this.localStore=n,this.yt=t,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xN(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++n;const t=Tn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(t.get(t.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,t=new EN(this.yt);for(const r of e)if(r.metadata.queries){const o=t.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(n.get(c)||h()).add(o);n.set(c,d)}}return n}complete(){var e=this;return(0,Ae.Z)(function*(){const n=yield function GV(i,e,n,t){return I3.apply(this,arguments)}(e.localStore,new EN(e.yt),e.documents,e.Mu.id),t=e.$u(e.documents);for(const r of e.queries)yield ZV(e.localStore,r,t.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:n}})()}}function xN(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class SN{constructor(e){this.key=e}}class DN{constructor(e){this.key=e}}class AN{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=h(),this.mutatedKeys=h(),this.Gu=Rv(e),this.Qu=new Wv(this.Gu)}get ju(){return this.qu}Wu(e,n){const t=n?n.zu:new TN,r=n?n.Qu:this.Qu;let o=n?n.mutatedKeys:this.mutatedKeys,c=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,T)=>{const M=r.get(b),R=$b(this.query,T)?T:null,B=!!M&&this.mutatedKeys.has(M.key),K=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let te=!1;M&&R?M.data.isEqual(R.data)?B!==K&&(t.track({type:3,doc:R}),te=!0):this.Hu(M,R)||(t.track({type:2,doc:R}),te=!0,(f&&this.Gu(R,f)>0||_&&this.Gu(R,_)<0)&&(d=!0)):!M&&R?(t.track({type:0,doc:R}),te=!0):M&&!R&&(t.track({type:1,doc:M}),te=!0,(f||_)&&(d=!0)),te&&(R?(c=c.add(R),o=K?o.add(b):o.delete(b)):(c=c.delete(b),o=o.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),o=o.delete(b.key),t.track({type:1,doc:b})}return{Qu:c,zu:t,$i:d,mutatedKeys:o}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,t){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((_,b)=>function(T,M){const R=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return R(T)-R(M)}(_.type,b.type)||this.Gu(_.doc,b.doc)),this.Ju(t);const c=n?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,f=d!==this.Uu;return this.Uu=d,0!==o.length||f?{snapshot:new Yv(this.query,e.Qu,r,o,e.mutatedKeys,0===d,f,!1,!!t&&t.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new TN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=h(),this.Qu.forEach(t=>{this.Zu(t.key)&&(this.Ku=this.Ku.add(t.key))});const n=[];return e.forEach(t=>{this.Ku.has(t)||n.push(new DN(t))}),this.Ku.forEach(t=>{e.has(t)||n.push(new SN(t))}),n}tc(e){this.qu=e.Hi,this.Ku=h();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Yv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class yB{constructor(e,n,t){this.query=e,this.targetId=n,this.view=t}}class vB{constructor(e){this.key=e,this.nc=!1}}class wB{constructor(e,n,t,r,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=t,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new nu(d=>Gb(d),xp),this.rc=new Map,this.oc=new Set,this.uc=new qi(ot.comparator),this.cc=new Map,this.ac=new g3,this.hc={},this.lc=new Map,this.fc=Ag.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function bB(i,e){return tP.apply(this,arguments)}function tP(){return tP=(0,Ae.Z)(function*(i,e){const n=TP(i);let t,r;const o=n.ic.get(e);if(o)t=o.targetId,n.sharedClientState.addLocalQueryTarget(t),r=o.view.ec();else{const c=yield zv(n.localStore,Vs(e));n.isPrimaryClient&&Hx(n.remoteStore,c);const d=n.sharedClientState.addLocalQueryTarget(c.targetId);t=c.targetId,r=yield nP(n,e,t,"current"===d,c.resumeToken)}return r}),tP.apply(this,arguments)}function nP(i,e,n,t,r){return iP.apply(this,arguments)}function iP(){return iP=(0,Ae.Z)(function*(i,e,n,t,r){i._c=(T,M,R)=>{return(B=(0,Ae.Z)(function*(K,te,_e,Ne){let Ue=te.view.Wu(_e);Ue.$i&&(Ue=yield Fx(K.localStore,te.query,!1).then(({documents:pt})=>te.view.Wu(pt,Ue)));const Oe=Ne&&Ne.targetChanges.get(te.targetId),it=te.view.applyChanges(Ue,K.isPrimaryClient,Oe);return pP(K,te.targetId,it.Xu),it.snapshot}),function(K,te,_e,Ne){return B.apply(this,arguments)})(i,T,M,R);var B};const o=yield Fx(i.localStore,e,!0),c=new AN(e,o.Hi),d=c.Wu(o.documents),f=C.createSynthesizedTargetChangeForCurrentChange(n,t&&"Offline"!==i.onlineState,r),_=c.applyChanges(d,i.isPrimaryClient,f);pP(i,n,_.Xu);const b=new yB(e,n,c);return i.ic.set(e,b),i.rc.has(n)?i.rc.get(n).push(e):i.rc.set(n,[e]),_.snapshot}),iP.apply(this,arguments)}function CB(i,e){return rP.apply(this,arguments)}function rP(){return rP=(0,Ae.Z)(function*(i,e){const n=ct(i),t=n.ic.get(e),r=n.rc.get(t.targetId);if(r.length>1)return n.rc.set(t.targetId,r.filter(o=>!xp(o,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(t.targetId),n.sharedClientState.isActiveQueryTarget(t.targetId)||(yield jv(n.localStore,t.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(t.targetId),hC(n.remoteStore,t.targetId),Kv(n,t.targetId)}).catch($c))):(Kv(n,t.targetId),yield jv(n.localStore,t.targetId,!0))}),rP.apply(this,arguments)}function sP(){return sP=(0,Ae.Z)(function*(i,e,n){const t=EP(i);try{const r=yield function(o,c){const d=ct(o),f=fi.now(),_=c.reduce((M,R)=>M.add(R.key),h());let b,T;return d.persistence.runTransaction("Locally write mutations","readwrite",M=>{let R=wo(),B=h();return d.Gi.getEntries(M,_).next(K=>{R=K,R.forEach((te,_e)=>{_e.isValidDocument()||(B=B.add(te))})}).next(()=>d.localDocuments.getOverlayedDocuments(M,R)).next(K=>{b=K;const te=[];for(const _e of c){const Ne=Tx(_e,b.get(_e.key).overlayedDocument);null!=Ne&&te.push(new tu(_e.key,Ne,yg(Ne.value.mapValue),gi.exists(!0)))}return d.mutationQueue.addMutationBatch(M,f,te,c)}).next(K=>{T=K;const te=K.applyToLocalDocumentSet(b,B);return d.documentOverlayCache.saveOverlays(M,K.batchId,te)})}).then(()=>({batchId:T.batchId,changes:e3(b)}))}(t.localStore,e);t.sharedClientState.addPendingMutation(r.batchId),function(o,c,d){let f=o.hc[o.currentUser.toKey()];f||(f=new qi(en)),f=f.insert(c,d),o.hc[o.currentUser.toKey()]=f}(t,r.batchId,n),yield Bd(t,r.changes),yield Gv(t.remoteStore)}catch(r){const o=$v(r,"Failed to persist write");n.reject(o)}}),sP.apply(this,arguments)}function MN(i,e){return oP.apply(this,arguments)}function oP(){return oP=(0,Ae.Z)(function*(i,e){const n=ct(i);try{const t=yield function jV(i,e){const n=ct(i),t=e.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const d=[];e.targetChanges.forEach((b,T)=>{const M=r.get(T);if(!M)return;d.push(n.Cs.removeMatchingKeys(o,b.removedDocuments,T).next(()=>n.Cs.addMatchingKeys(o,b.addedDocuments,T)));let R=M.withSequenceNumber(o.currentSequenceNumber);var B,K,te;e.targetMismatches.has(T)?R=R.withResumeToken(tr.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,t)),r=r.insert(T,R),K=R,te=b,(0===(B=M).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&d.push(n.Cs.updateTargetData(o,R))});let f=wo(),_=h();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,b))}),d.push(lN(o,c,e.documentUpdates).next(b=>{f=b.Wi,_=b.zi})),!t.isEqual(Mt.min())){const b=n.Cs.getLastRemoteSnapshotVersion(o).next(T=>n.Cs.setTargetsMetadata(o,o.currentSequenceNumber,t));d.push(b)}return Ce.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,_)).next(()=>f)}).then(o=>(n.qi=r,o))}(n.localStore,e);e.targetChanges.forEach((r,o)=>{const c=n.cc.get(o);c&&(Tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?Tt(c.nc):r.removedDocuments.size>0&&(Tt(c.nc),c.nc=!1))}),yield Bd(n,t,e)}catch(t){yield $c(t)}}),oP.apply(this,arguments)}function kN(i,e,n){const t=ct(i);if(t.isPrimaryClient&&0===n||!t.isPrimaryClient&&1===n){const r=[];t.ic.forEach((o,c)=>{const d=c.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(o,c){const d=ct(o);d.onlineState=c;let f=!1;d.queries.forEach((_,b)=>{for(const T of b.listeners)T.bu(c)&&(f=!0)}),f&&X3(d)}(t.eventManager,e),r.length&&t.sc.Wo(r),t.onlineState=e,t.isPrimaryClient&&t.sharedClientState.setOnlineState(e)}}function TB(i,e,n){return aP.apply(this,arguments)}function aP(){return aP=(0,Ae.Z)(function*(i,e,n){const t=ct(i);t.sharedClientState.updateQueryState(e,"rejected",n);const r=t.cc.get(e),o=r&&r.key;if(o){let c=new qi(ot.comparator);c=c.insert(o,mi.newNoDocument(o,Mt.min()));const d=h().add(o),f=new w(Mt.min(),new Map,new ni(en),c,d);yield MN(t,f),t.uc=t.uc.remove(o),t.cc.delete(e),fP(t)}else yield jv(t.localStore,e,!1).then(()=>Kv(t,e,n)).catch($c)}),aP.apply(this,arguments)}function EB(i,e){return lP.apply(this,arguments)}function lP(){return lP=(0,Ae.Z)(function*(i,e){const n=ct(i),t=e.batch.batchId;try{const r=yield function zV(i,e){const n=ct(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const r=e.batch.keys(),o=n.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,f,_){const b=f.batch,T=b.keys();let M=Ce.resolve();return T.forEach(R=>{M=M.next(()=>_.getEntry(d,R)).next(B=>{const K=f.docVersions.get(R);Tt(null!==K),B.version.compareTo(K)<0&&(b.applyToRemoteDocument(B,f),B.isValidDocument()&&(B.setReadTime(f.commitVersion),_.addEntry(B)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(n,t,e,o).next(()=>o.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(c){let d=h();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(t,r))})}(n.localStore,e);hP(n,t,null),dP(n,t),n.sharedClientState.updateMutationState(t,"acknowledged"),yield Bd(n,r)}catch(r){yield $c(r)}}),lP.apply(this,arguments)}function xB(i,e,n){return cP.apply(this,arguments)}function cP(){return cP=(0,Ae.Z)(function*(i,e,n){const t=ct(i);try{const r=yield function(o,c){const d=ct(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let _;return d.mutationQueue.lookupMutationBatch(f,c).next(b=>(Tt(null!==b),_=b.keys(),d.mutationQueue.removeMutationBatch(f,b))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,_)).next(()=>d.localDocuments.getDocuments(f,_))})}(t.localStore,e);hP(t,e,n),dP(t,e),t.sharedClientState.updateMutationState(e,"rejected",n),yield Bd(t,r)}catch(r){yield $c(r)}}),cP.apply(this,arguments)}function uP(){return uP=(0,Ae.Z)(function*(i,e){const n=ct(i);Vd(n.remoteStore)||Qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=yield function(o){const c=ct(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(n.localStore);if(-1===t)return void e.resolve();const r=n.lc.get(t)||[];r.push(e),n.lc.set(t,r)}catch(t){const r=$v(t,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),uP.apply(this,arguments)}function dP(i,e){(i.lc.get(e)||[]).forEach(n=>{n.resolve()}),i.lc.delete(e)}function hP(i,e,n){const t=ct(i);let r=t.hc[t.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),t.hc[t.currentUser.toKey()]=r}}function Kv(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const t of i.rc.get(e))i.ic.delete(t),n&&i.sc.wc(t,n);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(t=>{i.ac.containsKey(t)||PN(i,t)})}function PN(i,e){i.oc.delete(e.path.canonicalString());const n=i.uc.get(e);null!==n&&(hC(i.remoteStore,n),i.uc=i.uc.remove(e),i.cc.delete(n),fP(i))}function pP(i,e,n){for(const t of n)t instanceof SN?(i.ac.addReference(t.key,e),DB(i,t)):t instanceof DN?(Qe("SyncEngine","Document no longer in limbo: "+t.key),i.ac.removeReference(t.key,e),i.ac.containsKey(t.key)||PN(i,t.key)):yt()}function DB(i,e){const n=e.key,t=n.path.canonicalString();i.uc.get(n)||i.oc.has(t)||(Qe("SyncEngine","New document in limbo: "+n),i.oc.add(t),fP(i))}function fP(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const n=new ot(Tn.fromString(e)),t=i.fc.next();i.cc.set(t,new vB(n)),i.uc=i.uc.insert(n,t),Hx(i.remoteStore,new kp(Vs(wg(n.path)),t,2,go.at))}}function Bd(i,e,n){return mP.apply(this,arguments)}function mP(){return mP=(0,Ae.Z)(function*(i,e,n){const t=ct(i),r=[],o=[],c=[];var d;t.ic.isEmpty()||(t.ic.forEach((d,f)=>{c.push(t._c(f,e,n).then(_=>{if((_||n)&&t.isPrimaryClient&&t.sharedClientState.updateQueryState(f.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=w3.Ci(f.targetId,_);o.push(b)}}))}),yield Promise.all(c),t.sc.Wo(r),yield(d=(0,Ae.Z)(function*(f,_){const b=ct(f);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Ce.forEach(_,M=>Ce.forEach(M.Si,R=>b.persistence.referenceDelegate.addReference(T,M.targetId,R)).next(()=>Ce.forEach(M.Di,R=>b.persistence.referenceDelegate.removeReference(T,M.targetId,R)))))}catch(T){if(!Wc(T))throw T;Qe("LocalStore","Failed to update sequence numbers: "+T)}for(const T of _){const M=T.targetId;if(!T.fromCache){const R=b.qi.get(M),K=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);b.qi=b.qi.insert(M,K)}}}),function(f,_){return d.apply(this,arguments)})(t.localStore,o))}),mP.apply(this,arguments)}function AB(i,e){return gP.apply(this,arguments)}function gP(){return gP=(0,Ae.Z)(function*(i,e){const n=ct(i);if(!n.currentUser.isEqual(e)){Qe("SyncEngine","User change. New user:",e.toKey());const t=yield oN(n.localStore,e);n.currentUser=e,(r=n).lc.forEach(c=>{c.forEach(d=>{d.reject(new $e(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield Bd(n,t.ji)}var r}),gP.apply(this,arguments)}function MB(i,e){const n=ct(i),t=n.cc.get(e);if(t&&t.nc)return h().add(t.key);{let r=h();const o=n.rc.get(e);if(!o)return r;for(const c of o){const d=n.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function kB(i,e){return _P.apply(this,arguments)}function _P(){return _P=(0,Ae.Z)(function*(i,e){const n=ct(i),t=yield Fx(n.localStore,e.query,!0),r=e.view.tc(t);return n.isPrimaryClient&&pP(n,e.targetId,r.Xu),r}),_P.apply(this,arguments)}function PB(i,e){return yP.apply(this,arguments)}function yP(){return yP=(0,Ae.Z)(function*(i,e){const n=ct(i);return uN(n.localStore,e).then(t=>Bd(n,t))}),yP.apply(this,arguments)}function RB(i,e,n,t){return vP.apply(this,arguments)}function vP(){return vP=(0,Ae.Z)(function*(i,e,n,t){const r=ct(i),o=yield function(c,d){const f=ct(c),_=ct(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Tn(b,d).next(T=>T?f.localDocuments.getDocuments(b,T):Ce.resolve(null)))}(r.localStore,e);var d;null!==o?("pending"===n?yield Gv(r.remoteStore):"acknowledged"===n||"rejected"===n?(hP(r,e,t||null),dP(r,e),d=e,ct(ct(r.localStore).mutationQueue).An(d)):yt(),yield Bd(r,o)):Qe("SyncEngine","Cannot apply mutation batch with id: "+e)}),vP.apply(this,arguments)}function wP(){return wP=(0,Ae.Z)(function*(i,e){const n=ct(i);if(TP(n),EP(n),!0===e&&!0!==n.dc){const t=n.sharedClientState.getAllActiveQueryTargets(),r=yield RN(n,t.toArray());n.dc=!0,yield Z3(n.remoteStore,!0);for(const o of r)Hx(n.remoteStore,o)}else if(!1===e&&!1!==n.dc){const t=[];let r=Promise.resolve();n.rc.forEach((o,c)=>{n.sharedClientState.isLocalQueryTarget(c)?t.push(c):r=r.then(()=>(Kv(n,c),jv(n.localStore,c,!0))),hC(n.remoteStore,c)}),yield r,yield RN(n,t),function(o){const c=ct(o);c.cc.forEach((d,f)=>{hC(c.remoteStore,f)}),c.ac.fs(),c.cc=new Map,c.uc=new qi(ot.comparator)}(n),n.dc=!1,yield Z3(n.remoteStore,!1)}}),wP.apply(this,arguments)}function RN(i,e,n){return bP.apply(this,arguments)}function bP(){return bP=(0,Ae.Z)(function*(i,e,n){const t=ct(i),r=[],o=[];for(const c of e){let d;const f=t.rc.get(c);if(f&&0!==f.length){d=yield zv(t.localStore,Vs(f[0]));for(const _ of f){const b=t.ic.get(_),T=yield kB(t,b);T.snapshot&&o.push(T.snapshot)}}else{const _=yield cN(t.localStore,c);d=yield zv(t.localStore,_),yield nP(t,ON(_),c,!1,d.resumeToken)}r.push(d)}return t.sc.Wo(o),r}),bP.apply(this,arguments)}function ON(i){return vg(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function NB(i){const e=ct(i);return ct(ct(e.localStore).persistence).vi()}function LB(i,e,n,t){return CP.apply(this,arguments)}function CP(){return CP=(0,Ae.Z)(function*(i,e,n,t){const r=ct(i);if(r.dc)return void Qe("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const c=yield uN(r.localStore,Wb(o[0])),d=w.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,tr.EMPTY_BYTE_STRING);yield Bd(r,c,d);break}case"rejected":yield jv(r.localStore,e,!0),Kv(r,e,t);break;default:yt()}}),CP.apply(this,arguments)}function FB(i,e,n){return IP.apply(this,arguments)}function IP(){return IP=(0,Ae.Z)(function*(i,e,n){const t=TP(i);if(t.dc){for(const r of e){if(t.rc.has(r)){Qe("SyncEngine","Adding an already active target "+r);continue}const o=yield cN(t.localStore,r),c=yield zv(t.localStore,o);yield nP(t,ON(o),c.targetId,!1,c.resumeToken),Hx(t.remoteStore,c)}for(const r of n)t.rc.has(r)&&(yield jv(t.localStore,r,!1).then(()=>{hC(t.remoteStore,r),Kv(t,r)}).catch($c))}}),IP.apply(this,arguments)}function TP(i){const e=ct(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=MN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TB.bind(null,e),e.sc.Wo=fB.bind(null,e.eventManager),e.sc.wc=mB.bind(null,e.eventManager),e}function EP(i){const e=ct(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xB.bind(null,e),e}class NN{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Ae.Z)(function*(){n.yt=uC(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return sN(this.persistence,new rN,e.initialUser,this.yt)}yc(e){return new nN(Nx.Bs,this.yt)}gc(e){return new fN}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class LN extends NN{constructor(e,n,t){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=t,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,t=this;return(0,Ae.Z)(function*(){yield n().call(t,e),yield t.Ac.initialize(t,e),yield EP(t.Ac.syncEngine),yield Gv(t.Ac.remoteStore),yield t.persistence.li(()=>(t.gcScheduler&&!t.gcScheduler.started&&t.gcScheduler.start(),t.indexBackfillerScheduler&&!t.indexBackfillerScheduler.started&&t.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return sN(this.persistence,new rN,e.initialUser,this.yt)}Tc(e,n){return new SV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Ec(e,n){const t=new kk(n,this.persistence);return new Lb(e.asyncQueue,t)}yc(e){const n=v3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),t=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new y3(this.synchronizeTabs,n,e.clientId,t,e.asyncQueue,gN(),Ux(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new fN}}class BB extends LN{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,t=this;return(0,Ae.Z)(function*(){yield n().call(t,e);const r=t.Ac.syncEngine;t.sharedClientState instanceof D3&&(t.sharedClientState.syncEngine={Fr:RB.bind(null,r),$r:LB.bind(null,r),Br:FB.bind(null,r),vi:NB.bind(null,r),Mr:PB.bind(null,r)},yield t.sharedClientState.start()),yield t.persistence.li(function(){var o=(0,Ae.Z)(function*(c){yield function OB(i,e){return wP.apply(this,arguments)}(t.Ac.syncEngine,c),t.gcScheduler&&(c&&!t.gcScheduler.started?t.gcScheduler.start():c||t.gcScheduler.stop()),t.indexBackfillerScheduler&&(c&&!t.indexBackfillerScheduler.started?t.indexBackfillerScheduler.start():c||t.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}gc(e){const n=gN();if(!D3.C(n))throw new $e(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const t=v3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new D3(n,e.asyncQueue,t,e.clientId,e.initialUser)}}class xP{initialize(e,n){var t=this;return(0,Ae.Z)(function*(){t.localStore||(t.localStore=e.localStore,t.sharedClientState=e.sharedClientState,t.datastore=t.createDatastore(n),t.remoteStore=t.createRemoteStore(n),t.eventManager=t.createEventManager(n),t.syncEngine=t.createSyncEngine(n,!e.synchronizeTabs),t.sharedClientState.onlineStateHandler=r=>kN(t.syncEngine,r,1),t.remoteStore.remoteSyncer.handleCredentialChange=AB.bind(null,t.syncEngine),yield Z3(t.remoteStore,t.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pB}createDatastore(e){const n=uC(e.databaseInfo.databaseId),t=new KV(e.databaseInfo);return new XV(e.authCredentials,e.appCheckCredentials,t,n)}createRemoteStore(e){return n=this.localStore,t=this.datastore,r=e.asyncQueue,o=d=>kN(this.syncEngine,d,0),c=mN.C()?new mN:new $V,new nB(n,t,r,o,c);var n,t,r,o,c}createSyncEngine(e,n){return function(t,r,o,c,d,f,_){const b=new wB(t,r,o,c,d,f);return _&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Ae.Z)(function*(n){const t=ct(n);Qe("RemoteStore","RemoteStore shutting down."),t._u.add(5),yield qv(t),t.mu.shutdown(),t.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function SP(i,e,n){if(!n)throw new $e(Te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function FN(i,e,n,t){if(!0===e&&!0===t)throw new $e(Te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function VN(i){if(!ot.isDocumentKey(i))throw new $e(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function BN(i){if(ot.isDocumentKey(i))throw new $e(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jx(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":yt()}function xn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new $e(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jx(i);throw new $e(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function UN(i,e){if(e<=0)throw new $e(Te.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const HN=new Map;class zN{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,FN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pC{constructor(e,n,t,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=t,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zN(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new XO;switch(n.type){case"gapi":return new n4(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=HN.get(e);n&&(Qe("ComponentProvider","Removing Datastore"),HN.delete(e),n.terminate())}(this),Promise.resolve()}}class ki{constructor(e,n,t){this.converter=n,this._key=t,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ki(this.firestore,e,this._key)}}class Bs{constructor(e,n,t){this.converter=n,this._query=t,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class ru extends Bs{constructor(e,n,t){super(e,n,wg(t)),this._path=t,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ki(this.firestore,null,new ot(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function qN(i,e,...n){if(i=(0,z.m9)(i),SP("collection","path",e),i instanceof pC){const t=Tn.fromString(e,...n);return BN(t),new ru(i,null,t)}{if(!(i instanceof ki||i instanceof ru))throw new $e(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const t=i._path.child(Tn.fromString(e,...n));return BN(t),new ru(i.firestore,null,t)}}function qx(i,e,...n){if(i=(0,z.m9)(i),1===arguments.length&&(e=xk.R()),SP("doc","path",e),i instanceof pC){const t=Tn.fromString(e,...n);return VN(t),new ki(i,null,new ot(t))}{if(!(i instanceof ki||i instanceof ru))throw new $e(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const t=i._path.child(Tn.fromString(e,...n));return VN(t),new ki(i.firestore,i instanceof ru?i.converter:null,new ot(t))}}function GN(i,e){return i=(0,z.m9)(i),e=(0,z.m9)(e),(i instanceof ki||i instanceof ru)&&(e instanceof ki||e instanceof ru)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function DP(i,e){return i=(0,z.m9)(i),e=(0,z.m9)(e),i instanceof Bs&&e instanceof Bs&&i.firestore===e.firestore&&xp(i._query,e._query)&&i.converter===e.converter}function ZN(i,e=10240){let n=0;return{read:()=>(0,Ae.Z)(function*(){if(n<i.byteLength){const t={value:i.slice(n,n+e),done:!1};return n+=e,t}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Gx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class HB{constructor(e,n){this.Pc=e,this.yt=n,this.metadata=new Er,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(t=>{t&&t.Ou()?this.metadata.resolve(t.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(t?.ku)}`))},t=>this.metadata.reject(t))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ae.Z)(function*(){const n=yield e.Sc();if(null===n)return null;const t=e.vc.decode(n),r=Number(t);isNaN(r)&&e.Dc(`length string (${t}) is not valid number`);const o=yield e.Cc(r);return new gB(JSON.parse(o),n.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ae.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const n=e.xc();n<0&&e.Dc("Reached the end of bundle when a length string is expected.");const t=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),t})()}Cc(e){var n=this;return(0,Ae.Z)(function*(){for(;n.buffer.length<e;)(yield n.Nc())&&n.Dc("Reached the end of bundle when more is expected.");const t=n.vc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),t})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ae.Z)(function*(){const n=yield e.Pc.read();if(!n.done){const t=new Uint8Array(e.buffer.length+n.value.length);t.set(e.buffer),t.set(n.value,e.buffer.length),e.buffer=t}return n.done})()}}class qB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Ae.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new $e(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=yield(r=(0,Ae.Z)(function*(o,c){const d=ct(o),f=eC(d.yt)+"/documents",_={documents:c.map(R=>Fd(d.yt,R))},b=yield d._o("BatchGetDocuments",f,_,c.length),T=new Map;b.forEach(R=>{const B=function j8(i,e){return"found"in e?function(n,t){Tt(!!t.found);const r=ol(n,t.found.name),o=En(t.found.updateTime),c=t.found.createTime?En(t.found.createTime):Mt.min(),d=new Qr({mapValue:{fields:t.found.fields}});return mi.newFoundDocument(r,o,c,d)}(i,e):"missing"in e?function(n,t){Tt(!!t.missing),Tt(!!t.readTime);const r=ol(n,t.missing),o=En(t.readTime);return mi.newNoDocument(r,o)}(i,e):yt()}(d.yt,R);T.set(B.key.toString(),B)});const M=[];return c.forEach(R=>{const B=T.get(R.toString());Tt(!!B),M.push(B)}),M}),function(o,c){return r.apply(this,arguments)})(n.datastore,e);var r;return t.forEach(r=>n.recordVersion(r)),t})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var t;e.mutations.forEach(t=>{n.delete(t.key.toString())}),n.forEach((t,r)=>{const o=ot.fromPath(r);e.mutations.push(new Jb(o,e.precondition(o)))}),yield(t=(0,Ae.Z)(function*(r,o){const c=ct(r),d=eC(c.yt)+"/documents",f={writes:o.map(_=>tC(c.yt,_))};yield c.ao("Commit",d,f)}),function(r,o){return t.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw yt();n=Mt.min()}const t=this.readVersions.get(e.key.toString());if(t){if(!n.isEqual(t))throw new $e(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Mt.min())?gi.exists(!1):gi.updateTime(n):gi.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Mt.min()))throw new $e(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gi.updateTime(n)}return gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class GB{constructor(e,n,t,r,o){this.asyncQueue=e,this.datastore=n,this.options=t,this.updateFunction=r,this.deferred=o,this.kc=t.maxAttempts,this.xo=new A3(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ae.Z)(function*(){const n=new qB(e.datastore),t=e.Mc(n);t&&t.then(r=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Fc(o)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const n=this.updateFunction(e);return!hg(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Qk(n)}return!1}}class ZB{constructor(e,n,t,r){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=t,this.databaseInfo=r,this.user=Br.UNAUTHENTICATED,this.clientId=xk.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(t,function(){var c=(0,Ae.Z)(function*(d){Qe("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(t,c=>(Qe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(t){const r=$v(t,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}function $N(i,e){return AP.apply(this,arguments)}function AP(){return AP=(0,Ae.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let t=n.initialUser;i.setCredentialChangeListener(function(){var r=(0,Ae.Z)(function*(o){t.isEqual(o)||(yield oN(e.localStore,o),t=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),AP.apply(this,arguments)}function WN(i,e){return MP.apply(this,arguments)}function MP(){return MP=(0,Ae.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield kP(i);Qe("FirestoreClient","Initializing OnlineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(n,t),i.setCredentialChangeListener(r=>IN(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>IN(e.remoteStore,o)),i.onlineComponents=e}),MP.apply(this,arguments)}function kP(i){return PP.apply(this,arguments)}function PP(){return PP=(0,Ae.Z)(function*(i){return i.offlineComponents||(Qe("FirestoreClient","Using default OfflineComponentProvider"),yield $N(i,new NN)),i.offlineComponents}),PP.apply(this,arguments)}function Zx(i){return RP.apply(this,arguments)}function RP(){return RP=(0,Ae.Z)(function*(i){return i.onlineComponents||(Qe("FirestoreClient","Using default OnlineComponentProvider"),yield WN(i,new xP)),i.onlineComponents}),RP.apply(this,arguments)}function YN(i){return kP(i).then(e=>e.persistence)}function $x(i){return kP(i).then(e=>e.localStore)}function OP(i){return Zx(i).then(e=>e.remoteStore)}function NP(i){return Zx(i).then(e=>e.syncEngine)}function Qv(i){return LP.apply(this,arguments)}function LP(){return LP=(0,Ae.Z)(function*(i){const e=yield Zx(i),n=e.eventManager;return n.onListen=bB.bind(null,e.syncEngine),n.onUnlisten=CB.bind(null,e.syncEngine),n}),LP.apply(this,arguments)}function QN(i,e,n={}){const t=new Er;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(r,o,c,d,f){const _=new Gx({next:T=>{o.enqueueAndForget(()=>Q3(r,b));const M=T.docs.has(c);!M&&T.fromCache?f.reject(new $e(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&T.fromCache&&d&&"server"===d.source?f.reject(new $e(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),b=new eP(wg(c.path),_,{includeMetadataChanges:!0,Nu:!0});return Y3(r,b)}(yield Qv(i),i.asyncQueue,e,n,t)})),t.promise}function JN(i,e,n={}){const t=new Er;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(r,o,c,d,f){const _=new Gx({next:T=>{o.enqueueAndForget(()=>Q3(r,b)),T.fromCache&&"server"===d.source?f.reject(new $e(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),b=new eP(c,_,{includeMetadataChanges:!0,Nu:!0});return Y3(r,b)}(yield Qv(i),i.asyncQueue,e,n,t)})),t.promise}class eU{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new A3(this,"async_queue_retry"),this.Wc=()=>{const n=Ux();n&&Qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Ux();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Ux();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Er;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!Wc(n))throw n;Qe("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(t=>{throw this.Kc=t,this.Gc=!1,ji("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(t)),t}).then(t=>(this.Gc=!1,t))));return this.Bc=n,n}enqueueAfterDelay(e,n,t){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const r=W3.createAndSchedule(this,e,n,t,o=>this.Yc(o));return this.Uc.push(r),r}zc(){this.Kc&&yt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ae.Z)(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,t)=>n.targetTimeMs-t.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function FP(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const t=e;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(i)}class tU{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,t){this._progressObserver={next:e,error:n,complete:t}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pi extends pC{constructor(e,n,t,r){super(e,n,t,r),this.type="firestore",this._queue=new eU,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XN(this),this._firestoreClient.terminate()}}function Sr(i){return i._firestoreClient||XN(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function XN(i){var e;const n=i._freezeSettings(),t=(o=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new cx(i._databaseId,o,i._persistenceKey,(d=n).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var o,d;i._firestoreClient=new ZB(i._authCredentials,i._appCheckCredentials,i._queue,t)}function eL(i,e,n){const t=new Er;return i.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield $N(i,n),yield WN(i,e),t.resolve()}catch(r){const o=r;if(!("FirebaseError"===(c=o).name?c.code===Te.FAILED_PRECONDITION||c.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;xd("Error enabling offline persistence. Falling back to persistence disabled: "+o),t.reject(o)}var c})).then(()=>t.promise)}function tL(i){if(i._initialized||i._terminated)throw new $e(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new su(tr.fromBase64String(e))}catch(n){throw new $e(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new su(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ud{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new $e(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kg{constructor(e){this._methodName=e}}class Wx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}const dU=/^__.*__$/;class hU{constructor(e,n,t){this.data=e,this.fieldMask=n,this.fieldTransforms=t}toMutation(e,n){return null!==this.fieldMask?new tu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ap(e,this.data,n,this.fieldTransforms)}}class nL{constructor(e,n,t){this.data=e,this.fieldMask=n,this.fieldTransforms=t}toMutation(e,n){return new tu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iL(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Yx{constructor(e,n,t,r,o,c){this.settings=e,this.databaseId=n,this.yt=t,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Yx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const t=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.ia({path:t,oa:!1});return r.ua(e),r}ca(e){var n;const t=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.ia({path:t,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Jx(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(iL(this.sa)&&dU.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class pU{constructor(e,n,t){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=t||uC(e)}da(e,n,t,r=!1){return new Yx({sa:e,methodName:n,fa:t,path:er.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Pg(i){const e=i._freezeSettings(),n=uC(i._databaseId);return new pU(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Kx(i,e,n,t,r,o={}){const c=i.da(o.merge||o.mergeFields?2:0,e,n,r);HP("Data must be an object, but it was:",c,t);const d=oL(t,c);let f,_;if(o.merge)f=new yo(c.fieldMask),_=c.fieldTransforms;else if(o.mergeFields){const b=[];for(const T of o.mergeFields){const M=zP(e,T,n);if(!c.contains(M))throw new $e(Te.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);lL(b,M)||b.push(M)}f=new yo(b),_=c.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,_=c.fieldTransforms;return new hU(new Qr(d),f,_)}class fC extends kg{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fC}}function rL(i,e,n){return new Yx({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class VP extends kg{_toFieldTransform(e){return new Ig(e.path,new Sp)}isEqual(e){return e instanceof VP}}class fU extends kg{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=rL(this,e,!0),t=this._a.map(o=>Rg(o,n)),r=new Rd(t);return new Ig(e.path,r)}isEqual(e){return this===e}}class mU extends kg{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=rL(this,e,!0),t=this._a.map(o=>Rg(o,n)),r=new eu(t);return new Ig(e.path,r)}isEqual(e){return this===e}}class gU extends kg{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new Od(e.yt,yx(e.yt,this.wa));return new Ig(e.path,n)}isEqual(e){return this===e}}function BP(i,e,n,t){const r=i.da(1,e,n);HP("Data must be an object, but it was:",r,t);const o=[],c=Qr.empty();fr(t,(f,_)=>{const b=Qx(e,f,n);_=(0,z.m9)(_);const T=r.ca(b);if(_ instanceof fC)o.push(b);else{const M=Rg(_,T);null!=M&&(o.push(b),c.set(b,M))}});const d=new yo(o);return new nL(c,d,r.fieldTransforms)}function UP(i,e,n,t,r,o){const c=i.da(1,e,n),d=[zP(e,t,n)],f=[r];if(o.length%2!=0)throw new $e(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)d.push(zP(e,o[M])),f.push(o[M+1]);const _=[],b=Qr.empty();for(let M=d.length-1;M>=0;--M)if(!lL(_,d[M])){const R=d[M];let B=f[M];B=(0,z.m9)(B);const K=c.ca(R);if(B instanceof fC)_.push(R);else{const te=Rg(B,K);null!=te&&(_.push(R),b.set(R,te))}}const T=new yo(_);return new nL(b,T,c.fieldTransforms)}function sL(i,e,n,t=!1){return Rg(n,i.da(t?4:3,e))}function Rg(i,e){if(aL(i=(0,z.m9)(i)))return HP("Unsupported field value:",e,i),oL(i,e);if(i instanceof kg)return function(n,t){if(!iL(t.sa))throw t.ha(`${n._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ha(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,t){const r=[];let o=0;for(const c of n){let d=Rg(c,t.aa(o));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),o++}return{arrayValue:{values:r}}}(i,e)}return function(n,t){if(null===(n=(0,z.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return yx(t.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const r=fi.fromDate(n);return{timestampValue:jt(t.yt,r)}}if(n instanceof fi){const r=new fi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jt(t.yt,r)}}if(n instanceof Wx)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof su)return{bytesValue:on(t.yt,n._byteString)};if(n instanceof ki){const r=t.databaseId,o=n.firestore._databaseId;if(!o.isEqual(r))throw t.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ya(n.firestore._databaseId||t.databaseId,n._key.path)}}throw t.ha(`Unsupported field value: ${jx(n)}`)}(i,e)}function oL(i,e){const n={};return Fb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fr(i,(t,r)=>{const o=Rg(r,e.ra(t));null!=o&&(n[t]=o)}),{mapValue:{fields:n}}}function aL(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof fi||i instanceof Wx||i instanceof su||i instanceof ki||i instanceof kg)}function HP(i,e,n){if(!aL(n)||"object"!=typeof(t=n)||null===t||Object.getPrototypeOf(t)!==Object.prototype&&null!==Object.getPrototypeOf(t)){const t=jx(n);throw e.ha("an object"===t?i+" a custom object":i+" "+t)}var t}function zP(i,e,n){if((e=(0,z.m9)(e))instanceof Ud)return e._internalPath;if("string"==typeof e)return Qx(i,e);throw Jx("Field path arguments must be of type string or ",i,!1,void 0,n)}const _U=new RegExp("[~\\*/\\[\\]]");function Qx(i,e,n){if(e.search(_U)>=0)throw Jx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ud(...e.split("."))._internalPath}catch{throw Jx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jx(i,e,n,t,r){const o=t&&!t.isEmpty(),c=void 0!==r;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${t}`),c&&(f+=` in document ${r}`),f+=")"),new $e(Te.INVALID_ARGUMENT,d+i+f)}function lL(i,e){return i.some(n=>n.isEqual(e))}class mC{constructor(e,n,t,r,o){this._firestore=e,this._userDataWriter=n,this._key=t,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class yU extends mC{data(){return super.data()}}function Xx(i,e){return"string"==typeof e?Qx(i,e):e instanceof Ud?e._internalPath:e._delegate._internalPath}function cL(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new $e(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jP{}class gC extends jP{}function Lp(i,e,...n){let t=[];e instanceof jP&&t.push(e),t=t.concat(n),function(r){const o=r.filter(d=>d instanceof Jv).length,c=r.filter(d=>d instanceof _C).length;if(o>1||o>0&&c>0)throw new $e(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(t);for(const r of t)i=r._apply(i);return i}class _C extends gC{constructor(e,n,t){super(),this._field=e,this._op=n,this._value=t,this.type="where"}static _create(e,n,t){return new _C(e,n,t)}_apply(e){const n=this._parse(e);return pL(e._query,n),new Bs(e.firestore,e.converter,qb(e._query,n))}_parse(e){const n=Pg(e.firestore);return function(r,o,c,d,f,_,b){let T;if(f.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new $e(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){hL(b,_);const M=[];for(const R of b)M.push(dL(d,r,R));T={arrayValue:{values:M}}}else T=dL(d,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||hL(b,_),T=sL(c,"where",b,"in"===_||"not-in"===_);return mn.create(f,_,T)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Jv extends jP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jv(e,n)}_parse(e){const n=this._queryConstraints.map(t=>t._parse(e)).filter(t=>t.getFilters().length>0);return 1===n.length?n[0]:Nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(t,r){let o=t;const c=r.getFlattenedFilters();for(const d of c)pL(o,d),o=qb(o,d)}(e._query,n),new Bs(e.firestore,e.converter,qb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qP extends gC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qP(e,n)}_apply(e){const n=function(t,r,o){if(null!==t.startAt)throw new $e(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new $e(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new kd(r,o);return function(d,f){if(null===_x(d)){const _=bg(d);null!==_&&fL(0,_,f.field)}}(t,c),c}(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,function(t,r){const o=t.explicitOrderBy.concat([r]);return new _a(t.path,t.collectionGroup,o,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e._query,n))}}class eS extends gC{constructor(e,n,t){super(),this.type=e,this._limit=n,this._limitType=t}static _create(e,n,t){return new eS(e,n,t)}_apply(e){return new Bs(e.firestore,e.converter,Cg(e._query,this._limit,this._limitType))}}class tS extends gC{constructor(e,n,t){super(),this.type=e,this._docOrFields=n,this._inclusive=t}static _create(e,n,t){return new tS(e,n,t)}_apply(e){const n=uL(e,this.type,this._docOrFields,this._inclusive);return new Bs(e.firestore,e.converter,(r=n,new _a((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,r,t.endAt)));var t,r}}class nS extends gC{constructor(e,n,t){super(),this.type=e,this._docOrFields=n,this._inclusive=t}static _create(e,n,t){return new nS(e,n,t)}_apply(e){const n=uL(e,this.type,this._docOrFields,this._inclusive);return new Bs(e.firestore,e.converter,(r=n,new _a((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,r)));var t,r}}function uL(i,e,n,t){if(n[0]=(0,z.m9)(n[0]),n[0]instanceof mC)return function(r,o,c,d,f){if(!d)throw new $e(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const b of Pd(r))if(b.field.isKeyField())_.push(ec(o,d.key));else{const T=d.data.field(b.field);if(Iv(T))throw new $e(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const M=b.field.canonicalString();throw new $e(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}_.push(T)}return new Xc(_,f)}(i._query,i.firestore._databaseId,e,n[0]._document,t);{const r=Pg(i.firestore);return function(o,c,d,f,_,b){const T=o.explicitOrderBy;if(_.length>T.length)throw new $e(Te.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let R=0;R<_.length;R++){const B=_[R];if(T[R].field.isKeyField()){if("string"!=typeof B)throw new $e(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof B}`);if(!jb(o)&&-1!==B.indexOf("/"))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${B}' contains a slash.`);const K=o.path.child(Tn.fromString(B));if(!ot.isDocumentKey(K))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const te=new ot(K);M.push(ec(c,te))}else{const K=sL(d,f,B);M.push(K)}}return new Xc(M,b)}(i._query,i.firestore._databaseId,r,e,n,t)}}function dL(i,e,n){if("string"==typeof(n=(0,z.m9)(n))){if(""===n)throw new $e(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jb(e)&&-1!==n.indexOf("/"))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const t=e.path.child(Tn.fromString(n));if(!ot.isDocumentKey(t))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${t}' is not because it has an odd number of segments (${t.length}).`);return ec(i,new ot(t))}if(n instanceof ki)return ec(i,n._key);throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jx(n)}.`)}function hL(i,e){if(!Array.isArray(i)||0===i.length)throw new $e(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new $e(Te.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function pL(i,e){if(e.isInequality()){const t=bg(i),r=e.field;if(null!==t&&!t.isEqual(r))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${t.toString()}' and '${r.toString()}'`);const o=_x(i);null!==o&&fL(0,r,o)}const n=function(t,r){for(const o of t)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(i.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new $e(Te.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function fL(i,e,n){if(!n.isEqual(e))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class GP{convertValue(e,n="none"){switch(Qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw yt()}}convertObject(e,n){const t={};return fr(e.fields,(r,o)=>{t[r]=this.convertValue(o,n)}),t}convertGeoPoint(e){return new Wx(Ii(e.latitude),Ii(e.longitude))}convertArray(e,n){return(e.values||[]).map(t=>this.convertValue(t,n))}convertServerTimestamp(e,n){switch(n){case"previous":const t=ux(e);return null==t?null:this.convertValue(t,n);case"estimate":return this.convertTimestamp(vp(e));default:return null}}convertTimestamp(e){const n=Yc(e);return new fi(n.seconds,n.nanos)}convertDocumentKey(e,n){const t=Tn.fromString(e);Tt(I4(t));const r=new Jl(t.get(1),t.get(3)),o=new ot(t.popFirst(5));return r.isEqual(n)||ji(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function iS(i,e,n){let t;return t=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,t}class SU extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ki(this.firestore,null,n)}}class Og{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hd extends mC{constructor(e,n,t,r,o,c){super(e,n,t,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const t=this._document.data.field(Xx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t,n.serverTimestamps)}}}class yC extends Hd{data(e={}){return super.data(e)}}class Fp{constructor(e,n,t,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Og(r.hasPendingWrites,r.fromCache),this.query=t}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(t=>{e.call(n,new yC(this._firestore,this._userDataWriter,t.key,t,new Og(this._snapshot.mutatedKeys.has(t.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(t,r){if(t._snapshot.oldDocs.isEmpty()){let o=0;return t._snapshot.docChanges.map(c=>({type:"added",doc:new yC(t._firestore,t._userDataWriter,c.doc.key,c.doc,new Og(t._snapshot.mutatedKeys.has(c.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:o++}))}{let o=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new yC(t._firestore,t._userDataWriter,c.doc.key,c.doc,new Og(t._snapshot.mutatedKeys.has(c.doc.key),t._snapshot.fromCache),t.query.converter);let f=-1,_=-1;return 0!==c.type&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:DU(c.type),doc:d,oldIndex:f,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DU(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function gL(i,e){return i instanceof Hd&&e instanceof Hd?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Fp&&e instanceof Fp&&i._firestore===e._firestore&&DP(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Vp extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ki(this.firestore,null,n)}}function _L(i,e,n){i=xn(i,ki);const t=xn(i.firestore,Pi),r=iS(i.converter,e,n);return Xv(t,[Kx(Pg(t),"setDoc",i._key,r,null!==i.converter,n).toMutation(i._key,gi.none())])}function yL(i,e,n,...t){i=xn(i,ki);const r=xn(i.firestore,Pi),o=Pg(r);let c;return c="string"==typeof(e=(0,z.m9)(e))||e instanceof Ud?UP(o,"updateDoc",i._key,e,n,t):BP(o,"updateDoc",i._key,e),Xv(r,[c.toMutation(i._key,gi.exists(!0))])}function vL(i,...e){var n,t,r;i=(0,z.m9)(i);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||FP(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges};if(FP(e[c])){const T=e[c];e[c]=null===(n=T.next)||void 0===n?void 0:n.bind(T),e[c+1]=null===(t=T.error)||void 0===t?void 0:t.bind(T),e[c+2]=null===(r=T.complete)||void 0===r?void 0:r.bind(T)}let f,_,b;if(i instanceof ki)_=xn(i.firestore,Pi),b=wg(i._key.path),f={next:T=>{e[c]&&e[c](ZP(_,i,T))},error:e[c+1],complete:e[c+2]};else{const T=xn(i,Bs);_=xn(T.firestore,Pi),b=T._query;const M=new Vp(_);f={next:R=>{e[c]&&e[c](new Fp(_,M,T,R))},error:e[c+1],complete:e[c+2]},cL(i._query)}return function(T,M,R,B){const K=new Gx(B),te=new eP(M,K,R);return T.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Y3(yield Qv(T),te)})),()=>{K.bc(),T.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Q3(yield Qv(T),te)}))}}(Sr(_),b,d,f)}function Xv(i,e){return function(n,t){const r=new Er;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function IB(i,e,n){return sP.apply(this,arguments)}(yield NP(n),t,r)})),r.promise}(Sr(i),e)}function ZP(i,e,n){const t=n.docs.get(e._key),r=new Vp(i);return new Hd(i,r,e._key,t,new Og(n.hasPendingWrites,n.fromCache),e.converter)}const VU={maxAttempts:5};class wL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pg(e)}set(e,n,t){this._verifyNotCommitted();const r=Bp(e,this._firestore),o=iS(r.converter,n,t),c=Kx(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,t);return this._mutations.push(c.toMutation(r._key,gi.none())),this}update(e,n,t,...r){this._verifyNotCommitted();const o=Bp(e,this._firestore);let c;return c="string"==typeof(n=(0,z.m9)(n))||n instanceof Ud?UP(this._dataReader,"WriteBatch.update",o._key,n,t,r):BP(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(c.toMutation(o._key,gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bp(e,this._firestore);return this._mutations=this._mutations.concat(new Mp(n._key,gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bp(i,e){if((i=(0,z.m9)(i)).firestore!==e)throw new $e(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class BU extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Pg(e)}get(e){const n=Bp(e,this._firestore),t=new SU(this._firestore);return this._transaction.lookup([n._key]).then(r=>{if(!r||1!==r.length)return yt();const o=r[0];if(o.isFoundDocument())return new mC(this._firestore,t,o.key,o,n.converter);if(o.isNoDocument())return new mC(this._firestore,t,n._key,null,n.converter);throw yt()})}set(e,n,t){const r=Bp(e,this._firestore),o=iS(r.converter,n,t),c=Kx(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,t);return this._transaction.set(r._key,c),this}update(e,n,t,...r){const o=Bp(e,this._firestore);let c;return c="string"==typeof(n=(0,z.m9)(n))||n instanceof Ud?UP(this._dataReader,"Transaction.update",o._key,n,t,r):BP(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,c),this}delete(e){const n=Bp(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Bp(e,this._firestore),t=new Vp(this._firestore);return super.get(e).then(r=>new Hd(this._firestore,t,n._key,r._document,new Og(!1,!1),n.converter))}}function $P(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $e("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function CL(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function IL(){if(!function Rk(){return typeof atob<"u"}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){yp=ti.SDK_VERSION,(0,ti._registerComponent)(new ca.wA("firestore",(n,{instanceIdentifier:t,options:r})=>{const o=n.getProvider("app").getImmediate(),c=new Pi(new e4(n.getProvider("auth-internal")),new r4(n.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new $e(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(d.options.projectId,f)}(o,t),o);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,ti.registerVersion)(tx,"3.8.1",i),(0,ti.registerVersion)(tx,"3.8.1","esm2017")}();class vC{constructor(e){this._delegate=e}static fromBase64String(e){return IL(),new vC(su.fromBase64String(e))}static fromUint8Array(e){return CL(),new vC(su.fromUint8Array(e))}toBase64(){return IL(),this._delegate.toBase64()}toUint8Array(){return CL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WP(i){return function WU(i,e){if("object"!=typeof i||null===i)return!1;const n=i;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(i,["next","error","complete"])}class YU{enableIndexedDbPersistence(e,n){return function iU(i,e){tL(i=xn(i,Pi));const n=Sr(i),t=i._freezeSettings(),r=new xP;return eL(n,r,new LN(r,t.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function rU(i){tL(i=xn(i,Pi));const e=Sr(i),n=i._freezeSettings(),t=new xP;return eL(e,t,new BB(t,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function sU(i){if(i._initialized&&!i._terminated)throw new $e(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Er;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(n=(0,Ae.Z)(function*(t){if(!ga.C())return Promise.resolve();const r=t+"main";yield ga.delete(r)}),function(t){return n.apply(this,arguments)})(v3(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class TL{constructor(e,n,t){this._delegate=n,this._persistenceProvider=t,this.INTERNAL={delete:()=>this.terminate()},e instanceof Jl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&xd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,t={}){!function jN(i,e,n,t={}){var r;const o=(i=xn(i,pC))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&xd("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),t.mockUserToken){let c,d;if("string"==typeof t.mockUserToken)c=t.mockUserToken,d=Br.MOCK_USER;else{c=(0,z.Sg)(t.mockUserToken,null===(r=i._app)||void 0===r?void 0:r.options.projectId);const f=t.mockUserToken.sub||t.mockUserToken.user_id;if(!f)throw new $e(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Br(f)}i._authCredentials=new rx(new ix(c,d))}}(this._delegate,e,n,t)}enableNetwork(){return function aU(i){return function $B(i){return i.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield YN(i),n=yield OP(i);return e.setNetworkEnabled(!0),function(t){const r=ct(t);return r._u.delete(0),dC(r)}(n)}))}(Sr(i=xn(i,Pi)))}(this._delegate)}disableNetwork(){return function lU(i){return function WB(i){return i.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield YN(i),n=yield OP(i);return e.setNetworkEnabled(!1),(t=(0,Ae.Z)(function*(r){const o=ct(r);o._u.add(0),yield qv(o),o.gu.set("Offline")}),function(r){return t.apply(this,arguments)})(n);var t}))}(Sr(i=xn(i,Pi)))}(this._delegate)}enablePersistence(e){let n=!1,t=!1;return e&&(n=!!e.synchronizeTabs,t=!!e.experimentalForceOwningTab,FN("synchronizeTabs",n,"experimentalForceOwningTab",t)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,t)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oU(i){return function(e){const n=new Er;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function SB(i,e){return uP.apply(this,arguments)}(yield NP(e),n)})),n.promise}(Sr(i=xn(i,Pi)))}(this._delegate)}onSnapshotsInSync(e){return function FU(i,e){return function QB(i,e){const n=new Gx(e);return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return t=yield Qv(i),r=n,ct(t).Ru.add(r),void r.next();var t,r})),()=>{n.bc(),i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return t=yield Qv(i),r=n,void ct(t).Ru.delete(r);var t,r}))}}(Sr(i=xn(i,Pi)),FP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new e0(this,qN(this._delegate,e))}catch(n){throw Co(n,"collection()","Firestore.collection()")}}doc(e){try{return new al(this,qx(this._delegate,e))}catch(n){throw Co(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Io(this,function UB(i,e){if(i=xn(i,pC),SP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $e(Te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bs(i,null,(n=e,new _a(Tn.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw Co(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function UU(i,e,n){i=xn(i,Pi);const t=Object.assign(Object.assign({},VU),n);return function(r){if(r.maxAttempts<1)throw new $e(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(t),function(r,o,c){const d=new Er;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const f=yield function KN(i){return Zx(i).then(e=>e.datastore)}(r);new GB(r.asyncQueue,f,c,o,d).run()})),d.promise}(Sr(i),r=>e(new BU(i,r)),t)}(this._delegate,n=>e(new EL(this,n)))}batch(){return Sr(this._delegate),new xL(new wL(this._delegate,e=>Xv(this._delegate,e)))}loadBundle(e){return function cU(i,e){const n=Sr(i=xn(i,Pi)),t=new tU;return function JB(i,e,n,t){const r=function(o,c){let d;return d="string"==typeof o?(new TextEncoder).encode(o):o,f=function(f,_){if(f instanceof Uint8Array)return ZN(f,_);if(f instanceof ArrayBuffer)return ZN(new Uint8Array(f),_);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new HB(f,c);var f}(n,uC(e));i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function VB(i,e,n){const t=ct(i);var r;(r=(0,Ae.Z)(function*(o,c,d){try{const f=yield c.getMetadata();if(yield function(M,R){const B=ct(M),K=En(R.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",te=>B.Ns.getBundleMetadata(te,R.id)).then(te=>!!te&&te.createTime.compareTo(K)>=0)}(o.localStore,f))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(M=f).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);d._updateProgress(xN(f));const _=new _B(f,o.localStore,c.yt);let b=yield c.mc();for(;b;){const M=yield _.Fu(b);M&&d._updateProgress(M),b=yield c.mc()}const T=yield _.complete();return yield Bd(o,T.Lu,void 0),yield function(M,R){const B=ct(M);return B.persistence.runTransaction("Save bundle","readwrite",K=>B.Ns.saveBundleMetadata(K,R))}(o.localStore,f),d._completeWith(T.progress),Promise.resolve(T.Bu)}catch(f){return xd("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var M}),function(o,c,d){return r.apply(this,arguments)})(t,e,n).then(r=>{t.sharedClientState.notifyBundleLoaded(r)})}(yield NP(i),r,t)}))}(n,i._databaseId,e,t),t}(this._delegate,e)}namedQuery(e){return function uU(i,e){return function XB(i,e){return i.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(n,t){const r=ct(n);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,t))}(yield $x(i),e)}))}(Sr(i=xn(i,Pi)),e).then(n=>n?new Bs(i,null,n.query):null)}(this._delegate,e).then(n=>n?new Io(this,n):null)}}class rS extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new vC(new su(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return al.forKey(n,this.firestore,null)}}class EL{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new rS(e)}get(e){const n=Lg(e);return this._delegate.get(n).then(t=>new wC(this._firestore,new Hd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,n.converter)))}set(e,n,t){const r=Lg(e);return t?($P("Transaction.set",t),this._delegate.set(r,n,t)):this._delegate.set(r,n),this}update(e,n,t,...r){const o=Lg(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,t,...r),this}delete(e){const n=Lg(e);return this._delegate.delete(n),this}}class xL{constructor(e){this._delegate=e}set(e,n,t){const r=Lg(e);return t?($P("WriteBatch.set",t),this._delegate.set(r,n,t)):this._delegate.set(r,n),this}update(e,n,t,...r){const o=Lg(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,t,...r),this}delete(e){const n=Lg(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ng{constructor(e,n,t){this._firestore=e,this._userDataWriter=n,this._delegate=t}fromFirestore(e,n){const t=new yC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bC(this._firestore,t),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const t=Ng.INSTANCES;let r=t.get(e);r||(r=new WeakMap,t.set(e,r));let o=r.get(n);return o||(o=new Ng(e,new rS(e),n),r.set(n,o)),o}}Ng.INSTANCES=new WeakMap;class al{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new rS(e)}static forPath(e,n,t){if(e.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new al(n,new ki(n._delegate,t,new ot(e)))}static forKey(e,n,t){return new al(n,new ki(n._delegate,t,e))}get id(){return this._delegate.id}get parent(){return new e0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new e0(this.firestore,qN(this._delegate,e))}catch(n){throw Co(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,z.m9)(e))instanceof ki&&GN(this._delegate,e)}set(e,n){n=$P("DocumentReference.set",n);try{return n?_L(this._delegate,e,n):_L(this._delegate,e)}catch(t){throw Co(t,"setDoc()","DocumentReference.set()")}}update(e,n,...t){try{return 1===arguments.length?yL(this._delegate,e):yL(this._delegate,e,n,...t)}catch(r){throw Co(r,"updateDoc()","DocumentReference.update()")}}delete(){return function NU(i){return Xv(xn(i.firestore,Pi),[new Mp(i._key,gi.none())])}(this._delegate)}onSnapshot(...e){const n=SL(e),t=DL(e,r=>new wC(this.firestore,new Hd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return vL(this._delegate,n,t)}get(e){let n;return n="cache"===e?.source?function MU(i){i=xn(i,ki);const e=xn(i.firestore,Pi),n=Sr(e),t=new Vp(e);return function YB(i,e){const n=new Er;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(t=(0,Ae.Z)(function*(r,o,c){try{const d=yield function(f,_){const b=ct(f);return b.persistence.runTransaction("read document","readonly",T=>b.localDocuments.getDocument(T,_))}(r,o);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new $e(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=$v(d,`Failed to get document '${o} from cache`);c.reject(f)}}),function(r,o,c){return t.apply(this,arguments)})(yield $x(i),e,n);var t})),n.promise}(n,i._key).then(r=>new Hd(e,t,i._key,r,new Og(null!==r&&r.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function kU(i){i=xn(i,ki);const e=xn(i.firestore,Pi);return QN(Sr(e),i._key,{source:"server"}).then(n=>ZP(e,i,n))}(this._delegate):function AU(i){i=xn(i,ki);const e=xn(i.firestore,Pi);return QN(Sr(e),i._key).then(n=>ZP(e,i,n))}(this._delegate),n.then(t=>new wC(this.firestore,new Hd(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)))}withConverter(e){return new al(this.firestore,this._delegate.withConverter(e?Ng.getInstance(this.firestore,e):null))}}function Co(i,e,n){return i.message=i.message.replace(e,n),i}function SL(i){for(const e of i)if("object"==typeof e&&!WP(e))return e;return{}}function DL(i,e){var n,t;let r;return r=WP(i[0])?i[0]:WP(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(t=r.complete)||void 0===t?void 0:t.bind(r)}}class wC{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new al(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return gL(this._delegate,e._delegate)}}class bC extends wC{data(e){const n=this._delegate.data(e);return function nx(i,e){i||yt()}(void 0!==n),n}}class Io{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new rS(e)}where(e,n,t){try{return new Io(this.firestore,Lp(this._delegate,function vU(i,e,n){const t=e,r=Xx("where",i);return _C._create(r,t,n)}(e,n,t)))}catch(r){throw Co(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Io(this.firestore,Lp(this._delegate,function wU(i,e="asc"){const n=e,t=Xx("orderBy",i);return qP._create(t,n)}(e,n)))}catch(t){throw Co(t,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Io(this.firestore,Lp(this._delegate,function bU(i){return UN("limit",i),eS._create("limit",i,"F")}(e)))}catch(n){throw Co(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Io(this.firestore,Lp(this._delegate,function CU(i){return UN("limitToLast",i),eS._create("limitToLast",i,"L")}(e)))}catch(n){throw Co(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Io(this.firestore,Lp(this._delegate,function IU(...i){return tS._create("startAt",i,!0)}(...e)))}catch(n){throw Co(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Io(this.firestore,Lp(this._delegate,function TU(...i){return tS._create("startAfter",i,!1)}(...e)))}catch(n){throw Co(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Io(this.firestore,Lp(this._delegate,function EU(...i){return nS._create("endBefore",i,!1)}(...e)))}catch(n){throw Co(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Io(this.firestore,Lp(this._delegate,function xU(...i){return nS._create("endAt",i,!0)}(...e)))}catch(n){throw Co(n,"endAt()","Query.endAt()")}}isEqual(e){return DP(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function RU(i){i=xn(i,Bs);const e=xn(i.firestore,Pi),n=Sr(e),t=new Vp(e);return function KB(i,e){const n=new Er;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(t=(0,Ae.Z)(function*(r,o,c){try{const d=yield Fx(r,o,!0),f=new AN(o,d.Hi),_=f.Wu(d.documents),b=f.applyChanges(_,!1);c.resolve(b.snapshot)}catch(d){const f=$v(d,`Failed to execute query '${o} against cache`);c.reject(f)}}),function(r,o,c){return t.apply(this,arguments)})(yield $x(i),e,n);var t})),n.promise}(n,i._query).then(r=>new Fp(e,t,i,r))}(this._delegate):"server"===e?.source?function OU(i){i=xn(i,Bs);const e=xn(i.firestore,Pi),n=Sr(e),t=new Vp(e);return JN(n,i._query,{source:"server"}).then(r=>new Fp(e,t,i,r))}(this._delegate):function PU(i){i=xn(i,Bs);const e=xn(i.firestore,Pi),n=Sr(e),t=new Vp(e);return cL(i._query),JN(n,i._query).then(r=>new Fp(e,t,i,r))}(this._delegate),n.then(t=>new YP(this.firestore,new Fp(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)))}onSnapshot(...e){const n=SL(e),t=DL(e,r=>new YP(this.firestore,new Fp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return vL(this._delegate,n,t)}withConverter(e){return new Io(this.firestore,this._delegate.withConverter(e?Ng.getInstance(this.firestore,e):null))}}class QU{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new bC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YP{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new bC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new QU(this._firestore,n))}forEach(e,n){this._delegate.forEach(t=>{e.call(n,new bC(this._firestore,t))})}isEqual(e){return gL(this._delegate,e._delegate)}}class e0 extends Io{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new al(this.firestore,e):null}doc(e){try{return new al(this.firestore,void 0===e?qx(this._delegate):qx(this._delegate,e))}catch(n){throw Co(n,"doc()","CollectionReference.doc()")}}add(e){return function LU(i,e){const n=xn(i.firestore,Pi),t=qx(i),r=iS(i.converter,e);return Xv(n,[Kx(Pg(i.firestore),"addDoc",t._key,r,null!==i.converter,{}).toMutation(t._key,gi.exists(!1))]).then(()=>t)}(this._delegate,e).then(n=>new al(this.firestore,n))}isEqual(e){return GN(this._delegate,e._delegate)}withConverter(e){return new e0(this.firestore,this._delegate.withConverter(e?Ng.getInstance(this.firestore,e):null))}}function Lg(i){return xn(i,ki)}class KP{constructor(...e){this._delegate=new Ud(...e)}static documentId(){return new KP(er.keyField().canonicalString())}isEqual(e){return(e=(0,z.m9)(e))instanceof Ud&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function zU(){return new VP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Fg(e)}static delete(){const e=function HU(){return new fC("deleteField")}();return e._methodName="FieldValue.delete",new Fg(e)}static arrayUnion(...e){const n=function jU(...i){return new fU("arrayUnion",i)}(...e);return n._methodName="FieldValue.arrayUnion",new Fg(n)}static arrayRemove(...e){const n=function qU(...i){return new mU("arrayRemove",i)}(...e);return n._methodName="FieldValue.arrayRemove",new Fg(n)}static increment(e){const n=function GU(i){return new gU("increment",i)}(e);return n._methodName="FieldValue.increment",new Fg(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const JU={Firestore:TL,GeoPoint:Wx,Timestamp:fi,Blob:vC,Transaction:EL,WriteBatch:xL,DocumentReference:al,DocumentSnapshot:wC,Query:Io,QueryDocumentSnapshot:bC,QuerySnapshot:YP,CollectionReference:e0,FieldPath:KP,FieldValue:Fg,setLogLevel:function KU(i){!function Tk(i){Kl.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function AL(i,e){return function tH(i,e=Tm.z){return new Os.y(n=>{let t;return null!=e?e.schedule(()=>{t=i.onSnapshot({includeMetadataChanges:!0},n)}):t=i.onSnapshot({includeMetadataChanges:!0},n),()=>{t?.()}})}(i,e)}function QP(i,e){return AL(i,e).pipe((0,zt.U)(n=>({payload:n,type:"query"})))}function sS(i,e){return QP(i,e).pipe(Bw(void 0),Ly(),(0,zt.U)(([n,t])=>{const r=t.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((c,d)=>{const f=r.find(b=>b.doc.ref.isEqual(c.ref)),_=n?.payload.docs.find(b=>b.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),o}))}function ML(i,e,n){return sS(i,n).pipe(sp((t,r)=>function iH(i,e,n){return e.forEach(t=>{n.indexOf(t.type)>-1&&(i=function rH(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return JP(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=i.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return JP(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JP(i,e.oldIndex,1)}return i}(i,t))}),i}(t,r.map(o=>o.payload),e),[]),(0,Uw.x)(),(0,zt.U)(t=>t.map(r=>({type:r.type,payload:r}))))}function JP(i,e,n,...t){const r=i.slice();return r.splice(e,n,...t),r}function kL(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function eH(i){(function XU(i,e){i.INTERNAL.registerComponent(new ca.wA("firestore-compat",n=>{const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(t,r)},"PUBLIC").setServiceProps(Object.assign({},JU)))})(i,(e,n)=>new TL(e,n,new YU)),i.registerVersion("@firebase/firestore-compat","0.3.1")}(Em.Z);class PL{constructor(e,n,t){this.ref=e,this.query=n,this.afs=t}stateChanges(e){let n=sS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,zt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(Bw(void 0),Ly(),to(([t,r])=>r.length>0||!t),(0,zt.U)(([t,r])=>r),In.iC)}auditTrail(e){return this.stateChanges(e).pipe(sp((n,t)=>[...n,...t],[]))}snapshotChanges(e){const n=kL(e);return ML(this.query,n,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return QP(this.query,this.afs.schedulers.outsideAngular).pipe((0,zt.U)(n=>n.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),In.iC)}get(e){return(0,Wn.D)(this.query.get(e)).pipe(In.iC)}add(e){return this.ref.add(e)}doc(e){return new RL(this.ref.doc(e),this.afs)}}class RL{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const t=this.ref.collection(e),{ref:r,query:o}=LL(t,n);return new PL(r,o,this.afs)}snapshotChanges(){return function nH(i,e){return AL(i,e).pipe(Bw(void 0),Ly(),(0,zt.U)(([n,t])=>t.exists?n?.exists?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,zt.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,Wn.D)(this.ref.get(e)).pipe(In.iC)}}class sH{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?sS(this.query,this.afs.schedulers.outsideAngular).pipe((0,zt.U)(n=>n.filter(t=>e.indexOf(t.type)>-1)),to(n=>n.length>0),In.iC):sS(this.query,this.afs.schedulers.outsideAngular).pipe(In.iC)}auditTrail(e){return this.stateChanges(e).pipe(sp((n,t)=>[...n,...t],[]))}snapshotChanges(e){const n=kL(e);return ML(this.query,n,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return QP(this.query,this.afs.schedulers.outsideAngular).pipe((0,zt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),In.iC)}get(e){return(0,Wn.D)(this.query.get(e)).pipe(In.iC)}}const OL=new s.OlP("angularfire2.enableFirestorePersistence"),NL=new s.OlP("angularfire2.firestore.persistenceSettings"),oH=new s.OlP("angularfire2.firestore.settings"),aH=new s.OlP("angularfire2.firestore.use-emulator");function LL(i,e=(n=>n)){return{query:e(i),ref:i}}let XP=(()=>{class i{constructor(n,t,r,o,c,d,f,_,b,T,M,R,B,K,te,_e,Ne){this.schedulers=f;const Ue=(0,Cr.on)(n,d,t),Oe=b;T&&rw(Ue,d,M,B,K,te,R,_e),[this.firestore,this.persistenceEnabled$]=(0,Cr.cc)(`${Ue.name}.firestore`,"AngularFirestore",Ue.name,()=>{const it=d.runOutsideAngular(()=>Ue.firestore());if(o&&it.settings(o),Oe&&it.useEmulator(...Oe),r&&!Ts(c)){const pt=()=>{try{return(0,Wn.D)(it.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(Ot){return typeof console<"u"&&console.warn(Ot),(0,kt.of)(!1)}};return[it,d.runOutsideAngular(pt)]}return[it,(0,kt.of)(!1)]},[o,Oe,r])}collection(n,t){let r;r="string"==typeof n?this.firestore.collection(n):n;const{ref:o,query:c}=LL(r,t),d=this.schedulers.ngZone.run(()=>o);return new PL(d,c,this)}collectionGroup(n,t){const r=t||(c=>c),o=this.firestore.collectionGroup(n);return new sH(r(o),this)}doc(n){let t;t="string"==typeof n?this.firestore.doc(n):n;const r=this.schedulers.ngZone.run(()=>t);return new RL(r,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(n){return new(n||i)(s.LFG(Cr.Dh),s.LFG(Cr.xv,8),s.LFG(OL,8),s.LFG(oH,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(In.HU),s.LFG(NL,8),s.LFG(aH,8),s.LFG(Iy,8),s.LFG(tw,8),s.LFG(cE,8),s.LFG(uE,8),s.LFG(nw,8),s.LFG(iw,8),s.LFG(dE,8),s.LFG(Ja,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),lH=(()=>{class i{constructor(){Im.Z.registerVersion("angularfire",In.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:i,providers:[{provide:OL,useValue:!0},{provide:NL,useValue:n}]}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[XP]}),i})();var FL=U(2420);const VL="@firebase/database";let e6="";function UL(i){e6=i}class dH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,z.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,z.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class hH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,z.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const HL=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new dH(e)}}catch{}return new hH},Vg=HL("localStorage"),t6=HL("sessionStorage"),t0=new Ka.Yd("@firebase/database"),zL=function(){let i=1;return function(){return i++}}(),jL=function(i){const e=(0,z.dS)(i),n=new z.gQ;n.update(e);const t=n.digest();return z.US.encodeByteArray(t)},CC=function(...i){let e="";for(let n=0;n<i.length;n++){const t=i[n];Array.isArray(t)||t&&"object"==typeof t&&"number"==typeof t.length?e+=CC.apply(null,t):e+="object"==typeof t?(0,z.Wl)(t):t,e+=" "}return e};let Bg=null,qL=!0;const GL=function(i,e){(0,z.hu)(!e||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(t0.logLevel=Ka.in.VERBOSE,Bg=t0.log.bind(t0),e&&t6.set("logging_enabled",!0)):"function"==typeof i?Bg=i:(Bg=null,t6.remove("logging_enabled"))},ws=function(...i){if(!0===qL&&(qL=!1,null===Bg&&!0===t6.get("logging_enabled")&&GL(!0)),Bg){const e=CC.apply(null,i);Bg(e)}},IC=function(i){return function(...e){ws(i,...e)}},n6=function(...i){const e="FIREBASE INTERNAL ERROR: "+CC(...i);t0.error(e)},ou=function(...i){const e=`FIREBASE FATAL ERROR: ${CC(...i)}`;throw t0.error(e),new Error(e)},io=function(...i){const e="FIREBASE WARNING: "+CC(...i);t0.warn(e)},oS=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Up="[MIN_NAME]",zd="[MAX_NAME]",Ug=function(i,e){if(i===e)return 0;if(i===Up||e===zd)return-1;if(e===Up||i===zd)return 1;{const n=WL(i),t=WL(e);return null!==n?null!==t?n-t==0?i.length-e.length:n-t:-1:null!==t?1:i<e?-1:1}},mH=function(i,e){return i===e?0:i<e?-1:1},TC=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+(0,z.Wl)(e))},r6=function(i){if("object"!=typeof i||null===i)return(0,z.Wl)(i);const e=[];for(const t in i)e.push(t);e.sort();let n="{";for(let t=0;t<e.length;t++)0!==t&&(n+=","),n+=(0,z.Wl)(e[t]),n+=":",n+=r6(i[e[t]]);return n+="}",n},ZL=function(i,e){const n=i.length;if(n<=e)return[i];const t=[];for(let r=0;r<n;r+=e)t.push(i.substring(r,r+e>n?n:r+e));return t};function bs(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const $L=function(i){(0,z.hu)(!oS(i),"Invalid JSON number");const t=1023;let r,o,c,d,f;0===i?(o=0,c=0,r=1/i==-1/0?1:0):(r=i<0,(i=Math.abs(i))>=Math.pow(2,1-t)?(d=Math.min(Math.floor(Math.log(i)/Math.LN2),t),o=d+t,c=Math.round(i*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,c=Math.round(i/Math.pow(2,-1074))));const _=[];for(f=52;f;f-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)_.push(o%2?1:0),o=Math.floor(o/2);_.push(r?1:0),_.reverse();const b=_.join("");let T="";for(f=0;f<64;f+=8){let M=parseInt(b.substr(f,8),2).toString(16);1===M.length&&(M="0"+M),T+=M}return T.toLowerCase()},vH=new RegExp("^-?(0*)\\d{1,10}$"),WL=function(i){if(vH.test(i)){const e=Number(i);if(e>=-2147483648&&e<=2147483647)return e}return null},n0=function(i){try{i()}catch(e){setTimeout(()=>{throw io("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},EC=function(i,e){const n=setTimeout(i,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class IH{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(t=>this.appCheck=t)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,t)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,t):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){io(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class TH{constructor(e,n,t){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(ws("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,t)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,t):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',io(e)}}let xC=(()=>{class i{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const XL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,n5="websocket",r5="long_polling";class o6{constructor(e,n,t,r,o=!1,c="",d=!1){this.secure=n,this.namespace=t,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function s5(i,e,n){let t;if((0,z.hu)("string"==typeof e,"typeof type must == string"),(0,z.hu)("object"==typeof n,"typeof params must == object"),e===n5)t=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(e!==r5)throw new Error("Unknown connection type: "+e);t=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function EH(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(n.ns=i.namespace);const r=[];return bs(n,(o,c)=>{r.push(o+"="+c)}),t+r.join("&")}class xH{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,z.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,z.p$)(this.counters_)}}const a6={},l6={};function c6(i){const e=i.toString();return a6[e]||(a6[e]=new xH),a6[e]}class DH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const t=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<t.length;++r)t[r]&&n0(()=>{this.onMessage_(t[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Hp{constructor(e,n,t,r,o,c,d){this.connId=e,this.repoInfo=n,this.applicationId=t,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=IC(e),this.stats_=c6(n),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),s5(n,r5,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new DH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,z.Yr)()||"complete"===document.readyState)i();else{let e=!1;const n=function(){document.body?e||(e=!0,i()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new u6((...o)=>{const[c,d,f,_,b]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const t={start:"t"};t.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=this.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",this.transportSessionId&&(t.s=this.transportSessionId),this.lastSessionId&&(t.ls=this.lastSessionId),this.applicationId&&(t.p=this.applicationId),this.appCheckToken&&(t.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&XL.test(location.hostname)&&(t.r="f");const r=this.urlFn(t);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hp.forceAllow_=!0}static forceDisallow(){Hp.forceDisallow_=!0}static isAvailable(){return!((0,z.Yr)()||!Hp.forceAllow_&&(Hp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,z.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const t=(0,z.h$)(n),r=ZL(t,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,z.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const t={dframe:"t"};t.id=e,t.pw=n,this.myDisconnFrame.src=this.urlFn(t),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,z.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class u6{constructor(e,n,t,r){if(this.onDisconnect=t,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,z.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=zL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=u6.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){ws("frame writing exception"),d.stack&&ws(d.stack),ws(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ws("No IE domain setting required")}catch{const t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),t="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+t.length<=1870;){const c=this.pendingSegs.shift();t=t+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return n+=t,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,t){this.pendingSegs.push({seg:e,ts:n,d:t}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const t=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(t,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),t()})}addTag(e,n){(0,z.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const t=this.myIFrame.doc.createElement("script");t.type="text/javascript",t.async=!0,t.src=e,t.onload=t.onreadystatechange=function(){const r=t.readyState;(!r||"loaded"===r||"complete"===r)&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),n())},t.onerror=()=>{ws("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(t)}catch{}},Math.floor(1))}}let lS=null;typeof MozWebSocket<"u"?lS=MozWebSocket:typeof WebSocket<"u"&&(lS=WebSocket);let r0=(()=>{class i{constructor(n,t,r,o,c,d,f){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=IC(this.connId),this.stats_=c6(t),this.connURL=i.connectionURL_(t,d,f,o,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(n,t,r,o,c){const d={v:"5"};return!(0,z.Yr)()&&typeof location<"u"&&location.hostname&&XL.test(location.hostname)&&(d.r="f"),t&&(d.s=t),r&&(d.ls=r),o&&(d.ac=o),c&&(d.p=c),s5(n,n5,d)}open(n,t){this.onDisconnect=t,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vg.set("previous_websocket_failure",!0);try{let r;if((0,z.Yr)()){r={headers:{"User-Agent":`Firebase/5/${e6}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new lS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&null!==lS&&!i.forceDisallow_}static previouslyFailed(){return Vg.isInMemoryStorage||!0===Vg.get("previous_websocket_failure")}markConnectionHealthy(){Vg.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=(0,z.cI)(t);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,z.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const t=Number(n);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const t=n.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);null!==r&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const t=(0,z.Wl)(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=ZL(t,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),h5=(()=>{class i{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Hp,r0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const t=r0&&r0.isAvailable();let r=t&&!r0.previouslyFailed();if(n.webSocketOnly&&(t||io("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[r0];else{const o=this.transports_=[];for(const c of i.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class v5{constructor(e,n,t,r,o,c,d,f,_,b){this.id=e,this.repoInfo_=n,this.applicationId_=t,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=f,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=IC("c:"+this.id+":"),this.transportManager_=new h5(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),t=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,t)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=EC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=TC("t",e),t=TC("d",e);if("c"===n)this.onSecondaryControl_(t);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(t)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=TC("t",e),t=TC("d",e);"c"===n?this.onControl_(t):"d"===n&&this.onDataMessage_(t)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=TC("t",e);if("d"in e){const t=e.d;if("h"===n)this.onHandshake_(t);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(t):"r"===n?this.onReset_(t):"e"===n?n6("Server Error: "+t):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):n6("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,t=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==t&&io("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),t=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,t),EC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):EC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class w5{put(e,n,t,r){}merge(e,n,t,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,t){}onDisconnectMerge(e,n,t){}onDisconnectCancel(e,n){}reportStats(e){}}class b5{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,z.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const t=[...this.listeners_[e]];for(let r=0;r<t.length;r++)t[r].callback.apply(t[r].context,n)}}on(e,n,t){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:t});const r=this.getInitialEvent(e);r&&n.apply(t,r)}off(e,n,t){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!t||t===r[o].context))return void r.splice(o,1)}validateEventType_(e){(0,z.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class cS extends b5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,z.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new cS}getInitialEvent(e){return(0,z.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Yn{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let t=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[t]=this.pieces_[r],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ln(){return new Yn("")}function gn(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function zp(i){return i.pieces_.length-i.pieceNum_}function _i(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Yn(i.pieces_,e)}function h6(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function SC(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function T5(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new Yn(e,0)}function Gi(i,e){const n=[];for(let t=i.pieceNum_;t<i.pieces_.length;t++)n.push(i.pieces_[t]);if(e instanceof Yn)for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);else{const t=e.split("/");for(let r=0;r<t.length;r++)t[r].length>0&&n.push(t[r])}return new Yn(n,0)}function _n(i){return i.pieceNum_>=i.pieces_.length}function To(i,e){const n=gn(i),t=gn(e);if(null===n)return e;if(n===t)return To(_i(i),_i(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function KH(i,e){const n=SC(i,0),t=SC(e,0);for(let r=0;r<n.length&&r<t.length;r++){const o=Ug(n[r],t[r]);if(0!==o)return o}return n.length===t.length?0:n.length<t.length?-1:1}function p6(i,e){if(zp(i)!==zp(e))return!1;for(let n=i.pieceNum_,t=e.pieceNum_;n<=i.pieces_.length;n++,t++)if(i.pieces_[n]!==e.pieces_[t])return!1;return!0}function ll(i,e){let n=i.pieceNum_,t=e.pieceNum_;if(zp(i)>zp(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[t])return!1;++n,++t}return!0}class QH{constructor(e,n){this.errorPrefix_=n,this.parts_=SC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let t=0;t<this.parts_.length;t++)this.byteLength_+=(0,z.ug)(this.parts_[t]);E5(this)}}function E5(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Hg(i))}function Hg(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class f6 extends b5{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new f6}getInitialEvent(e){return(0,z.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const DC=1e3;let dS,zg=(()=>{class i extends w5{constructor(n,t,r,o,c,d,f,_){if(super(),this.repoInfo_=n,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=_,this.id=i.nextPersistentConnectionId_++,this.log_=IC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=DC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,z.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");f6.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&cS.getInstance().on("online",this.onOnline_,this)}sendRequest(n,t,r){const o=++this.requestNumber_,c={r:o,a:n,b:t};this.log_((0,z.Wl)(c)),(0,z.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();const t=new z.BH,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:d=>{const f=d.d;"ok"===d.s?t.resolve(f):t.reject(f)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),t.promise}listen(n,t,r,o){this.initConnection_();const c=n._queryIdentifier,d=n._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,z.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,z.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:t,query:n,tag:r};this.listens.get(d).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(n){const t=this.outstandingGets_[n];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(n){const t=n.query,r=t._path.toString(),o=t._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};n.tag&&(c.q=t._queryObject,c.t=n.tag),c.h=n.hashFn(),this.sendRequest("q",c,f=>{const _=f.d,b=f.s;i.warnOnListenWarnings_(_,t),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",f),"ok"!==b&&this.removeListen_(r,o),n.onComplete&&n.onComplete(b,_))})}static warnOnListenWarnings_(n,t){if(n&&"object"==typeof n&&(0,z.r3)(n,"w")){const r=(0,z.DV)(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+t._queryParams.getIndex().toString()+'"',c=t._path.toString();io(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,z.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,t=(0,z.w9)(n)?"auth":"gauth",r={cred:n};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(t,r,o=>{const c=o.s,d=o.d||"error";this.authToken_===n&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const t=n.s,r=n.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(n,t){const r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,z.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,t)}sendUnlisten_(n,t,r,o){this.log_("Unlisten on "+n+" for "+t);const c={p:n};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(n,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,t,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:t,onComplete:r})}onDisconnectMerge(n,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,t,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:t,onComplete:r})}onDisconnectCancel(n,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,t):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(n,t,r,o){const c={p:t,d:r};this.log_("onDisconnect "+n,c),this.sendRequest(n,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(n,t,r,o){this.putInternal("p",n,t,r,o)}merge(n,t,r,o){this.putInternal("m",n,t,r,o)}putInternal(n,t,r,o,c){this.initConnection_();const d={p:t,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:n,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)}sendPut_(n){const t=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(t,r,c=>{this.log_(t+" response",c),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(n){if(this.connected_){const t={c:n};this.log_("reportStats",t),this.sendRequest("s",t,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,z.Wl)(n));const t=n.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,t){this.log_("handleServerMessage",n,t),"d"===n?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===n?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===n?this.onListenRevoked_(t.p,t.q):"ac"===n?this.onAuthRevoked_(t.s,t.d):"apc"===n?this.onAppCheckRevoked_(t.s,t.d):"sd"===n?this.onSecurityDebugPacket_(t):n6("Unrecognized action received from server: "+(0,z.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,z.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=DC,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=DC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=DC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-n);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,Ae.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const t=n.onDataMessage_.bind(n),r=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),c=n.id+":"+i.nextConnectionId_++,d=n.lastSessionId;let f=!1,_=null;const b=function(){_?_.close():(f=!0,o())};n.realtime_={close:b,sendRequest:function(R){(0,z.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(R)}};const M=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[R,B]=yield Promise.all([n.authTokenProvider_.getToken(M),n.appCheckTokenProvider_.getToken(M)]);f?ws("getToken() completed but was canceled"):(ws("getToken() completed. Creating connection."),n.authToken_=R&&R.accessToken,n.appCheckToken_=B&&B.token,_=new v5(c,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,t,r,o,K=>{io(K+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},d))}catch(R){n.log_("Failed to get token: "+R),f||(n.repoInfo_.nodeAdmin&&io(R),b())}}})()}interrupt(n){ws("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ws("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,z.xb)(this.interruptReasons_)&&(this.reconnectDelay_=DC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const t=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const t=this.outstandingPuts_[n];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,t){let r;r=t?t.map(c=>r6(c)).join("$"):"default";const o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,t){const r=new Yn(n).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(t),c.delete(t),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,t){ws("Auth token revoked: "+n+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,t){ws("App check token revoked: "+n+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const t of n.values())this.sendListen_(t);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let t="js";(0,z.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+t+"."+e6.replace(/\./g,"-")]=1,(0,z.uI)()?n["framework.cordova"]=1:(0,z.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=cS.getInstance().currentlyOnline();return(0,z.xb)(this.interruptReasons_)&&n}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class yn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new yn(e,n)}}class uS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const t=new yn(Up,e),r=new yn(Up,n);return 0!==this.compare(t,r)}minPost(){return yn.MIN}}class D5 extends uS{static get __EMPTY_NODE(){return dS}static set __EMPTY_NODE(e){dS=e}compare(e,n){return Ug(e.name,n.name)}isDefinedOn(e){throw(0,z.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return yn.MIN}maxPost(){return new yn(zd,dS)}makePost(e,n){return(0,z.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new yn(e,dS)}toString(){return".key"}}const au=new D5;class hS{constructor(e,n,t,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=n?t(e.key,n):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let g6,tc=(()=>{class i{constructor(n,t,r,o,c){this.key=n,this.value=t,this.color=r??i.RED,this.left=o??$o.EMPTY_NODE,this.right=c??$o.EMPTY_NODE}copy(n,t,r,o,c){return new i(n??this.key,t??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,t,r){let o=this;const c=r(n,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(n,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(n,t,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return $o.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,t){let r,o;if(r=this,t(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===t(n,r.key)){if(r.right.isEmpty())return $o.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,t)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class $o{constructor(e,n=$o.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new $o(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,tc.BLACK,null,null))}remove(e){return new $o(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tc.BLACK,null,null))}get(e){let n,t=this.root_;for(;!t.isEmpty();){if(n=this.comparator_(e,t.key),0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}getPredecessorKey(e){let n,t=this.root_,r=null;for(;!t.isEmpty();){if(n=this.comparator_(e,t.key),0===n){if(t.left.isEmpty())return r?r.key:null;for(t=t.left;!t.right.isEmpty();)t=t.right;return t.key}n<0?t=t.left:n>0&&(r=t,t=t.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new hS(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new hS(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new hS(this.root_,null,this.comparator_,!0,e)}}function sz(i,e){return Ug(i.name,e.name)}function m6(i,e){return Ug(i,e)}$o.EMPTY_NODE=new class rz{copy(e,n,t,r,o){return this}insert(e,n,t){return new tc(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const A5=function(i){return"number"==typeof i?"number:"+$L(i):"string:"+i},M5=function(i){if(i.isLeafNode()){const e=i.val();(0,z.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,z.r3)(e,".sv"),"Priority must be a string or number.")}else(0,z.hu)(i===g6||i.isEmpty(),"priority of unexpected type.");(0,z.hu)(i===g6||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let k5,P5,R5,s0=(()=>{class i{constructor(n,t=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=t,this.lazyHash_=null,(0,z.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),M5(this.priorityNode_)}static set __childrenNodeConstructor(n){k5=n}static get __childrenNodeConstructor(){return k5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new i(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return _n(n)?this:".priority"===gn(n)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,t){return null}updateImmediateChild(n,t){return".priority"===n?this.updatePriority(t):t.isEmpty()&&".priority"!==n?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,t).updatePriority(this.priorityNode_)}updateChild(n,t){const r=gn(n);return null===r?t:t.isEmpty()&&".priority"!==r?this:((0,z.hu)(".priority"!==r||1===zp(n),".priority must be the last token in a path"),this.updateImmediateChild(r,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(_i(n),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,t){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+A5(this.priorityNode_.val())+":");const t=typeof this.value_;n+=t+":",n+="number"===t?$L(this.value_):this.value_,this.lazyHash_=jL(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===i.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof i.__childrenNodeConstructor?-1:((0,z.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const t=typeof n.value_,r=typeof this.value_,o=i.VALUE_TYPE_ORDER.indexOf(t),c=i.VALUE_TYPE_ORDER.indexOf(r);return(0,z.hu)(o>=0,"Unknown leaf type: "+t),(0,z.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const Ti=new class cz extends uS{compare(e,n){const t=e.node.getPriority(),r=n.node.getPriority(),o=t.compareTo(r);return 0===o?Ug(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return yn.MIN}maxPost(){return new yn(zd,new s0("[PRIORITY-POST]",R5))}makePost(e,n){const t=P5(e);return new yn(n,new s0("[PRIORITY-POST]",t))}toString(){return".priority"}},uz=Math.log(2);class dz{constructor(e){this.count=parseInt(Math.log(e+1)/uz,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pS=function(i,e,n,t){i.sort(e);const r=function(f,_){const b=_-f;let T,M;if(0===b)return null;if(1===b)return T=i[f],M=n?n(T):T,new tc(M,T.node,tc.BLACK,null,null);{const R=parseInt(b/2,10)+f,B=r(f,R),K=r(R+1,_);return T=i[R],M=n?n(T):T,new tc(M,T.node,tc.BLACK,B,K)}},d=function(f){let _=null,b=null,T=i.length;const M=function(B,K){const te=T-B,_e=T;T-=B;const Ne=r(te+1,_e),Ue=i[te],Oe=n?n(Ue):Ue;R(new tc(Oe,Ue.node,K,null,Ne))},R=function(B){_?(_.left=B,_=B):(b=B,_=B)};for(let B=0;B<f.count;++B){const K=f.nextBitIsOne(),te=Math.pow(2,f.count-(B+1));K?M(te,tc.BLACK):(M(te,tc.BLACK),M(te,tc.RED))}return b}(new dz(i.length));return new $o(t||e,d)};let _6;const o0={};class jd{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,z.hu)(o0&&Ti,"ChildrenNode.ts has not been loaded"),_6=_6||new jd({".priority":o0},{".priority":Ti}),_6}get(e){const n=(0,z.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $o?n:null}hasIndex(e){return(0,z.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,z.hu)(e!==au,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const t=[];let r=!1;const o=n.getIterator(yn.Wrap);let d,c=o.getNext();for(;c;)r=r||e.isDefinedOn(c.node),t.push(c),c=o.getNext();d=r?pS(t,e.getCompare()):o0;const f=e.toString(),_=Object.assign({},this.indexSet_);_[f]=e;const b=Object.assign({},this.indexes_);return b[f]=d,new jd(b,_)}addToIndexes(e,n){const t=(0,z.UI)(this.indexes_,(r,o)=>{const c=(0,z.DV)(this.indexSet_,o);if((0,z.hu)(c,"Missing index implementation for "+o),r===o0){if(c.isDefinedOn(e.node)){const d=[],f=n.getIterator(yn.Wrap);let _=f.getNext();for(;_;)_.name!==e.name&&d.push(_),_=f.getNext();return d.push(e),pS(d,c.getCompare())}return o0}{const d=n.get(e.name);let f=r;return d&&(f=f.remove(new yn(e.name,d))),f.insert(e,e.node)}});return new jd(t,this.indexSet_)}removeFromIndexes(e,n){const t=(0,z.UI)(this.indexes_,r=>{if(r===o0)return r;{const o=n.get(e.name);return o?r.remove(new yn(e.name,o)):r}});return new jd(t,this.indexSet_)}}let AC,an=(()=>{class i{constructor(n,t,r){this.children_=n,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&M5(this.priorityNode_),this.children_.isEmpty()&&(0,z.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return AC||(AC=new i(new $o(m6),null,jd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||AC}updatePriority(n){return this.children_.isEmpty()?this:new i(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const t=this.children_.get(n);return null===t?AC:t}}getChild(n){const t=gn(n);return null===t?this:this.getImmediateChild(t).getChild(_i(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,t){if((0,z.hu)(t,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(t);{const r=new yn(n,t);let o,c;t.isEmpty()?(o=this.children_.remove(n),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,t),c=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?AC:this.priorityNode_;return new i(o,d,c)}}updateChild(n,t){const r=gn(n);if(null===r)return t;{(0,z.hu)(".priority"!==gn(n)||1===zp(n),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(_i(n),t);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const t={};let r=0,o=0,c=!0;if(this.forEachChild(Ti,(d,f)=>{t[d]=f.val(n),r++,c&&i.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!n&&c&&o<2*r){const d=[];for(const f in t)d[f]=t[f];return d}return n&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+A5(this.getPriority().val())+":"),this.forEachChild(Ti,(t,r)=>{const o=r.hash();""!==o&&(n+=":"+t+":"+o)}),this.lazyHash_=""===n?"":jL(n)}return this.lazyHash_}getPredecessorChildName(n,t,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new yn(n,t));return c?c.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const t=this.resolveIndex_(n);if(t){const r=t.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(n){const t=this.getFirstChildName(n);return t?new yn(t,this.children_.get(t)):null}getLastChildName(n){const t=this.resolveIndex_(n);if(t){const r=t.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(n){const t=this.getLastChildName(n);return t?new yn(t,this.children_.get(t)):null}forEachChild(n,t){const r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>t(o.name,o.node)):this.children_.inorderTraversal(t)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,yn.Wrap);let c=o.peek();for(;null!=c&&t.compare(c,n)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,yn.Wrap);let c=o.peek();for(;null!=c&&t.compare(c,n)>0;)o.getNext(),c=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===MC?-1:0}withIndex(n){if(n===au||this.indexMap_.hasIndex(n))return this;{const t=this.indexMap_.addIndex(n,this.children_);return new i(this.children_,this.priorityNode_,t)}}isIndexed(n){return n===au||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const t=n;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const r=this.getIterator(Ti),o=t.getIterator(Ti);let c=r.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=o.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(n){return n===au?null:this.indexMap_.get(n.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const MC=new class hz extends an{constructor(){super(new $o(m6),an.EMPTY_NODE,jd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return an.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(yn,{MIN:{value:new yn(Up,an.EMPTY_NODE)},MAX:{value:new yn(zd,MC)}}),D5.__EMPTY_NODE=an.EMPTY_NODE,s0.__childrenNodeConstructor=an,function oz(i){g6=i}(MC),function lz(i){R5=i}(MC);const pz=!0;function nr(i,e=null){if(null===i)return an.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(e=i[".priority"]),(0,z.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new s0(i,nr(e));if(i instanceof Array||!pz){let n=an.EMPTY_NODE;return bs(i,(t,r)=>{if((0,z.r3)(i,t)&&"."!==t.substring(0,1)){const o=nr(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(t,o))}}),n.updatePriority(nr(e))}{const n=[];let t=!1;if(bs(i,(c,d)=>{if("."!==c.substring(0,1)){const f=nr(d);f.isEmpty()||(t=t||!f.getPriority().isEmpty(),n.push(new yn(c,f)))}}),0===n.length)return an.EMPTY_NODE;const o=pS(n,sz,c=>c.name,m6);if(t){const c=pS(n,Ti.getCompare());return new an(o,nr(e),new jd({".priority":c},{".priority":Ti}))}return new an(o,nr(e),jd.Default)}}!function az(i){P5=i}(nr);class y6 extends uS{constructor(e){super(),this.indexPath_=e,(0,z.hu)(!_n(e)&&".priority"!==gn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const t=this.extractChild(e.node),r=this.extractChild(n.node),o=t.compareTo(r);return 0===o?Ug(e.name,n.name):o}makePost(e,n){const t=nr(e),r=an.EMPTY_NODE.updateChild(this.indexPath_,t);return new yn(n,r)}maxPost(){const e=an.EMPTY_NODE.updateChild(this.indexPath_,MC);return new yn(zd,e)}toString(){return SC(this.indexPath_,0).join("/")}}const v6=new class fz extends uS{compare(e,n){const t=e.node.compareTo(n.node);return 0===t?Ug(e.name,n.name):t}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return yn.MIN}maxPost(){return yn.MAX}makePost(e,n){const t=nr(e);return new yn(n,t)}toString(){return".value"}};function O5(i){return{type:"value",snapshotNode:i}}function a0(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function kC(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function PC(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}class w6{constructor(e){this.index_=e}updateChild(e,n,t,r,o,c){(0,z.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(r).equals(t.getChild(r))&&d.isEmpty()===t.isEmpty()||(null!=c&&(t.isEmpty()?e.hasChild(n)?c.trackChildChange(kC(n,d)):(0,z.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(a0(n,t)):c.trackChildChange(PC(n,t,d))),e.isLeafNode()&&t.isEmpty())?e:e.updateImmediateChild(n,t).withIndex(this.index_)}updateFullNode(e,n,t){return null!=t&&(e.isLeafNode()||e.forEachChild(Ti,(r,o)=>{n.hasChild(r)||t.trackChildChange(kC(r,o))}),n.isLeafNode()||n.forEachChild(Ti,(r,o)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(o)||t.trackChildChange(PC(r,o,c))}else t.trackChildChange(a0(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?an.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class RC{constructor(e){this.indexedFilter_=new w6(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RC.getStartPost_(e),this.endPost_=RC.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,t=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&t}updateChild(e,n,t,r,o,c){return this.matches(new yn(n,t))||(t=an.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,t,r,o,c)}updateFullNode(e,n,t){n.isLeafNode()&&(n=an.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(an.EMPTY_NODE);const o=this;return n.forEachChild(Ti,(c,d)=>{o.matches(new yn(c,d))||(r=r.updateImmediateChild(c,an.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,t)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class gz{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=n=>{const t=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new RC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,t,r,o,c){return this.rangedFilter_.matches(new yn(n,t))||(t=an.EMPTY_NODE),e.getImmediateChild(n).equals(t)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,t,r,o,c):this.fullLimitUpdateChild_(e,n,t,o,c)}updateFullNode(e,n,t){let r;if(n.isLeafNode()||n.isEmpty())r=an.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;r=an.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const d=o.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;r=r.updateImmediateChild(d.name,d.node),c++}}}else{let o;r=n.withIndex(this.index_),r=r.updatePriority(an.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;o.hasNext();){const d=o.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:r=r.updateImmediateChild(d.name,an.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,t)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,t,r,o){let c;if(this.reverse_){const T=this.index_.getCompare();c=(M,R)=>T(R,M)}else c=this.index_.getCompare();const d=e;(0,z.hu)(d.numChildren()===this.limit_,"");const f=new yn(n,t),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(f);if(d.hasChild(n)){const T=d.getImmediateChild(n);let M=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=M&&(M.name===n||d.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const R=null==M?1:c(M,f);if(b&&!t.isEmpty()&&R>=0)return o?.trackChildChange(PC(n,t,T)),d.updateImmediateChild(n,t);{o?.trackChildChange(kC(n,T));const K=d.updateImmediateChild(n,an.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(o?.trackChildChange(a0(M.name,M.node)),K.updateImmediateChild(M.name,M.node)):K}}return t.isEmpty()?e:b&&c(_,f)>=0?(null!=o&&(o.trackChildChange(kC(_.name,_.node)),o.trackChildChange(a0(n,t))),d.updateImmediateChild(n,t).updateImmediateChild(_.name,an.EMPTY_NODE)):e}}class fS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ti}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,z.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,z.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Up}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,z.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,z.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,z.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ti}copy(){const e=new fS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function b6(i,e,n){const t=i.copy();return t.startSet_=!0,void 0===e&&(e=null),t.indexStartValue_=e,null!=n?(t.startNameSet_=!0,t.indexStartName_=n):(t.startNameSet_=!1,t.indexStartName_=""),t}function C6(i,e,n){const t=i.copy();return t.endSet_=!0,void 0===e&&(e=null),t.indexEndValue_=e,void 0!==n?(t.endNameSet_=!0,t.indexEndName_=n):(t.endNameSet_=!1,t.indexEndName_=""),t}function mS(i,e){const n=i.copy();return n.index_=e,n}function N5(i){const e={};if(i.isDefault())return e;let n;if(i.index_===Ti?n="$priority":i.index_===v6?n="$value":i.index_===au?n="$key":((0,z.hu)(i.index_ instanceof y6,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=(0,z.Wl)(n),i.startSet_){const t=i.startAfterSet_?"startAfter":"startAt";e[t]=(0,z.Wl)(i.indexStartValue_),i.startNameSet_&&(e[t]+=","+(0,z.Wl)(i.indexStartName_))}if(i.endSet_){const t=i.endBeforeSet_?"endBefore":"endAt";e[t]=(0,z.Wl)(i.indexEndValue_),i.endNameSet_&&(e[t]+=","+(0,z.Wl)(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function L5(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;""===n&&(n=i.isViewFromLeft()?"l":"r"),e.vf=n}return i.index_!==Ti&&(e.i=i.index_.toString()),e}class gS extends w5{constructor(e,n,t,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=t,this.appCheckTokenProvider_=r,this.log_=IC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,z.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,t,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=gS.getListenId_(e,t),d={};this.listens_[c]=d;const f=N5(e._queryParams);this.restRequest_(o+".json",f,(_,b)=>{let T=b;if(404===_&&(T=null,_=null),null===_&&this.onDataUpdate_(o,T,!1,t),(0,z.DV)(this.listens_,c)===d){let M;M=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(M,null)}})}unlisten(e,n){const t=gS.getListenId_(e,n);delete this.listens_[t]}get(e){const n=N5(e._queryParams),t=e._path.toString(),r=new z.BH;return this.restRequest_(t+".json",n,(o,c)=>{let d=c;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(t,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},t){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,z.xO)(n);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(t&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,z.cI)(d.responseText)}catch{io("Failed to parse JSON response for "+c+": "+d.responseText)}t(null,f)}else 401!==d.status&&404!==d.status&&io("Got unsuccessful REST response for "+c+" Status: "+d.status),t(d.status);t=null}},d.open("GET",c,!0),d.send()})}}class Cz{constructor(){this.rootNode_=an.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function _S(){return{value:null,children:new Map}}function l0(i,e,n){if(_n(e))i.value=n,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(e,n);else{const t=gn(e);i.children.has(t)||i.children.set(t,_S()),l0(i.children.get(t),e=_i(e),n)}}function I6(i,e){if(_n(e))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const n=i.value;return i.value=null,n.forEachChild(Ti,(t,r)=>{l0(i,new Yn(t),r)}),I6(i,e)}}if(i.children.size>0){const n=gn(e);return e=_i(e),i.children.has(n)&&I6(i.children.get(n),e)&&i.children.delete(n),0===i.children.size}return!0}function T6(i,e,n){null!==i.value?n(e,i.value):function Iz(i,e){i.children.forEach((n,t)=>{e(t,n)})}(i,(t,r)=>{T6(r,new Yn(e.toString()+"/"+t),n)})}class Tz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&bs(this.last_,(t,r)=>{n[t]=n[t]-r}),this.last_=e,n}}class Sz{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Tz(e);const t=1e4+2e4*Math.random();EC(this.reportStats_.bind(this),Math.floor(t))}reportStats_(){const e=this.statsListener_.get(),n={};let t=!1;bs(e,(r,o)=>{o>0&&(0,z.r3)(this.statsToReport_,r)&&(n[r]=o,t=!0)}),t&&this.server_.reportStats(n),EC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var lu=function(i){return i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",i}(lu||{});function S6(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class yS{constructor(e,n,t){this.path=e,this.affectedTree=n,this.revert=t,this.type=lu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(_n(this.path)){if(null!=this.affectedTree.value)return(0,z.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Yn(e));return new yS(Ln(),n,this.revert)}}return(0,z.hu)(gn(this.path)===e,"operationForChild called for unrelated child."),new yS(_i(this.path),this.affectedTree,this.revert)}}class OC{constructor(e,n){this.source=e,this.path=n,this.type=lu.LISTEN_COMPLETE}operationForChild(e){return _n(this.path)?new OC(this.source,Ln()):new OC(this.source,_i(this.path))}}class jg{constructor(e,n,t){this.source=e,this.path=n,this.snap=t,this.type=lu.OVERWRITE}operationForChild(e){return _n(this.path)?new jg(this.source,Ln(),this.snap.getImmediateChild(e)):new jg(this.source,_i(this.path),this.snap)}}class c0{constructor(e,n,t){this.source=e,this.path=n,this.children=t,this.type=lu.MERGE}operationForChild(e){if(_n(this.path)){const n=this.children.subtree(new Yn(e));return n.isEmpty()?null:n.value?new jg(this.source,Ln(),n.value):new c0(this.source,Ln(),n)}return(0,z.hu)(gn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new c0(this.source,_i(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class jp{constructor(e,n,t){this.node_=e,this.fullyInitialized_=n,this.filtered_=t}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_n(e))return this.isFullyInitialized()&&!this.filtered_;const n=gn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Dz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function NC(i,e,n,t,r,o){const c=t.filter(d=>d.type===n);c.sort((d,f)=>function kz(i,e,n){if(null==e.childName||null==n.childName)throw(0,z.g5)("Should only compare child_ events.");const t=new yn(e.childName,e.snapshotNode),r=new yn(n.childName,n.snapshotNode);return i.index_.compare(t,r)}(i,d,f)),c.forEach(d=>{const f=function Mz(i,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}(i,d,o);r.forEach(_=>{_.respondsTo(d.type)&&e.push(_.createEvent(f,i.query_))})})}function vS(i,e){return{eventCache:i,serverCache:e}}function LC(i,e,n,t){return vS(new jp(e,n,t),i.serverCache)}function V5(i,e,n,t){return vS(i.eventCache,new jp(e,n,t))}function wS(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function qg(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let D6;class Ei{constructor(e,n=(()=>(D6||(D6=new $o(mH)),D6))()){this.value=e,this.children=n}static fromObject(e){let n=new Ei(null);return bs(e,(t,r)=>{n=n.set(new Yn(t),r)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Ln(),value:this.value};if(_n(e))return null;{const t=gn(e),r=this.children.get(t);if(null!==r){const o=r.findRootMostMatchingPathAndValue(_i(e),n);return null!=o?{path:Gi(new Yn(t),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_n(e))return this;{const n=gn(e),t=this.children.get(n);return null!==t?t.subtree(_i(e)):new Ei(null)}}set(e,n){if(_n(e))return new Ei(n,this.children);{const t=gn(e),o=(this.children.get(t)||new Ei(null)).set(_i(e),n),c=this.children.insert(t,o);return new Ei(this.value,c)}}remove(e){if(_n(e))return this.children.isEmpty()?new Ei(null):new Ei(null,this.children);{const n=gn(e),t=this.children.get(n);if(t){const r=t.remove(_i(e));let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?new Ei(null):new Ei(this.value,o)}return this}}get(e){if(_n(e))return this.value;{const n=gn(e),t=this.children.get(n);return t?t.get(_i(e)):null}}setTree(e,n){if(_n(e))return n;{const t=gn(e),o=(this.children.get(t)||new Ei(null)).setTree(_i(e),n);let c;return c=o.isEmpty()?this.children.remove(t):this.children.insert(t,o),new Ei(this.value,c)}}fold(e){return this.fold_(Ln(),e)}fold_(e,n){const t={};return this.children.inorderTraversal((r,o)=>{t[r]=o.fold_(Gi(e,r),n)}),n(e,this.value,t)}findOnPath(e,n){return this.findOnPath_(e,Ln(),n)}findOnPath_(e,n,t){const r=!!this.value&&t(n,this.value);if(r)return r;if(_n(e))return null;{const o=gn(e),c=this.children.get(o);return c?c.findOnPath_(_i(e),Gi(n,o),t):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ln(),n)}foreachOnPath_(e,n,t){if(_n(e))return this;{this.value&&t(n,this.value);const r=gn(e),o=this.children.get(r);return o?o.foreachOnPath_(_i(e),Gi(n,r),t):new Ei(null)}}foreach(e){this.foreach_(Ln(),e)}foreach_(e,n){this.children.inorderTraversal((t,r)=>{r.foreach_(Gi(e,t),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,t)=>{t.value&&e(n,t.value)})}}class nc{constructor(e){this.writeTree_=e}static empty(){return new nc(new Ei(null))}}function FC(i,e,n){if(_n(e))return new nc(new Ei(n));{const t=i.writeTree_.findRootMostValueAndPath(e);if(null!=t){const r=t.path;let o=t.value;const c=To(r,e);return o=o.updateChild(c,n),new nc(i.writeTree_.set(r,o))}{const r=new Ei(n),o=i.writeTree_.setTree(e,r);return new nc(o)}}}function A6(i,e,n){let t=i;return bs(n,(r,o)=>{t=FC(t,Gi(e,r),o)}),t}function B5(i,e){if(_n(e))return nc.empty();{const n=i.writeTree_.setTree(e,new Ei(null));return new nc(n)}}function M6(i,e){return null!=Gg(i,e)}function Gg(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return null!=n?i.writeTree_.get(n.path).getChild(To(n.path,e)):null}function U5(i){const e=[],n=i.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ti,(t,r)=>{e.push(new yn(t,r))}):i.writeTree_.children.inorderTraversal((t,r)=>{null!=r.value&&e.push(new yn(t,r.value))}),e}function qp(i,e){if(_n(e))return i;{const n=Gg(i,e);return new nc(null!=n?new Ei(n):i.writeTree_.subtree(e))}}function k6(i){return i.writeTree_.isEmpty()}function u0(i,e){return H5(Ln(),i.writeTree_,e)}function H5(i,e,n){if(null!=e.value)return n.updateChild(i,e.value);{let t=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?((0,z.hu)(null!==o.value,"Priority writes must always be leaf nodes"),t=o.value):n=H5(Gi(i,r),o,n)}),!n.getChild(i).isEmpty()&&null!==t&&(n=n.updateChild(Gi(i,".priority"),t)),n}}function bS(i,e){return Z5(e,i)}function Fz(i,e){if(i.snap)return ll(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&ll(Gi(i.path,n),e))return!0;return!1}function Bz(i){return i.visible}function z5(i,e,n){let t=nc.empty();for(let r=0;r<i.length;++r){const o=i[r];if(e(o)){const c=o.path;let d;if(o.snap)ll(n,c)?(d=To(n,c),t=FC(t,d,o.snap)):ll(c,n)&&(d=To(c,n),t=FC(t,Ln(),o.snap.getChild(d)));else{if(!o.children)throw(0,z.g5)("WriteRecord should have .snap or .children");if(ll(n,c))d=To(n,c),t=A6(t,d,o.children);else if(ll(c,n))if(d=To(c,n),_n(d))t=A6(t,Ln(),o.children);else{const f=(0,z.DV)(o.children,gn(d));if(f){const _=f.getChild(_i(d));t=FC(t,Ln(),_)}}}}}return t}function j5(i,e,n,t,r){if(t||r){const o=qp(i.visibleWrites,e);return!r&&k6(o)?n:r||null!=n||M6(o,Ln())?u0(z5(i.allWrites,function(_){return(_.visible||r)&&(!t||!~t.indexOf(_.writeId))&&(ll(_.path,e)||ll(e,_.path))},e),n||an.EMPTY_NODE):null}{const o=Gg(i.visibleWrites,e);if(null!=o)return o;{const c=qp(i.visibleWrites,e);return k6(c)?n:null!=n||M6(c,Ln())?u0(c,n||an.EMPTY_NODE):null}}}function CS(i,e,n,t){return j5(i.writeTree,i.treePath,e,n,t)}function P6(i,e){return function Uz(i,e,n){let t=an.EMPTY_NODE;const r=Gg(i.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ti,(o,c)=>{t=t.updateImmediateChild(o,c)}),t;if(n){const o=qp(i.visibleWrites,e);return n.forEachChild(Ti,(c,d)=>{const f=u0(qp(o,new Yn(c)),d);t=t.updateImmediateChild(c,f)}),U5(o).forEach(c=>{t=t.updateImmediateChild(c.name,c.node)}),t}return U5(qp(i.visibleWrites,e)).forEach(c=>{t=t.updateImmediateChild(c.name,c.node)}),t}(i.writeTree,i.treePath,e)}function q5(i,e,n,t){return function Hz(i,e,n,t,r){(0,z.hu)(t||r,"Either existingEventSnap or existingServerSnap must exist");const o=Gi(e,n);if(M6(i.visibleWrites,o))return null;{const c=qp(i.visibleWrites,o);return k6(c)?r.getChild(n):u0(c,r.getChild(n))}}(i.writeTree,i.treePath,e,n,t)}function IS(i,e){return function jz(i,e){return Gg(i.visibleWrites,e)}(i.writeTree,Gi(i.treePath,e))}function R6(i,e,n){return function zz(i,e,n,t){const r=Gi(e,n),o=Gg(i.visibleWrites,r);return null!=o?o:t.isCompleteForChild(n)?u0(qp(i.visibleWrites,r),t.getNode().getImmediateChild(n)):null}(i.writeTree,i.treePath,e,n)}function G5(i,e){return Z5(Gi(i.treePath,e),i.writeTree)}function Z5(i,e){return{treePath:i,writeTree:e}}class $z{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,t=e.childName;(0,z.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,z.hu)(".priority"!==t,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(t);if(r){const o=r.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(t,PC(t,e.snapshotNode,r.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(t);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(t,kC(t,r.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(t,a0(t,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw(0,z.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(t,PC(t,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(t,e)}getChanges(){return Array.from(this.changeMap.values())}}const $5=new class Wz{getCompleteChild(e){return null}getChildAfterChild(e,n,t){return null}};class O6{constructor(e,n,t=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=t}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new jp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return R6(this.writes_,e,t)}}getChildAfterChild(e,n,t){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:qg(this.viewCache_),o=function Zz(i,e,n,t,r,o){return function qz(i,e,n,t,r,o,c){let d;const f=qp(i.visibleWrites,e),_=Gg(f,Ln());if(null!=_)d=_;else{if(null==n)return[];d=u0(f,n)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],T=c.getCompare(),M=o?d.getReverseIteratorFrom(t,c):d.getIteratorFrom(t,c);let R=M.getNext();for(;R&&b.length<r;)0!==T(R,t)&&b.push(R),R=M.getNext();return b}}(i.writeTree,i.treePath,e,n,t,r,o)}(this.writes_,r,n,1,t,e);return 0===o.length?null:o[0]}}function W5(i,e,n,t,r,o){const c=e.eventCache;if(null!=IS(t,n))return e;{let d,f;if(_n(n))if((0,z.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=qg(e),T=P6(t,_ instanceof an?_:an.EMPTY_NODE);d=i.filter.updateFullNode(e.eventCache.getNode(),T,o)}else{const _=CS(t,qg(e));d=i.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const _=gn(n);if(".priority"===_){(0,z.hu)(1===zp(n),"Can't have a priority with additional path components");const b=c.getNode();f=e.serverCache.getNode();const T=q5(t,n,b,f);d=null!=T?i.filter.updatePriority(b,T):c.getNode()}else{const b=_i(n);let T;if(c.isCompleteForChild(_)){f=e.serverCache.getNode();const M=q5(t,n,c.getNode(),f);T=null!=M?c.getNode().getImmediateChild(_).updateChild(b,M):c.getNode().getImmediateChild(_)}else T=R6(t,_,e.serverCache);d=null!=T?i.filter.updateChild(c.getNode(),_,T,b,r,o):c.getNode()}}return LC(e,d,c.isFullyInitialized()||_n(n),i.filter.filtersNodes())}}function TS(i,e,n,t,r,o,c,d){const f=e.serverCache;let _;const b=c?i.filter:i.filter.getIndexedFilter();if(_n(n))_=b.updateFullNode(f.getNode(),t,null);else if(b.filtersNodes()&&!f.isFiltered()){const R=f.getNode().updateChild(n,t);_=b.updateFullNode(f.getNode(),R,null)}else{const R=gn(n);if(!f.isCompleteForPath(n)&&zp(n)>1)return e;const B=_i(n),te=f.getNode().getImmediateChild(R).updateChild(B,t);_=".priority"===R?b.updatePriority(f.getNode(),te):b.updateChild(f.getNode(),R,te,B,$5,null)}const T=V5(e,_,f.isFullyInitialized()||_n(n),b.filtersNodes());return W5(i,T,n,r,new O6(r,T,o),d)}function N6(i,e,n,t,r,o,c){const d=e.eventCache;let f,_;const b=new O6(r,e,o);if(_n(n))_=i.filter.updateFullNode(e.eventCache.getNode(),t,c),f=LC(e,_,!0,i.filter.filtersNodes());else{const T=gn(n);if(".priority"===T)_=i.filter.updatePriority(e.eventCache.getNode(),t),f=LC(e,_,d.isFullyInitialized(),d.isFiltered());else{const M=_i(n),R=d.getNode().getImmediateChild(T);let B;if(_n(M))B=t;else{const K=b.getCompleteChild(T);B=null!=K?".priority"===h6(M)&&K.getChild(T5(M)).isEmpty()?K:K.updateChild(M,t):an.EMPTY_NODE}f=R.equals(B)?e:LC(e,i.filter.updateChild(d.getNode(),T,B,M,b,c),d.isFullyInitialized(),i.filter.filtersNodes())}}return f}function Y5(i,e){return i.eventCache.isCompleteForChild(e)}function K5(i,e,n){return n.foreach((t,r)=>{e=e.updateChild(t,r)}),e}function L6(i,e,n,t,r,o,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,f=e;_=_n(n)?t:new Ei(null).setTree(n,t);const b=e.serverCache.getNode();return _.children.inorderTraversal((T,M)=>{if(b.hasChild(T)){const B=K5(0,e.serverCache.getNode().getImmediateChild(T),M);f=TS(i,f,new Yn(T),B,r,o,c,d)}}),_.children.inorderTraversal((T,M)=>{const R=!e.serverCache.isCompleteForChild(T)&&null===M.value;if(!b.hasChild(T)&&!R){const K=K5(0,e.serverCache.getNode().getImmediateChild(T),M);f=TS(i,f,new Yn(T),K,r,o,c,d)}}),f}class ij{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const t=this.query_._queryParams,r=new w6(t.getIndex()),o=function _z(i){return i.loadsAllData()?new w6(i.getIndex()):i.hasLimit()?new gz(i):new RC(i)}(t);this.processor_=function Yz(i){return{filter:i}}(o);const c=n.serverCache,d=n.eventCache,f=r.updateFullNode(an.EMPTY_NODE,c.getNode(),null),_=o.updateFullNode(an.EMPTY_NODE,d.getNode(),null),b=new jp(f,c.isFullyInitialized(),r.filtersNodes()),T=new jp(_,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=vS(T,b),this.eventGenerator_=new Dz(this.query_)}get query(){return this.query_}}function oj(i,e){const n=qg(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!_n(e)&&!n.getImmediateChild(gn(e)).isEmpty())?n.getChild(e):null}function Q5(i){return 0===i.eventRegistrations_.length}function J5(i,e,n){const t=[];if(n){(0,z.hu)(null==e,"A cancel should cancel all event registrations.");const r=i.query._path;i.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(n,r);c&&t.push(c)})}if(e){let r=[];for(let o=0;o<i.eventRegistrations_.length;++o){const c=i.eventRegistrations_[o];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(i.eventRegistrations_.slice(o+1));break}}else r.push(c)}i.eventRegistrations_=r}else i.eventRegistrations_=[];return t}function X5(i,e,n,t){e.type===lu.MERGE&&null!==e.source.queryId&&((0,z.hu)(qg(i.viewCache_),"We should always have a full cache before handling merges"),(0,z.hu)(wS(i.viewCache_),"Missing event cache, even though we have a server cache"));const r=i.viewCache_,o=function Qz(i,e,n,t,r){const o=new $z;let c,d;if(n.type===lu.OVERWRITE){const _=n;_.source.fromUser?c=N6(i,e,_.path,_.snap,t,r,o):((0,z.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered()&&!_n(_.path),c=TS(i,e,_.path,_.snap,t,r,d,o))}else if(n.type===lu.MERGE){const _=n;_.source.fromUser?c=function Xz(i,e,n,t,r,o,c){let d=e;return t.foreach((f,_)=>{const b=Gi(n,f);Y5(e,gn(b))&&(d=N6(i,d,b,_,r,o,c))}),t.foreach((f,_)=>{const b=Gi(n,f);Y5(e,gn(b))||(d=N6(i,d,b,_,r,o,c))}),d}(i,e,_.path,_.children,t,r,o):((0,z.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||e.serverCache.isFiltered(),c=L6(i,e,_.path,_.children,t,r,d,o))}else if(n.type===lu.ACK_USER_WRITE){const _=n;c=_.revert?function nj(i,e,n,t,r,o){let c;if(null!=IS(t,n))return e;{const d=new O6(t,e,r),f=e.eventCache.getNode();let _;if(_n(n)||".priority"===gn(n)){let b;if(e.serverCache.isFullyInitialized())b=CS(t,qg(e));else{const T=e.serverCache.getNode();(0,z.hu)(T instanceof an,"serverChildren would be complete if leaf node"),b=P6(t,T)}_=i.filter.updateFullNode(f,b,o)}else{const b=gn(n);let T=R6(t,b,e.serverCache);null==T&&e.serverCache.isCompleteForChild(b)&&(T=f.getImmediateChild(b)),_=null!=T?i.filter.updateChild(f,b,T,_i(n),d,o):e.eventCache.getNode().hasChild(b)?i.filter.updateChild(f,b,an.EMPTY_NODE,_i(n),d,o):f,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=CS(t,qg(e)),c.isLeafNode()&&(_=i.filter.updateFullNode(_,c,o)))}return c=e.serverCache.isFullyInitialized()||null!=IS(t,Ln()),LC(e,_,c,i.filter.filtersNodes())}}(i,e,_.path,t,r,o):function ej(i,e,n,t,r,o,c){if(null!=IS(r,n))return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(null!=t.value){if(_n(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return TS(i,e,n,f.getNode().getChild(n),r,o,d,c);if(_n(n)){let _=new Ei(null);return f.getNode().forEachChild(au,(b,T)=>{_=_.set(new Yn(b),T)}),L6(i,e,n,_,r,o,d,c)}return e}{let _=new Ei(null);return t.foreach((b,T)=>{const M=Gi(n,b);f.isCompleteForPath(M)&&(_=_.set(b,f.getNode().getChild(M)))}),L6(i,e,n,_,r,o,d,c)}}(i,e,_.path,_.affectedTree,t,r,o)}else{if(n.type!==lu.LISTEN_COMPLETE)throw(0,z.g5)("Unknown operation type: "+n.type);c=function tj(i,e,n,t,r){const o=e.serverCache;return W5(i,V5(e,o.getNode(),o.isFullyInitialized()||_n(n),o.isFiltered()),n,t,$5,r)}(i,e,n.path,t,o)}const f=o.getChanges();return function Jz(i,e,n){const t=e.eventCache;if(t.isFullyInitialized()){const r=t.getNode().isLeafNode()||t.getNode().isEmpty(),o=wS(i);(n.length>0||!i.eventCache.isFullyInitialized()||r&&!t.getNode().equals(o)||!t.getNode().getPriority().equals(o.getPriority()))&&n.push(O5(wS(e)))}}(e,c,f),{viewCache:c,changes:f}}(i.processor_,r,e,n,t);return function Kz(i,e){(0,z.hu)(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,z.hu)(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,o.viewCache),(0,z.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=o.viewCache,eF(i,o.changes,o.viewCache.eventCache.getNode(),null)}function eF(i,e,n,t){return function Az(i,e,n,t){const r=[],o=[];return e.forEach(c=>{"child_changed"===c.type&&i.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function mz(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}(c.childName,c.snapshotNode))}),NC(i,r,"child_removed",e,t,n),NC(i,r,"child_added",e,t,n),NC(i,r,"child_moved",o,t,n),NC(i,r,"child_changed",e,t,n),NC(i,r,"value",e,t,n),r}(i.eventGenerator_,e,n,t?[t]:i.eventRegistrations_)}let ES,SS;class tF{constructor(){this.views=new Map}}function F6(i,e,n,t){const r=e.source.queryId;if(null!==r){const o=i.views.get(r);return(0,z.hu)(null!=o,"SyncTree gave us an op for an invalid query."),X5(o,e,n,t)}{let o=[];for(const c of i.views.values())o=o.concat(X5(c,e,n,t));return o}}function nF(i,e,n,t,r){const c=i.views.get(e._queryIdentifier);if(!c){let d=CS(n,r?t:null),f=!1;d?f=!0:t instanceof an?(d=P6(n,t),f=!1):(d=an.EMPTY_NODE,f=!1);const _=vS(new jp(d,f,!1),new jp(t,r,!1));return new ij(e,_)}return c}function iF(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Gp(i,e){let n=null;for(const t of i.views.values())n=n||oj(t,e);return n}function rF(i,e){return e._queryParams.loadsAllData()?xS(i):i.views.get(e._queryIdentifier)}function sF(i,e){return null!=rF(i,e)}function Zp(i){return null!=xS(i)}function xS(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let gj=1;class oF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ei(null),this.pendingWriteTree_=function Gz(){return{visibleWrites:nc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function V6(i,e,n,t,r){return function Rz(i,e,n,t,r){(0,z.hu)(t>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),i.allWrites.push({path:e,snap:n,writeId:t,visible:r}),r&&(i.visibleWrites=FC(i.visibleWrites,e,n)),i.lastWriteId=t}(i.pendingWriteTree_,e,n,t,r),r?d0(i,new jg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function $p(i,e,n=!1){const t=function Nz(i,e){for(let n=0;n<i.allWrites.length;n++){const t=i.allWrites[n];if(t.writeId===e)return t}return null}(i.pendingWriteTree_,e);if(function Lz(i,e){const n=i.allWrites.findIndex(d=>d.writeId===e);(0,z.hu)(n>=0,"removeWrite called with nonexistent writeId.");const t=i.allWrites[n];i.allWrites.splice(n,1);let r=t.visible,o=!1,c=i.allWrites.length-1;for(;r&&c>=0;){const d=i.allWrites[c];d.visible&&(c>=n&&Fz(d,t.path)?r=!1:ll(t.path,d.path)&&(o=!0)),c--}return!!r&&(o?(function Vz(i){i.visibleWrites=z5(i.allWrites,Bz,Ln()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(t.snap?i.visibleWrites=B5(i.visibleWrites,t.path):bs(t.children,f=>{i.visibleWrites=B5(i.visibleWrites,Gi(t.path,f))}),!0))}(i.pendingWriteTree_,e)){let o=new Ei(null);return null!=t.snap?o=o.set(Ln(),!0):bs(t.children,c=>{o=o.set(new Yn(c),!0)}),d0(i,new yS(t.path,o,n))}return[]}function VC(i,e,n){return d0(i,new jg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function DS(i,e,n,t,r=!1){const o=e._path,c=i.syncPointTree_.get(o);let d=[];if(c&&("default"===e._queryIdentifier||sF(c,e))){const f=function pj(i,e,n,t){const r=e._queryIdentifier,o=[];let c=[];const d=Zp(i);if("default"===r)for(const[f,_]of i.views.entries())c=c.concat(J5(_,n,t)),Q5(_)&&(i.views.delete(f),_.query._queryParams.loadsAllData()||o.push(_.query));else{const f=i.views.get(r);f&&(c=c.concat(J5(f,n,t)),Q5(f)&&(i.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return d&&!Zp(i)&&o.push(new(function uj(){return(0,z.hu)(ES,"Reference.ts has not been loaded"),ES}())(e._repo,e._path)),{removed:o,events:c}}(c,e,n,t);(function dj(i){return 0===i.views.size})(c)&&(i.syncPointTree_=i.syncPointTree_.remove(o));const _=f.removed;if(d=f.events,!r){const b=-1!==_.findIndex(M=>M._queryParams.loadsAllData()),T=i.syncPointTree_.findOnPath(o,(M,R)=>Zp(R));if(b&&!T){const M=i.syncPointTree_.subtree(o);if(!M.isEmpty()){const R=function Ij(i){return i.fold((e,n,t)=>{if(n&&Zp(n))return[xS(n)];{let r=[];return n&&(r=iF(n)),bs(t,(o,c)=>{r=r.concat(c)}),r}})}(M);for(let B=0;B<R.length;++B){const K=R[B],te=K.query,_e=uF(i,K);i.listenProvider_.startListening(UC(te),BC(i,te),_e.hashFn,_e.onComplete)}}}!T&&_.length>0&&!t&&(b?i.listenProvider_.stopListening(UC(e),null):_.forEach(M=>{const R=i.queryToTagMap.get(MS(M));i.listenProvider_.stopListening(UC(M),R)}))}!function Tj(i,e){for(let n=0;n<e.length;++n){const t=e[n];if(!t._queryParams.loadsAllData()){const r=MS(t),o=i.queryToTagMap.get(r);i.queryToTagMap.delete(r),i.tagToQueryMap.delete(o)}}}(i,_)}return d}function aF(i,e,n,t){const r=U6(i,t);if(null!=r){const o=H6(r),c=o.path,d=o.queryId,f=To(c,e);return z6(i,c,new jg(S6(d),f,n))}return[]}function B6(i,e,n,t=!1){const r=e._path;let o=null,c=!1;i.syncPointTree_.foreachOnPath(r,(M,R)=>{const B=To(M,r);o=o||Gp(R,B),c=c||Zp(R)});let f,d=i.syncPointTree_.get(r);d?(c=c||Zp(d),o=o||Gp(d,Ln())):(d=new tF,i.syncPointTree_=i.syncPointTree_.set(r,d)),null!=o?f=!0:(f=!1,o=an.EMPTY_NODE,i.syncPointTree_.subtree(r).foreachChild((R,B)=>{const K=Gp(B,Ln());K&&(o=o.updateImmediateChild(R,K))}));const _=sF(d,e);if(!_&&!e._queryParams.loadsAllData()){const M=MS(e);(0,z.hu)(!i.queryToTagMap.has(M),"View does not exist, but we have a tag");const R=function Ej(){return gj++}();i.queryToTagMap.set(M,R),i.tagToQueryMap.set(R,M)}let T=function hj(i,e,n,t,r,o){const c=nF(i,e,t,r,o);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,c),function aj(i,e){i.eventRegistrations_.push(e)}(c,n),function lj(i,e){const n=i.viewCache_.eventCache,t=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ti,(o,c)=>{t.push(a0(o,c))}),n.isFullyInitialized()&&t.push(O5(n.getNode())),eF(i,t,n.getNode(),e)}(c,n)}(d,e,n,bS(i.pendingWriteTree_,r),o,f);if(!_&&!c&&!t){const M=rF(d,e);T=T.concat(function xj(i,e,n){const t=e._path,r=BC(i,e),o=uF(i,n),c=i.listenProvider_.startListening(UC(e),r,o.hashFn,o.onComplete),d=i.syncPointTree_.subtree(t);if(r)(0,z.hu)(!Zp(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((_,b,T)=>{if(!_n(_)&&b&&Zp(b))return[xS(b).query];{let M=[];return b&&(M=M.concat(iF(b).map(R=>R.query))),bs(T,(R,B)=>{M=M.concat(B)}),M}});for(let _=0;_<f.length;++_){const b=f[_];i.listenProvider_.stopListening(UC(b),BC(i,b))}}return c}(i,e,M))}return T}function AS(i,e,n){const r=i.pendingWriteTree_,o=i.syncPointTree_.findOnPath(e,(c,d)=>{const _=Gp(d,To(c,e));if(_)return _});return j5(r,e,o,n,!0)}function d0(i,e){return lF(e,i.syncPointTree_,null,bS(i.pendingWriteTree_,Ln()))}function lF(i,e,n,t){if(_n(i.path))return cF(i,e,n,t);{const r=e.get(Ln());null==n&&null!=r&&(n=Gp(r,Ln()));let o=[];const c=gn(i.path),d=i.operationForChild(c),f=e.children.get(c);if(f&&d){const _=n?n.getImmediateChild(c):null,b=G5(t,c);o=o.concat(lF(d,f,_,b))}return r&&(o=o.concat(F6(r,i,t,n))),o}}function cF(i,e,n,t){const r=e.get(Ln());null==n&&null!=r&&(n=Gp(r,Ln()));let o=[];return e.children.inorderTraversal((c,d)=>{const f=n?n.getImmediateChild(c):null,_=G5(t,c),b=i.operationForChild(c);b&&(o=o.concat(cF(b,d,f,_)))}),r&&(o=o.concat(F6(r,i,t,n))),o}function uF(i,e){const n=e.query,t=BC(i,n);return{hashFn:()=>(function rj(i){return i.viewCache_.serverCache.getNode()}(e)||an.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return t?function wj(i,e,n){const t=U6(i,n);if(t){const r=H6(t),o=r.path,c=r.queryId,d=To(o,e);return z6(i,o,new OC(S6(c),d))}return[]}(i,n._path,t):function vj(i,e){return d0(i,new OC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(i,n._path);{const o=function yH(i,e){let n="Unknown Error";"too_big"===i?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?n="Client doesn't have permission to access the desired data.":"unavailable"===i&&(n="The service is unavailable");const t=new Error(i+" at "+e._path.toString()+": "+n);return t.code=i.toUpperCase(),t}(r,n);return DS(i,n,null,o)}}}}function BC(i,e){const n=MS(e);return i.queryToTagMap.get(n)}function MS(i){return i._path.toString()+"$"+i._queryIdentifier}function U6(i,e){return i.tagToQueryMap.get(e)}function H6(i){const e=i.indexOf("$");return(0,z.hu)(-1!==e&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Yn(i.substr(0,e))}}function z6(i,e,n){const t=i.syncPointTree_.get(e);return(0,z.hu)(t,"Missing sync point for query tag that we're tracking"),F6(t,n,bS(i.pendingWriteTree_,e),null)}function UC(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function mj(){return(0,z.hu)(SS,"Reference.ts has not been loaded"),SS}())(i._repo,i._path):i}class j6{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new j6(n)}node(){return this.node_}}class q6{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Gi(this.path_,e);return new q6(this.syncTree_,n)}node(){return AS(this.syncTree_,this.path_)}}const Sj=function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i},dF=function(i,e,n){return i&&"object"==typeof i?((0,z.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?Dj(i[".sv"],e,n):"object"==typeof i[".sv"]?Aj(i[".sv"],e):void(0,z.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},Dj=function(i,e,n){if("timestamp"===i)return n.timestamp;(0,z.hu)(!1,"Unexpected server value: "+i)},Aj=function(i,e,n){i.hasOwnProperty("increment")||(0,z.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const t=i.increment;"number"!=typeof t&&(0,z.hu)(!1,"Unexpected increment value: "+t);const r=e.node();if((0,z.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return t;const c=r.getValue();return"number"!=typeof c?t:c+t},hF=function(i,e,n,t){return Z6(e,new q6(n,i),t)},G6=function(i,e,n){return Z6(i,new j6(e),n)};function Z6(i,e,n){const t=i.getPriority().val(),r=dF(t,e.getImmediateChild(".priority"),n);let o;if(i.isLeafNode()){const c=i,d=dF(c.getValue(),e,n);return d!==c.getValue()||r!==c.getPriority().val()?new s0(d,nr(r)):i}{const c=i;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new s0(r))),c.forEachChild(Ti,(d,f)=>{const _=Z6(f,e.getImmediateChild(d),n);_!==f&&(o=o.updateImmediateChild(d,_))}),o}}class $6{constructor(e="",n=null,t={children:{},childCount:0}){this.name=e,this.parent=n,this.node=t}}function kS(i,e){let n=e instanceof Yn?e:new Yn(e),t=i,r=gn(n);for(;null!==r;){const o=(0,z.DV)(t.node.children,r)||{children:{},childCount:0};t=new $6(r,t,o),n=_i(n),r=gn(n)}return t}function Zg(i){return i.node.value}function W6(i,e){i.node.value=e,Y6(i)}function pF(i){return i.node.childCount>0}function PS(i,e){bs(i.node.children,(n,t)=>{e(new $6(n,i,t))})}function fF(i,e,n,t){n&&!t&&e(i),PS(i,r=>{fF(r,e,!0,t)}),n&&t&&e(i)}function HC(i){return new Yn(null===i.parent?i.name:HC(i.parent)+"/"+i.name)}function Y6(i){null!==i.parent&&function Pj(i,e,n){const t=function Mj(i){return void 0===Zg(i)&&!pF(i)}(n),r=(0,z.r3)(i.node.children,e);t&&r?(delete i.node.children[e],i.node.childCount--,Y6(i)):!t&&!r&&(i.node.children[e]=n.node,i.node.childCount++,Y6(i))}(i.parent,i.name,i)}const Rj=/[\[\].#$\/\u0000-\u001F\u007F]/,Oj=/[\[\].#$\u0000-\u001F\u007F]/,K6=10485760,RS=function(i){return"string"==typeof i&&0!==i.length&&!Rj.test(i)},mF=function(i){return"string"==typeof i&&0!==i.length&&!Oj.test(i)},zC=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!oS(i)||i&&"object"==typeof i&&(0,z.r3)(i,".sv")},cu=function(i,e,n,t){t&&void 0===e||jC((0,z.gK)(i,"value"),e,n)},jC=function(i,e,n){const t=n instanceof Yn?new QH(n,i):n;if(void 0===e)throw new Error(i+"contains undefined "+Hg(t));if("function"==typeof e)throw new Error(i+"contains a function "+Hg(t)+" with contents = "+e.toString());if(oS(e))throw new Error(i+"contains "+e.toString()+" "+Hg(t));if("string"==typeof e&&e.length>K6/3&&(0,z.ug)(e)>K6)throw new Error(i+"contains a string greater than "+K6+" utf8 bytes "+Hg(t)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(bs(e,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!RS(c)))throw new Error(i+" contains an invalid key ("+c+") "+Hg(t)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function JH(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=(0,z.ug)(e),E5(i)})(t,c),jC(i,d,t),function XH(i){const e=i.parts_.pop();i.byteLength_-=(0,z.ug)(e),i.parts_.length>0&&(i.byteLength_-=1)}(t)}),r&&o)throw new Error(i+' contains ".value" child '+Hg(t)+" in addition to actual children.")}},gF=function(i,e,n,t){if(t&&void 0===e)return;const r=(0,z.gK)(i,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];bs(e,(c,d)=>{const f=new Yn(c);if(jC(r,d,Gi(n,f)),".priority"===h6(f)&&!zC(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(i,e){let n,t;for(n=0;n<e.length;n++){t=e[n];const o=SC(t);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!RS(o[c]))throw new Error(i+"contains an invalid key ("+o[c]+") in path "+t.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(KH);let r=null;for(n=0;n<e.length;n++){if(t=e[n],null!==r&&ll(r,t))throw new Error(i+"contains a path "+r.toString()+" that is ancestor of another path "+t.toString());r=t}}(r,o)},Q6=function(i,e,n){if(!n||void 0!==e){if(oS(e))throw new Error((0,z.gK)(i,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zC(e))throw new Error((0,z.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},qC=function(i,e,n,t){if(!(t&&void 0===n||RS(n)))throw new Error((0,z.gK)(i,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},GC=function(i,e,n,t){if(!(t&&void 0===n||mF(n)))throw new Error((0,z.gK)(i,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Fj=function(i,e,n,t){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),GC(i,e,n,t)},cl=function(i,e){if(".info"===gn(e))throw new Error(i+" failed = Can't modify data under /.info/")},_F=function(i,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!RS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),mF(i)}(n))throw new Error((0,z.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Vj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function OS(i,e){let n=null;for(let t=0;t<e.length;t++){const r=e[t],o=r.getPath();null!==n&&!p6(o,n.path)&&(i.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&i.eventLists_.push(n)}function yF(i,e,n){OS(i,n),vF(i,t=>p6(t,e))}function va(i,e,n){OS(i,n),vF(i,t=>ll(t,e)||ll(e,t))}function vF(i,e){i.recursionDepth_++;let n=!0;for(let t=0;t<i.eventLists_.length;t++){const r=i.eventLists_[t];r&&(e(r.path)?(Bj(i.eventLists_[t]),i.eventLists_[t]=null):n=!1)}n&&(i.eventLists_=[]),i.recursionDepth_--}function Bj(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(null!==n){i.events[e]=null;const t=n.getEventRunner();Bg&&ws("event: "+n.toString()),n0(t)}}}const wF="repo_interrupt",Uj=25;class Hj{constructor(e,n,t,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=t,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Vj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_S(),this.transactionQueueTree_=new $6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bF(i){const n=i.infoData_.getNode(new Yn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function ZC(i){return Sj({timestamp:bF(i)})}function CF(i,e,n,t,r){i.dataUpdateCount++;const o=new Yn(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let c=[];if(r)if(t){const f=(0,z.UI)(n,_=>nr(_));c=function bj(i,e,n,t){const r=U6(i,t);if(r){const o=H6(r),c=o.path,d=o.queryId,f=To(c,e),_=Ei.fromObject(n);return z6(i,c,new c0(S6(d),f,_))}return[]}(i.serverSyncTree_,o,f,r)}else{const f=nr(n);c=aF(i.serverSyncTree_,o,f,r)}else if(t){const f=(0,z.UI)(n,_=>nr(_));c=function yj(i,e,n){const t=Ei.fromObject(n);return d0(i,new c0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}(i.serverSyncTree_,o,f)}else{const f=nr(n);c=VC(i.serverSyncTree_,o,f)}let d=o;c.length>0&&(d=p0(i,o)),va(i.eventQueue_,d,c)}function IF(i,e){J6(i,"connected",e),!1===e&&function Zj(i){h0(i,"onDisconnectEvents");const e=ZC(i),n=_S();T6(i.onDisconnect_,Ln(),(r,o)=>{const c=hF(r,o,i.serverSyncTree_,e);l0(n,r,c)});let t=[];T6(n,Ln(),(r,o)=>{t=t.concat(VC(i.serverSyncTree_,r,o));const c=nR(i,r);p0(i,c)}),i.onDisconnect_=_S(),va(i.eventQueue_,Ln(),t)}(i)}function J6(i,e,n){const t=new Yn("/.info/"+e),r=nr(n);i.infoData_.updateSnapshot(t,r);const o=VC(i.infoSyncTree_,t,r);va(i.eventQueue_,t,o)}function NS(i){return i.nextWriteId_++}function X6(i,e,n,t,r){h0(i,"set",{path:e.toString(),value:n,priority:t});const o=ZC(i),c=nr(n,t),d=AS(i.serverSyncTree_,e),f=G6(c,d,o),_=NS(i),b=V6(i.serverSyncTree_,e,f,_,!0);OS(i.eventQueue_,b),i.server_.put(e.toString(),c.val(!0),(M,R)=>{const B="ok"===M;B||io("set at "+e+" failed: "+M);const K=$p(i.serverSyncTree_,_,!B);va(i.eventQueue_,e,K),Wp(0,r,M,R)});const T=nR(i,e);p0(i,T),va(i.eventQueue_,T,[])}function $j(i,e,n){i.server_.onDisconnectCancel(e.toString(),(t,r)=>{"ok"===t&&I6(i.onDisconnect_,e),Wp(0,n,t,r)})}function TF(i,e,n,t){const r=nr(n);i.server_.onDisconnectPut(e.toString(),r.val(!0),(o,c)=>{"ok"===o&&l0(i.onDisconnect_,e,r),Wp(0,t,o,c)})}function eR(i,e,n){let t;t=".info"===gn(e._path)?DS(i.infoSyncTree_,e,n):DS(i.serverSyncTree_,e,n),yF(i.eventQueue_,e._path,t)}function EF(i){i.persistentConnection_&&i.persistentConnection_.interrupt(wF)}function h0(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),ws(n,...e)}function Wp(i,e,n,t){e&&n0(()=>{if("ok"===n)e(null);else{const r=(n||"error").toUpperCase();let o=r;t&&(o+=": "+t);const c=new Error(o);c.code=r,e(c)}})}function tR(i,e,n){return AS(i.serverSyncTree_,e,n)||an.EMPTY_NODE}function LS(i,e=i.transactionQueueTree_){if(e||FS(i,e),Zg(e)){const n=SF(i,e);(0,z.hu)(n.length>0,"Sending zero length transaction queue"),n.every(r=>0===r.status)&&function Xj(i,e,n){const t=n.map(_=>_.currentWriteId),r=tR(i,e,t);let o=r;const c=r.hash();for(let _=0;_<n.length;_++){const b=n[_];(0,z.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const T=To(e,b.path);o=o.updateChild(T,b.currentOutputSnapshotRaw)}const d=o.val(!0),f=e;i.server_.put(f.toString(),d,_=>{h0(i,"transaction put response",{path:f.toString(),status:_});let b=[];if("ok"===_){const T=[];for(let M=0;M<n.length;M++)n[M].status=2,b=b.concat($p(i.serverSyncTree_,n[M].currentWriteId)),n[M].onComplete&&T.push(()=>n[M].onComplete(null,!0,n[M].currentOutputSnapshotResolved)),n[M].unwatcher();FS(i,kS(i.transactionQueueTree_,e)),LS(i,i.transactionQueueTree_),va(i.eventQueue_,e,b);for(let M=0;M<T.length;M++)n0(T[M])}else{if("datastale"===_)for(let T=0;T<n.length;T++)n[T].status=3===n[T].status?4:0;else{io("transaction at "+f.toString()+" failed: "+_);for(let T=0;T<n.length;T++)n[T].status=4,n[T].abortReason=_}p0(i,e)}},c)}(i,HC(e),n)}else pF(e)&&PS(e,n=>{LS(i,n)})}function p0(i,e){const n=xF(i,e),t=HC(n);return function eq(i,e,n){if(0===e.length)return;const t=[];let r=[];const c=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],_=To(n,f.path);let T,b=!1;if((0,z.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)b=!0,T=f.abortReason,r=r.concat($p(i.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=Uj)b=!0,T="maxretry",r=r.concat($p(i.serverSyncTree_,f.currentWriteId,!0));else{const M=tR(i,f.path,c);f.currentInputSnapshot=M;const R=e[d].update(M.val());if(void 0!==R){jC("transaction failed: Data returned ",R,f.path);let B=nr(R);"object"==typeof R&&null!=R&&(0,z.r3)(R,".priority")||(B=B.updatePriority(M.getPriority()));const te=f.currentWriteId,_e=ZC(i),Ne=G6(B,M,_e);f.currentOutputSnapshotRaw=B,f.currentOutputSnapshotResolved=Ne,f.currentWriteId=NS(i),c.splice(c.indexOf(te),1),r=r.concat(V6(i.serverSyncTree_,f.path,Ne,f.currentWriteId,f.applyLocally)),r=r.concat($p(i.serverSyncTree_,te,!0))}else b=!0,T="nodata",r=r.concat($p(i.serverSyncTree_,f.currentWriteId,!0))}va(i.eventQueue_,n,r),r=[],b&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&t.push("nodata"===T?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(T),!1,null)))}FS(i,i.transactionQueueTree_);for(let d=0;d<t.length;d++)n0(t[d]);LS(i,i.transactionQueueTree_)}(i,SF(i,n),t),t}function xF(i,e){let n,t=i.transactionQueueTree_;for(n=gn(e);null!==n&&void 0===Zg(t);)t=kS(t,n),n=gn(e=_i(e));return t}function SF(i,e){const n=[];return DF(i,e,n),n.sort((t,r)=>t.order-r.order),n}function DF(i,e,n){const t=Zg(e);if(t)for(let r=0;r<t.length;r++)n.push(t[r]);PS(e,r=>{DF(i,r,n)})}function FS(i,e){const n=Zg(e);if(n){let t=0;for(let r=0;r<n.length;r++)2!==n[r].status&&(n[t]=n[r],t++);n.length=t,W6(e,n.length>0?n:void 0)}PS(e,t=>{FS(i,t)})}function nR(i,e){const n=HC(xF(i,e)),t=kS(i.transactionQueueTree_,e);return function kj(i,e,n){let t=n?i:i.parent;for(;null!==t;){if(e(t))return!0;t=t.parent}}(t,r=>{iR(i,r)}),iR(i,t),fF(t,r=>{iR(i,r)}),n}function iR(i,e){const n=Zg(e);if(n){const t=[];let r=[],o=-1;for(let c=0;c<n.length;c++)3===n[c].status||(1===n[c].status?((0,z.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,n[c].status=3,n[c].abortReason="set"):((0,z.hu)(0===n[c].status,"Unexpected transaction status in abort"),n[c].unwatcher(),r=r.concat($p(i.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&t.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?W6(e,void 0):n.length=o+1,va(i.eventQueue_,HC(e),r);for(let c=0;c<t.length;c++)n0(t[c])}}const rR=function(i,e){const n=iq(i),t=n.namespace;return"firebase.com"===n.domain&&ou(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!t||"undefined"===t)&&"localhost"!==n.domain&&ou("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&io("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new o6(n.host,n.secure,t,"ws"===n.scheme||"wss"===n.scheme,e,"",t!==n.subdomain),path:new Yn(n.pathString)}},iq=function(i){let e="",n="",t="",r="",o="",c=!0,d="https",f=443;if("string"==typeof i){let _=i.indexOf("//");_>=0&&(d=i.substring(0,_-1),i=i.substring(_+2));let b=i.indexOf("/");-1===b&&(b=i.length);let T=i.indexOf("?");-1===T&&(T=i.length),e=i.substring(0,Math.min(b,T)),b<T&&(r=function tq(i){let e="";const n=i.split("/");for(let t=0;t<n.length;t++)if(n[t].length>0){let r=n[t];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(i.substring(b,T)));const M=function nq(i){const e={};"?"===i.charAt(0)&&(i=i.substring(1));for(const n of i.split("&")){if(0===n.length)continue;const t=n.split("=");2===t.length?e[decodeURIComponent(t[0])]=decodeURIComponent(t[1]):io(`Invalid query segment '${n}' in query '${i}'`)}return e}(i.substring(Math.min(i.length,T)));_=e.indexOf(":"),_>=0?(c="https"===d||"wss"===d,f=parseInt(e.substring(_+1),10)):_=e.length;const R=e.slice(0,_);if("localhost"===R.toLowerCase())n="localhost";else if(R.split(".").length<=2)n=R;else{const B=e.indexOf(".");t=e.substring(0,B).toLowerCase(),n=e.substring(B+1),o=t}"ns"in M&&(o=M.ns)}return{host:e,port:f,domain:n,subdomain:t,secure:c,scheme:d,pathString:r,namespace:o}},AF="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rq=function(){let i=0;const e=[];return function(n){const t=n===i;let r;i=n;const o=new Array(8);for(r=7;r>=0;r--)o[r]=AF.charAt(n%64),n=Math.floor(n/64);(0,z.hu)(0===n,"Cannot push at time == 0");let c=o.join("");if(t){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=AF.charAt(e[r]);return(0,z.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class MF{constructor(e,n,t,r){this.eventType=e,this.eventRegistration=n,this.snapshot=t,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,z.Wl)(this.snapshot.exportVal())}}class kF{constructor(e,n,t){this.eventRegistration=e,this.error=n,this.path=t}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sR{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return(0,z.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class PF{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new z.BH;return $j(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){cl("OnDisconnect.remove",this._path);const e=new z.BH;return TF(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){cl("OnDisconnect.set",this._path),cu("OnDisconnect.set",e,this._path,!1);const n=new z.BH;return TF(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){cl("OnDisconnect.setWithPriority",this._path),cu("OnDisconnect.setWithPriority",e,this._path,!1),Q6("OnDisconnect.setWithPriority",n,!1);const t=new z.BH;return function Wj(i,e,n,t,r){const o=nr(n,t);i.server_.onDisconnectPut(e.toString(),o.val(!0),(c,d)=>{"ok"===c&&l0(i.onDisconnect_,e,o),Wp(0,r,c,d)})}(this._repo,this._path,e,n,t.wrapCallback(()=>{})),t.promise}update(e){cl("OnDisconnect.update",this._path),gF("OnDisconnect.update",e,this._path,!1);const n=new z.BH;return function Yj(i,e,n,t){if((0,z.xb)(n))return ws("onDisconnect().update() called with empty data.  Don't do anything."),void Wp(0,t,"ok",void 0);i.server_.onDisconnectMerge(e.toString(),n,(r,o)=>{"ok"===r&&bs(n,(c,d)=>{const f=nr(d);l0(i.onDisconnect_,Gi(e,c),f)}),Wp(0,t,r,o)})}(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class Wo{constructor(e,n,t,r){this._repo=e,this._path=n,this._queryParams=t,this._orderByCalled=r}get key(){return _n(this._path)?null:h6(this._path)}get ref(){return new ul(this._repo,this._path)}get _queryIdentifier(){const e=L5(this._queryParams),n=r6(e);return"{}"===n?"default":n}get _queryObject(){return L5(this._queryParams)}isEqual(e){if(!((e=(0,z.m9)(e))instanceof Wo))return!1;const n=this._repo===e._repo,t=p6(this._path,e._path);return n&&t&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function YH(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)""!==i.pieces_[n]&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}(this._path)}}function VS(i,e){if(!0===i._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Yp(i){let e=null,n=null;if(i.hasStart()&&(e=i.getIndexStartValue()),i.hasEnd()&&(n=i.getIndexEndValue()),i.getIndex()===au){const t="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Up)throw new Error(t);if("string"!=typeof e)throw new Error(r)}if(i.hasEnd()){if(i.getIndexEndName()!==zd)throw new Error(t);if("string"!=typeof n)throw new Error(r)}}else if(i.getIndex()===Ti){if(null!=e&&!zC(e)||null!=n&&!zC(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,z.hu)(i.getIndex()instanceof y6||i.getIndex()===v6,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function BS(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ul extends Wo{constructor(e,n){super(e,n,new fS,!1)}get parent(){const e=T5(this._path);return null===e?null:new ul(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class $g{constructor(e,n,t){this._node=e,this.ref=n,this._index=t}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Yn(e),t=Wg(this.ref,e);return new $g(this._node.getChild(n),t,Ti)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,r)=>e(new $g(r,Wg(this.ref,t),Ti)))}hasChild(e){const n=new Yn(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function RF(i,e){return(i=(0,z.m9)(i))._checkNotDeleted("ref"),void 0!==e?Wg(i._root,e):i._root}function OF(i,e){(i=(0,z.m9)(i))._checkNotDeleted("refFromURL");const n=rR(e,i._repo.repoInfo_.nodeAdmin);_F("refFromURL",n);const t=n.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&t.host!==i._repo.repoInfo_.host&&ou("refFromURL: Host name does not match the current database: (found "+t.host+" but expected "+i._repo.repoInfo_.host+")"),RF(i,n.path.toString())}function Wg(i,e){return null===gn((i=(0,z.m9)(i))._path)?Fj("child","path",e,!1):GC("child","path",e,!1),new ul(i._repo,Gi(i._path,e))}function oR(i,e){i=(0,z.m9)(i),cl("set",i._path),cu("set",e,i._path,!1);const n=new z.BH;return X6(i._repo,i._path,e,null,n.wrapCallback(()=>{})),n.promise}function cq(i,e){gF("update",e,i._path,!1);const n=new z.BH;return function Gj(i,e,n,t){h0(i,"update",{path:e.toString(),value:n});let r=!0;const o=ZC(i),c={};if(bs(n,(d,f)=>{r=!1,c[d]=hF(Gi(e,d),nr(f),i.serverSyncTree_,o)}),r)ws("update() called with empty data.  Don't do anything."),Wp(0,t,"ok",void 0);else{const d=NS(i),f=function _j(i,e,n,t){!function Oz(i,e,n,t){(0,z.hu)(t>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:e,children:n,writeId:t,visible:!0}),i.visibleWrites=A6(i.visibleWrites,e,n),i.lastWriteId=t}(i.pendingWriteTree_,e,n,t);const r=Ei.fromObject(n);return d0(i,new c0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(i.serverSyncTree_,e,c,d);OS(i.eventQueue_,f),i.server_.merge(e.toString(),n,(_,b)=>{const T="ok"===_;T||io("update at "+e+" failed: "+_);const M=$p(i.serverSyncTree_,d,!T),R=M.length>0?p0(i,e):e;va(i.eventQueue_,R,M),Wp(0,t,_,b)}),bs(n,_=>{const b=nR(i,Gi(e,_));p0(i,b)}),va(i.eventQueue_,e,[])}}(i._repo,i._path,e,n.wrapCallback(()=>{})),n.promise}function uq(i){i=(0,z.m9)(i);const e=new sR(()=>{}),n=new $C(e);return function qj(i,e,n){const t=function Cj(i,e){const n=e._path;let t=null;i.syncPointTree_.foreachOnPath(n,(_,b)=>{const T=To(_,n);t=t||Gp(b,T)});let r=i.syncPointTree_.get(n);r?t=t||Gp(r,Ln()):(r=new tF,i.syncPointTree_=i.syncPointTree_.set(n,r));const o=null!=t,c=o?new jp(t,!0,!1):null;return function sj(i){return wS(i.viewCache_)}(nF(r,e,bS(i.pendingWriteTree_,e._path),o?c.getNode():an.EMPTY_NODE,o))}(i.serverSyncTree_,e);return null!=t?Promise.resolve(t):i.server_.get(e).then(r=>{const o=nr(r).withIndex(e._queryParams.getIndex());let c;if(B6(i.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())c=VC(i.serverSyncTree_,e._path,o);else{const d=BC(i.serverSyncTree_,e);c=aF(i.serverSyncTree_,e._path,o,d)}return va(i.eventQueue_,e._path,c),DS(i.serverSyncTree_,e,n,null,!0),o},r=>(h0(i,"get for query "+(0,z.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(i._repo,i,n).then(t=>new $g(t,new ul(i._repo,i._path),i._queryParams.getIndex()))}class $C{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const t=n._queryParams.getIndex();return new MF("value",this,new $g(e.snapshotNode,new ul(n._repo,n._path),t))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kF(this,e,n):null}matches(e){return e instanceof $C&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class US{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kF(this,e,n):null}createEvent(e,n){(0,z.hu)(null!=e.childName,"Child events should have a childName.");const t=Wg(new ul(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new MF(e.type,this,new $g(e.snapshotNode,t,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof US&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function WC(i,e,n,t,r){let o;if("object"==typeof t&&(o=void 0,r=t),"function"==typeof t&&(o=t),r&&r.onlyOnce){const f=n,_=(b,T)=>{eR(i._repo,i,d),f(b,T)};_.userCallback=n.userCallback,_.context=n.context,n=_}const c=new sR(n,o||void 0),d="value"===e?new $C(c):new US(e,c);return function Kj(i,e,n){let t;t=".info"===gn(e._path)?B6(i.infoSyncTree_,e,n):B6(i.serverSyncTree_,e,n),yF(i.eventQueue_,e._path,t)}(i._repo,i,d),()=>eR(i._repo,i,d)}function aR(i,e,n,t){return WC(i,"value",e,n,t)}function NF(i,e,n,t){return WC(i,"child_added",e,n,t)}function LF(i,e,n,t){return WC(i,"child_changed",e,n,t)}function FF(i,e,n,t){return WC(i,"child_moved",e,n,t)}function VF(i,e,n,t){return WC(i,"child_removed",e,n,t)}function BF(i,e,n){let t=null;const r=n?new sR(n):null;"value"===e?t=new $C(r):e&&(t=new US(e,r)),eR(i._repo,i,t)}class ic{}class UF extends ic{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){cu("endAt",this._value,e._path,!0);const n=C6(e._queryParams,this._value,this._key);if(BS(n),Yp(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wo(e._repo,e._path,n,e._orderByCalled)}}class hq extends ic{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){cu("endBefore",this._value,e._path,!1);const n=function bz(i,e,n){let t;return t=C6(i,e,i.index_===au||n?n:Up),t.endBeforeSet_=!0,t}(e._queryParams,this._value,this._key);if(BS(n),Yp(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wo(e._repo,e._path,n,e._orderByCalled)}}class HF extends ic{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){cu("startAt",this._value,e._path,!0);const n=b6(e._queryParams,this._value,this._key);if(BS(n),Yp(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Wo(e._repo,e._path,n,e._orderByCalled)}}class mq extends ic{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){cu("startAfter",this._value,e._path,!1);const n=function wz(i,e,n){let t;return t=b6(i,e,i.index_===au||n?n:zd),t.startAfterSet_=!0,t}(e._queryParams,this._value,this._key);if(BS(n),Yp(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Wo(e._repo,e._path,n,e._orderByCalled)}}class _q extends ic{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wo(e._repo,e._path,function yz(i,e){const n=i.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class vq extends ic{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wo(e._repo,e._path,function vz(i,e){const n=i.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class bq extends ic{constructor(e){super(),this._path=e}_apply(e){VS(e,"orderByChild");const n=new Yn(this._path);if(_n(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const t=new y6(n),r=mS(e._queryParams,t);return Yp(r),new Wo(e._repo,e._path,r,!0)}}class Iq extends ic{_apply(e){VS(e,"orderByKey");const n=mS(e._queryParams,au);return Yp(n),new Wo(e._repo,e._path,n,!0)}}class Eq extends ic{_apply(e){VS(e,"orderByPriority");const n=mS(e._queryParams,Ti);return Yp(n),new Wo(e._repo,e._path,n,!0)}}class Sq extends ic{_apply(e){VS(e,"orderByValue");const n=mS(e._queryParams,v6);return Yp(n),new Wo(e._repo,e._path,n,!0)}}class Aq extends ic{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(cu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new UF(this._value,this._key)._apply(new HF(this._value,this._key)._apply(e))}}function rc(i,...e){let n=(0,z.m9)(i);for(const t of e)n=t._apply(n);return n}(function cj(i){(0,z.hu)(!ES,"__referenceConstructor has already been defined"),ES=i})(ul),function fj(i){(0,z.hu)(!SS,"__referenceConstructor has already been defined"),SS=i}(ul);const lR={};function jF(i,e,n,t,r){let o=t||i.options.databaseURL;void 0===o&&(i.options.projectId||ou("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ws("Using default host for project ",i.options.projectId),o=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f,_,c=rR(o,r),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(f=!0,o=`http://${_}?ns=${d.namespace}`,c=rR(o,r),d=c.repoInfo):f=!c.repoInfo.secure;const b=r&&f?new xC(xC.OWNER):new TH(i.name,i.options,e);_F("Invalid Firebase Database URL",c),_n(c.path)||ou("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function Oq(i,e,n,t){let r=lR[e.name];r||(r={},lR[e.name]=r);let o=r[i.toURLString()];return o&&ou("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Hj(i,false,n,t),r[i.toURLString()]=o,o}(d,i,b,new IH(i.name,n));return new Lq(T,i)}class Lq{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function zj(i,e,n){if(i.stats_=c6(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new gS(i.repoInfo_,(t,r,o,c)=>{CF(i,t,r,o,c)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>IF(i,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,z.Wl)(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}i.persistentConnection_=new zg(i.repoInfo_,e,(t,r,o,c)=>{CF(i,t,r,o,c)},t=>{IF(i,t)},t=>{!function jj(i,e){bs(e,(n,t)=>{J6(i,n,t)})}(i,t)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(t=>{i.server_.refreshAuthToken(t)}),i.appCheckProvider_.addTokenChangeListener(t=>{i.server_.refreshAppCheckToken(t.token)}),i.statsReporter_=function SH(i,e){const n=i.toString();return l6[n]||(l6[n]=e()),l6[n]}(i.repoInfo_,()=>new Sz(i.stats_,i.server_)),i.infoData_=new Cz,i.infoSyncTree_=new oF({startListening:(t,r,o,c)=>{let d=[];const f=i.infoData_.getNode(t._path);return f.isEmpty()||(d=VC(i.infoSyncTree_,t._path,f),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),J6(i,"connected",!1),i.serverSyncTree_=new oF({startListening:(t,r,o,c)=>(i.server_.listen(t,o,r,(d,f)=>{const _=c(d,f);va(i.eventQueue_,t._path,_)}),[]),stopListening:(t,r)=>{i.server_.unlisten(t,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ul(this._repo,Ln())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Rq(i,e){const n=lR[e];(!n||n[i.key]!==i)&&ou(`Database ${e}(${i.repoInfo_}) has already been deleted.`),EF(i),delete n[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ou("Cannot call "+e+" on a deleted database.")}}function qF(){h5.IS_TRANSPORT_INITIALIZED&&io("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Fq(){qF(),Hp.forceDisallow()}function Vq(){qF(),r0.forceDisallow(),Hp.forceAllow()}function Hq(i,e){GL(i,e)}const jq={".sv":"timestamp"};class Zq{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}zg.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)},zg.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)},function zq(i){UL(ti.SDK_VERSION),(0,ti._registerComponent)(new ca.wA("database",(e,{instanceIdentifier:n})=>jF(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,ti.registerVersion)(VL,"0.14.1",i),(0,ti.registerVersion)(VL,"0.14.1","esm2017")}();const Kq=new Ka.Yd("@firebase/database-compat"),ZF=function(i){Kq.warn("FIREBASE WARNING: "+i)};class Xq{constructor(e){this._delegate=e}cancel(e){(0,z.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,z.Wj)("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),t=>e(t)),n}remove(e){(0,z.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,z.Wj)("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),t=>e(t)),n}set(e,n){(0,z.Dv)("OnDisconnect.set",1,2,arguments.length),(0,z.Wj)("OnDisconnect.set","onComplete",n,!0);const t=this._delegate.set(e);return n&&t.then(()=>n(null),r=>n(r)),t}setWithPriority(e,n,t){(0,z.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,z.Wj)("OnDisconnect.setWithPriority","onComplete",t,!0);const r=this._delegate.setWithPriority(e,n);return t&&r.then(()=>t(null),o=>t(o)),r}update(e,n){if((0,z.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,ZF("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,z.Wj)("OnDisconnect.update","onComplete",n,!0);const t=this._delegate.update(e);return n&&t.then(()=>n(null),r=>n(r)),t}}class eG{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return(0,z.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Kp{constructor(e,n){this._database=e,this._delegate=n}val(){return(0,z.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,z.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,z.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,z.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,z.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),GC("DataSnapshot.child","path",e,!1),new Kp(this._database,this._delegate.child(e))}hasChild(e){return(0,z.Dv)("DataSnapshot.hasChild",1,1,arguments.length),GC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,z.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,z.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,z.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Kp(this._database,n)))}hasChildren(){return(0,z.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,z.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,z.Dv)("DataSnapshot.ref",0,0,arguments.length),new wa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Us{constructor(e,n){this.database=e,this._delegate=n}on(e,n,t,r){var o;(0,z.Dv)("Query.on",2,4,arguments.length),(0,z.Wj)("Query.on","callback",n,!1);const c=Us.getCancelAndContextArgs_("Query.on",t,r),d=(_,b)=>{n.call(c.context,new Kp(this.database,_),b)};d.userCallback=n,d.context=c.context;const f=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(e){case"value":return aR(this._delegate,d,f),n;case"child_added":return NF(this._delegate,d,f),n;case"child_removed":return VF(this._delegate,d,f),n;case"child_changed":return LF(this._delegate,d,f),n;case"child_moved":return FF(this._delegate,d,f),n;default:throw new Error((0,z.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,t){if((0,z.Dv)("Query.off",0,3,arguments.length),function(i,e,n){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,z.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,z.Wj)("Query.off","callback",n,!0),(0,z.lb)("Query.off","context",t,!0),n){const r=()=>{};r.userCallback=n,r.context=t,BF(this._delegate,e,r)}else BF(this._delegate,e)}get(){return uq(this._delegate).then(e=>new Kp(this.database,e))}once(e,n,t,r){(0,z.Dv)("Query.once",1,4,arguments.length),(0,z.Wj)("Query.once","callback",n,!0);const o=Us.getCancelAndContextArgs_("Query.once",t,r),c=new z.BH,d=(_,b)=>{const T=new Kp(this.database,_);n&&n.call(o.context,T,b),c.resolve(T)};d.userCallback=n,d.context=o.context;const f=_=>{o.cancel&&o.cancel.call(o.context,_),c.reject(_)};switch(e){case"value":aR(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":NF(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":VF(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":LF(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":FF(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,z.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,z.Dv)("Query.limitToFirst",1,1,arguments.length),new Us(this.database,rc(this._delegate,function yq(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new _q(i)}(e)))}limitToLast(e){return(0,z.Dv)("Query.limitToLast",1,1,arguments.length),new Us(this.database,rc(this._delegate,function wq(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vq(i)}(e)))}orderByChild(e){return(0,z.Dv)("Query.orderByChild",1,1,arguments.length),new Us(this.database,rc(this._delegate,function Cq(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return GC("orderByChild","path",i,!1),new bq(i)}(e)))}orderByKey(){return(0,z.Dv)("Query.orderByKey",0,0,arguments.length),new Us(this.database,rc(this._delegate,function Tq(){return new Iq}()))}orderByPriority(){return(0,z.Dv)("Query.orderByPriority",0,0,arguments.length),new Us(this.database,rc(this._delegate,function xq(){return new Eq}()))}orderByValue(){return(0,z.Dv)("Query.orderByValue",0,0,arguments.length),new Us(this.database,rc(this._delegate,function Dq(){return new Sq}()))}startAt(e=null,n){return(0,z.Dv)("Query.startAt",0,2,arguments.length),new Us(this.database,rc(this._delegate,function fq(i=null,e){return qC("startAt","key",e,!0),new HF(i,e)}(e,n)))}startAfter(e=null,n){return(0,z.Dv)("Query.startAfter",0,2,arguments.length),new Us(this.database,rc(this._delegate,function gq(i,e){return qC("startAfter","key",e,!0),new mq(i,e)}(e,n)))}endAt(e=null,n){return(0,z.Dv)("Query.endAt",0,2,arguments.length),new Us(this.database,rc(this._delegate,function dq(i,e){return qC("endAt","key",e,!0),new UF(i,e)}(e,n)))}endBefore(e=null,n){return(0,z.Dv)("Query.endBefore",0,2,arguments.length),new Us(this.database,rc(this._delegate,function pq(i,e){return qC("endBefore","key",e,!0),new hq(i,e)}(e,n)))}equalTo(e,n){return(0,z.Dv)("Query.equalTo",1,2,arguments.length),new Us(this.database,rc(this._delegate,function Mq(i,e){return qC("equalTo","key",e,!0),new Aq(i,e)}(e,n)))}toString(){return(0,z.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,z.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,z.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Us))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,t){const r={cancel:void 0,context:void 0};if(n&&t)r.cancel=n,(0,z.Wj)(e,"cancel",r.cancel,!0),r.context=t,(0,z.lb)(e,"context",r.context,!0);else if(n)if("object"==typeof n&&null!==n)r.context=n;else{if("function"!=typeof n)throw new Error((0,z.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=n}return r}get ref(){return new wa(this.database,new ul(this._delegate._repo,this._delegate._path))}}class wa extends Us{constructor(e,n){super(e,new Wo(n._repo,n._path,new fS,!1)),this.database=e,this._delegate=n}getKey(){return(0,z.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,z.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new wa(this.database,Wg(this._delegate,e))}getParent(){(0,z.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new wa(this.database,e):null}getRoot(){return(0,z.Dv)("Reference.root",0,0,arguments.length),new wa(this.database,this._delegate.root)}set(e,n){(0,z.Dv)("Reference.set",1,2,arguments.length),(0,z.Wj)("Reference.set","onComplete",n,!0);const t=oR(this._delegate,e);return n&&t.then(()=>n(null),r=>n(r)),t}update(e,n){if((0,z.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,ZF("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}cl("Reference.update",this._delegate._path),(0,z.Wj)("Reference.update","onComplete",n,!0);const t=cq(this._delegate,e);return n&&t.then(()=>n(null),r=>n(r)),t}setWithPriority(e,n,t){(0,z.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,z.Wj)("Reference.setWithPriority","onComplete",t,!0);const r=function lq(i,e,n){if(cl("setWithPriority",i._path),cu("setWithPriority",e,i._path,!1),Q6("setWithPriority",n,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const t=new z.BH;return X6(i._repo,i._path,e,n,t.wrapCallback(()=>{})),t.promise}(this._delegate,e,n);return t&&r.then(()=>t(null),o=>t(o)),r}remove(e){(0,z.Dv)("Reference.remove",0,1,arguments.length),(0,z.Wj)("Reference.remove","onComplete",e,!0);const n=function oq(i){return cl("remove",i._path),oR(i,null)}(this._delegate);return e&&n.then(()=>e(null),t=>e(t)),n}transaction(e,n,t){(0,z.Dv)("Reference.transaction",1,3,arguments.length),(0,z.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,z.Wj)("Reference.transaction","onComplete",n,!0),function(i,e,n,t){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,z.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,t);const r=function $q(i,e,n){var t;if(i=(0,z.m9)(i),cl("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const r=null===(t=n?.applyLocally)||void 0===t||t,o=new z.BH,d=aR(i,()=>{});return function Jj(i,e,n,t,r,o){h0(i,"transaction on "+e);const c={path:e,update:n,onComplete:t,status:null,order:zL(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=tR(i,e,void 0);c.currentInputSnapshot=d;const f=c.update(d.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{jC("transaction failed: Data returned ",f,c.path),c.status=0;const _=kS(i.transactionQueueTree_,e),b=Zg(_)||[];let T;b.push(c),W6(_,b),"object"==typeof f&&null!==f&&(0,z.r3)(f,".priority")?(T=(0,z.DV)(f,".priority"),(0,z.hu)(zC(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(AS(i.serverSyncTree_,e)||an.EMPTY_NODE).getPriority().val();const M=ZC(i),R=nr(f,T),B=G6(R,d,M);c.currentOutputSnapshotRaw=R,c.currentOutputSnapshotResolved=B,c.currentWriteId=NS(i);const K=V6(i.serverSyncTree_,e,B,c.currentWriteId,c.applyLocally);va(i.eventQueue_,e,K),LS(i,i.transactionQueueTree_)}}(i._repo,i._path,e,(f,_,b)=>{let T=null;f?o.reject(f):(T=new $g(b,new ul(i._repo,i._path),Ti),o.resolve(new Zq(_,T)))},d,r),o.promise}(this._delegate,e,{applyLocally:t}).then(o=>new eG(o.committed,new Kp(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(e,n){(0,z.Dv)("Reference.setPriority",1,2,arguments.length),(0,z.Wj)("Reference.setPriority","onComplete",n,!0);const t=function aq(i,e){i=(0,z.m9)(i),cl("setPriority",i._path),Q6("setPriority",e,!1);const n=new z.BH;return X6(i._repo,Gi(i._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return n&&t.then(()=>n(null),r=>n(r)),t}push(e,n){(0,z.Dv)("Reference.push",0,2,arguments.length),(0,z.Wj)("Reference.push","onComplete",n,!0);const t=function sq(i,e){i=(0,z.m9)(i),cl("push",i._path),cu("push",e,i._path,!0);const n=bF(i._repo),t=rq(n),r=Wg(i,t),o=Wg(i,t);let c;return c=null!=e?oR(o,e).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=t.then(c=>new wa(this.database,c));n&&r.then(()=>n(null),c=>n(c));const o=new wa(this.database,t);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return cl("Reference.onDisconnect",this._delegate._path),new Xq(new PF(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class YC{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Fq,forceLongPolling:Vq}}useEmulator(e,n,t={}){!function GF(i,e,n,t={}){(i=(0,z.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&ou("Cannot call useEmulator() after instance has already been initialized.");const r=i._repoInternal;let o;if(r.repoInfo_.nodeAdmin)t.mockUserToken&&ou('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new xC(xC.OWNER);else if(t.mockUserToken){const c="string"==typeof t.mockUserToken?t.mockUserToken:(0,z.Sg)(t.mockUserToken,i.app.options.projectId);o=new xC(c)}!function Pq(i,e,n,t){i.repoInfo_=new o6(`${e}:${n}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),t&&(i.authTokenProvider_=t)}(r,e,n,o)}(this._delegate,e,n,t)}ref(e){if((0,z.Dv)("database.ref",0,1,arguments.length),e instanceof wa){const n=OF(this._delegate,e.toString());return new wa(this,n)}{const n=RF(this._delegate,e);return new wa(this,n)}}refFromURL(e){(0,z.Dv)("database.refFromURL",1,1,arguments.length);const t=OF(this._delegate,e);return new wa(this,t)}goOffline(){return(0,z.Dv)("database.goOffline",0,0,arguments.length),function Bq(i){(i=(0,z.m9)(i))._checkNotDeleted("goOffline"),EF(i._repo)}(this._delegate)}goOnline(){return(0,z.Dv)("database.goOnline",0,0,arguments.length),function Uq(i){(i=(0,z.m9)(i))._checkNotDeleted("goOnline"),function Qj(i){i.persistentConnection_&&i.persistentConnection_.resume(wF)}(i._repo)}(this._delegate)}}YC.ServerValue={TIMESTAMP:function qq(){return jq}(),increment:i=>function Gq(i){return{".sv":{increment:i}}}(i)};var nG=Object.freeze({__proto__:null,initStandalone:function tG({app:i,url:e,version:n,customAuthImpl:t,namespace:r,nodeAdmin:o=!1}){UL(n);const c=new ca.zt("auth-internal",new ca.H0("database-standalone"));return c.setComponent(new ca.wA("auth-internal",()=>t,"PRIVATE")),{instance:new YC(jF(i,c,void 0,e,o),i),namespace:r}}});const iG=YC.ServerValue;function $F(i){return null==i}function WF(i){return"function"==typeof i.set}function YF(i,e){return WF(e)?e:i.ref(e)}function KF(i,e){if(function sG(i){return"string"==typeof i}(i))return e.stringCase();if(WF(i))return e.firebaseCase();if(function oG(i){return"function"==typeof i.exportVal}(i))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function KC(i,e,n="on",t=Tm.z){return new Os.y(r=>{let o=null;return o=i[n](e,(c,d)=>{t.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===n&&t.schedule(()=>r.complete())},c=>{t.schedule(()=>r.error(c))}),"on"===n?{unsubscribe(){null!=o&&i.off(e,o)}}:{unsubscribe(){}}}).pipe((0,zt.U)(r=>{const{snapshot:o,prevKey:c}=r;let d=null;return o.exists()&&(d=o.key),{type:e,payload:o,prevKey:c,key:d}}),(0,P1.B)())}function QF(i,e){const n=i.length;for(let t=0;t<n;t++)if(i[t].payload.key===e)return t;return-1}function cG(i,e){const{payload:n,prevKey:t,key:r}=e,o=QF(i,r),c=function lG(i,e){if($F(e))return 0;{const n=QF(i,e);return-1===n?i.length:n+1}}(i,t);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(f=>{const _={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,i=[...i,_],!1})}return i;case"child_added":if(o>-1){const d=i[o-1];(d&&d.key||null)!==t&&(i=i.filter(f=>f.payload.key!==n.key)).splice(c,0,e)}else{if(null==t)return[e,...i];(i=i.slice()).splice(c,0,e)}return i;case"child_removed":return i.filter(d=>d.payload.key!==n.key);case"child_changed":return i.map(d=>d.payload.key===r?e:d);case"child_moved":if(o>-1){const d=i.splice(o,1)[0];return(i=i.slice()).splice(c,0,d),i}return i;default:return i}}function JF(i){return($F(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function XF(i,e,n){return function aG(i,e,n){return KC(i,"value","once",n).pipe((0,Ji.w)(t=>{const r=[(0,kt.of)(t)];return e.forEach(o=>r.push(KC(i,o,"on",n))),(0,dy.T)(...r).pipe(sp(cG,[]))}),(0,Uw.x)())}(i,e=JF(e),n)}function e7(i,e,n){const t=(e=JF(e)).map(r=>KC(i,r,"on",n));return(0,dy.T)(...t)}function t7(i,e){return function(t,r){return KF(t,{stringCase:()=>i.child(t)[e](r),firebaseCase:()=>t[e](r),snapshotCase:()=>t.ref[e](r)})}}function pG(i){return function(n){return n?KF(n,{stringCase:()=>i.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):i.remove()}}function n7(i,e){return function(){return KC(i,"value","on",e)}}!function rG(i){i.INTERNAL.registerComponent(new ca.wA("database-compat",(e,{instanceIdentifier:n})=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:n});return new YC(r,t)},"PUBLIC").setServiceProps({Reference:wa,Query:Us,Database:YC,DataSnapshot:Kp,enableLogging:Hq,INTERNAL:nG,ServerValue:iG}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.3.1")}(Em.Z);const gG=new s.OlP("angularfire2.realtimeDatabaseURL"),_G=new s.OlP("angularfire2.database.use-emulator");let yG=(()=>{class i{constructor(n,t,r,o,c,d,f,_,b,T,M,R,B,K,te){this.schedulers=d;const _e=f,Ne=(0,Cr.on)(n,c,t);_&&rw(Ne,c,b,M,R,B,T,K),this.database=(0,Cr.cc)(`${Ne.name}.database.${r}`,"AngularFireDatabase",Ne.name,()=>{const Ue=c.runOutsideAngular(()=>Ne.database(r||void 0));return _e&&Ue.useEmulator(..._e),Ue},[_e])}list(n,t){const r=this.schedulers.ngZone.runOutsideAngular(()=>YF(this.database,n));let o=r;return t&&(o=t(r)),function fG(i,e){const n=e.schedulers.outsideAngular,t=e.schedulers.ngZone.run(()=>i.ref);return{query:i,update:t7(t,"update"),set:t7(t,"set"),push:r=>t.push(r),remove:pG(t),snapshotChanges:r=>XF(i,r,n).pipe(In.iC),stateChanges:r=>e7(i,r,n).pipe(In.iC),auditTrail:r=>function uG(i,e,n){return function hG(i,e,n){return function dG(i,e){return KC(i,"value","on",e).pipe((0,zt.U)(n=>{let t;return n.payload.forEach(r=>(t=r.key,!1)),{data:n,lastKeyToLoad:t}}))}(i,n).pipe(function cH(...i){const e=(0,ed.jO)(i);return(0,Ir.e)((n,t)=>{const r=i.length,o=new Array(r);let c=i.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,Ih.Xf)(i[f]).subscribe((0,Qi.x)(t,_=>{o[f]=_,!d&&!c[f]&&(c[f]=!0,(d=c.every(Ya.y))&&(c=null))},FL.Z));n.subscribe((0,Qi.x)(t,f=>{if(d){const _=[f,...o];t.next(e?e(..._):_)}}))})}(e),(0,zt.U)(([r,o])=>{const c=r.lastKeyToLoad,d=o.map(f=>f.key);return{actions:o,lastKeyToLoad:c,loadedKeys:d}}),function uH(i){return(0,Ir.e)((e,n)=>{let t=!1,r=0;e.subscribe((0,Qi.x)(n,o=>(t||(t=!i(o,r++)))&&n.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,zt.U)(r=>r.actions))}(i,e7(i,e).pipe(sp((r,o)=>[...r,o],[])),n)}(i,r,n).pipe(In.iC),valueChanges:(r,o)=>XF(i,r,n).pipe((0,zt.U)(d=>d.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),In.iC)}}(o,this)}object(n){return function mG(i,e){return{query:i,snapshotChanges:()=>n7(i,e.schedulers.outsideAngular)().pipe(In.iC),update:n=>i.ref.update(n),set:n=>i.ref.set(n),remove:()=>i.ref.remove(),valueChanges:()=>n7(i,e.schedulers.outsideAngular)().pipe(In.iC,(0,zt.U)(t=>t.payload.exists()?t.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>YF(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(n){return new(n||i)(s.LFG(Cr.Dh),s.LFG(Cr.xv,8),s.LFG(gG,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(In.HU),s.LFG(_G,8),s.LFG(Iy,8),s.LFG(tw,8),s.LFG(cE,8),s.LFG(uE,8),s.LFG(nw,8),s.LFG(iw,8),s.LFG(dE,8),s.LFG(Ja,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),vG=(()=>{class i{constructor(){Im.Z.registerVersion("angularfire",In.q4.full,"rtdb-compat")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[yG]}),i})();function QC(i){return(QC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(i)}function m(i,e,n){return(e=function bG(i){var e=function wG(i,e){if("object"!==QC(i)||null===i)return i;var n=i[Symbol.toPrimitive];if(void 0!==n){var t=n.call(i,e||"default");if("object"!==QC(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(i)}(i,"string");return"symbol"===QC(e)?e:String(e)}(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}var ba=U(5619),IG=U(7103);function cR(...i){const e=(0,ed.yG)(i),n=(0,ed.jO)(i),{args:t,keys:r}=eT(i);if(0===t.length)return(0,Wn.D)([],e);const o=new Os.y(function TG(i,e,n=Ya.y){return t=>{r7(e,()=>{const{length:r}=i,o=new Array(r);let c=r,d=r;for(let f=0;f<r;f++)r7(e,()=>{const _=(0,Wn.D)(i[f],e);let b=!1;_.subscribe((0,Qi.x)(t,T=>{o[f]=T,b||(b=!0,d--),d||t.next(n(o.slice()))},()=>{--c||t.complete()}))},t)},t)}}(t,e,r?c=>ZD(r,c):Ya.y));return n?o.pipe(tT(n)):o}function r7(i,e,n){i?(0,IG.f)(n,i,e):e()}function s7(i){return new Os.y(e=>{(0,Ih.Xf)(i()).subscribe(e)})}var EG=U(8407);function JC(i,e){const n=(0,dm.m)(i)?i:()=>i,t=r=>r.error(n());return new Os.y(e?r=>e.schedule(t,0,r):t)}var o7=U(7394);function uR(){return(0,Ir.e)((i,e)=>{let n=null;i._refCount++;const t=(0,Qi.x)(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(n=null);const r=i._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});i.subscribe(t),t.closed||(n=i.connect())})}class a7 extends Os.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,Ir.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new o7.w0;const n=this.getSubject();e.add(this.source.subscribe((0,Qi.x)(n,void 0,()=>{this._teardown(),n.complete()},t=>{this._teardown(),n.error(t)},()=>this._teardown()))),e.closed&&(this._connection=null,e=o7.w0.EMPTY)}return e}refCount(){return uR()(this)}}var Eo=U(1631);function f0(i,e){return(0,dm.m)(e)?(0,Eo.z)(i,e,1):(0,Eo.z)(i,1)}var xo=U(9397);function Yg(i){return(0,Ir.e)((e,n)=>{let o,t=null,r=!1;t=e.subscribe((0,Qi.x)(n,void 0,void 0,c=>{o=(0,Ih.Xf)(i(c,Yg(i)(e))),t?(t.unsubscribe(),t=null,o.subscribe(n)):r=!0})),r&&(t.unsubscribe(),t=null,o.subscribe(n))})}function dR(i){return i<=0?()=>Hl.E:(0,Ir.e)((e,n)=>{let t=[];e.subscribe((0,Qi.x)(n,r=>{t.push(r),i<t.length&&t.shift()},()=>{for(const r of t)n.next(r);n.complete()},void 0,()=>{t=null}))})}function XC(i){return(0,Ir.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(i)}})}const cn="primary",eI=Symbol("RouteTitle");class DG{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function m0(i){return new DG(i)}function AG(i,e,n){const t=n.path.split("/");if(t.length>i.length||"full"===n.pathMatch&&(e.hasChildren()||t.length<i.length))return null;const r={};for(let o=0;o<t.length;o++){const c=t[o],d=i[o];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:i.slice(0,t.length),posParams:r}}function uu(i,e){const n=i?Object.keys(i):void 0,t=e?Object.keys(e):void 0;if(!n||!t||n.length!=t.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!l7(i[r],e[r]))return!1;return!0}function l7(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const n=[...i].sort(),t=[...e].sort();return n.every((r,o)=>t[o]===r)}return i===e}function c7(i){return i.length>0?i[i.length-1]:null}function Qp(i){return function CG(i){return!!i&&(i instanceof Os.y||(0,dm.m)(i.lift)&&(0,dm.m)(i.subscribe))}(i)?i:(0,s.QGY)(i)?(0,Wn.D)(Promise.resolve(i)):(0,kt.of)(i)}const kG={exact:function h7(i,e,n){if(!Kg(i.segments,e.segments)||!HS(i.segments,e.segments,n)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const t in e.children)if(!i.children[t]||!h7(i.children[t],e.children[t],n))return!1;return!0},subset:p7},u7={exact:function PG(i,e){return uu(i,e)},subset:function RG(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(n=>l7(i[n],e[n]))},ignored:()=>!0};function d7(i,e,n){return kG[n.paths](i.root,e.root,n.matrixParams)&&u7[n.queryParams](i.queryParams,e.queryParams)&&!("exact"===n.fragment&&i.fragment!==e.fragment)}function p7(i,e,n){return f7(i,e,e.segments,n)}function f7(i,e,n,t){if(i.segments.length>n.length){const r=i.segments.slice(0,n.length);return!(!Kg(r,n)||e.hasChildren()||!HS(r,n,t))}if(i.segments.length===n.length){if(!Kg(i.segments,n)||!HS(i.segments,n,t))return!1;for(const r in e.children)if(!i.children[r]||!p7(i.children[r],e.children[r],t))return!1;return!0}{const r=n.slice(0,i.segments.length),o=n.slice(i.segments.length);return!!(Kg(i.segments,r)&&HS(i.segments,r,t)&&i.children[cn])&&f7(i.children[cn],e,o,t)}}function HS(i,e,n){return e.every((t,r)=>u7[n](i[r].parameters,t.parameters))}class g0{constructor(e=new ii([],{}),n={},t=null){this.root=e,this.queryParams=n,this.fragment=t}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=m0(this.queryParams)),this._queryParamMap}toString(){return LG.serialize(this)}}class ii{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zS(this)}}class tI{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=m0(this.parameters)),this._parameterMap}toString(){return _7(this)}}function Kg(i,e){return i.length===e.length&&i.every((n,t)=>n.path===e[t].path)}let nI=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return new hR},providedIn:"root"}),e})();class hR{parse(e){const n=new $G(e);return new g0(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${iI(e.root,!0)}`,t=function BG(i){const e=Object.keys(i).map(n=>{const t=i[n];return Array.isArray(t)?t.map(r=>`${jS(n)}=${jS(r)}`).join("&"):`${jS(n)}=${jS(t)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function FG(i){return encodeURI(i)}(e.fragment)}`:"";return`${n}${t}${r}`}}const LG=new hR;function zS(i){return i.segments.map(e=>_7(e)).join("/")}function iI(i,e){if(!i.hasChildren())return zS(i);if(e){const n=i.children[cn]?iI(i.children[cn],!1):"",t=[];return Object.entries(i.children).forEach(([r,o])=>{r!==cn&&t.push(`${r}:${iI(o,!1)}`)}),t.length>0?`${n}(${t.join("//")})`:n}{const n=function NG(i,e){let n=[];return Object.entries(i.children).forEach(([t,r])=>{t===cn&&(n=n.concat(e(r,t)))}),Object.entries(i.children).forEach(([t,r])=>{t!==cn&&(n=n.concat(e(r,t)))}),n}(i,(t,r)=>r===cn?[iI(i.children[cn],!1)]:[`${r}:${iI(t,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[cn]?`${zS(i)}/${n[0]}`:`${zS(i)}/(${n.join("//")})`}}function m7(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jS(i){return m7(i).replace(/%3B/gi,";")}function pR(i){return m7(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qS(i){return decodeURIComponent(i)}function g7(i){return qS(i.replace(/\+/g,"%20"))}function _7(i){return`${pR(i.path)}${function VG(i){return Object.keys(i).map(e=>`;${pR(e)}=${pR(i[e])}`).join("")}(i.parameters)}`}const UG=/^[^\/()?;#]+/;function fR(i){const e=i.match(UG);return e?e[0]:""}const HG=/^[^\/()?;=#]+/,jG=/^[^=?&#]+/,GG=/^[^&#]+/;class $G{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ii([],{}):new ii([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(t[cn]=new ii(e,n)),t}parseSegment(){const e=fR(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(e),new tI(qS(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function zG(i){const e=i.match(HG);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let t="";if(this.consumeOptional("=")){const r=fR(this.remaining);r&&(t=r,this.capture(t))}e[qS(n)]=qS(t)}parseQueryParam(e){const n=function qG(i){const e=i.match(jG);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let t="";if(this.consumeOptional("=")){const c=function ZG(i){const e=i.match(GG);return e?e[0]:""}(this.remaining);c&&(t=c,this.capture(t))}const r=g7(n),o=g7(t);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(o)}else e[r]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const t=fR(this.remaining),r=this.remaining[t.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;t.indexOf(":")>-1?(o=t.slice(0,t.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=cn);const c=this.parseChildren();n[o]=1===Object.keys(c).length?c[cn]:new ii([],c),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,!1)}}function y7(i){return i.segments.length>0?new ii([],{[cn]:i}):i}function v7(i){const e={};for(const t of Object.keys(i.children)){const o=v7(i.children[t]);if(t===cn&&0===o.segments.length&&o.hasChildren())for(const[c,d]of Object.entries(o.children))e[c]=d;else(o.segments.length>0||o.hasChildren())&&(e[t]=o)}return function WG(i){if(1===i.numberOfChildren&&i.children[cn]){const e=i.children[cn];return new ii(i.segments.concat(e.segments),e.children)}return i}(new ii(i.segments,e))}function Qg(i){return i instanceof g0}function w7(i){let e;const r=y7(function n(o){const c={};for(const f of o.children){const _=n(f);c[f.outlet]=_}const d=new ii(o.url,c);return o===i&&(e=d),d}(i.root));return e??r}function b7(i,e,n,t){let r=i;for(;r.parent;)r=r.parent;if(0===e.length)return mR(r,r,r,n,t);const o=function KG(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new I7(!0,0,i);let e=0,n=!1;const t=i.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return Object.entries(o.outlets).forEach(([f,_])=>{d[f]="string"==typeof _?_.split("/"):_}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?n=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,o]},[]);return new I7(n,e,t)}(e);if(o.toRoot())return mR(r,r,new ii([],{}),n,t);const c=function QG(i,e,n){if(i.isAbsolute)return new ZS(e,!0,0);if(!n)return new ZS(e,!1,NaN);if(null===n.parent)return new ZS(n,!0,0);const t=GS(i.commands[0])?0:1;return function JG(i,e,n){let t=i,r=e,o=n;for(;o>r;){if(o-=r,t=t.parent,!t)throw new s.vHH(4005,!1);r=t.segments.length}return new ZS(t,!1,r-o)}(n,n.segments.length-1+t,i.numberOfDoubleDots)}(o,r,i),d=c.processChildren?sI(c.segmentGroup,c.index,o.commands):T7(c.segmentGroup,c.index,o.commands);return mR(r,c.segmentGroup,d,n,t)}function GS(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function rI(i){return"object"==typeof i&&null!=i&&i.outlets}function mR(i,e,n,t,r){let c,o={};t&&Object.entries(t).forEach(([f,_])=>{o[f]=Array.isArray(_)?_.map(b=>`${b}`):`${_}`}),c=i===e?n:C7(i,e,n);const d=y7(v7(c));return new g0(d,o,r)}function C7(i,e,n){const t={};return Object.entries(i.children).forEach(([r,o])=>{t[r]=o===e?n:C7(o,e,n)}),new ii(i.segments,t)}class I7{constructor(e,n,t){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=t,e&&t.length>0&&GS(t[0]))throw new s.vHH(4003,!1);const r=t.find(rI);if(r&&r!==c7(t))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ZS{constructor(e,n,t){this.segmentGroup=e,this.processChildren=n,this.index=t}}function T7(i,e,n){if(i||(i=new ii([],{})),0===i.segments.length&&i.hasChildren())return sI(i,e,n);const t=function eZ(i,e,n){let t=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(t>=n.length)return o;const c=i.segments[r],d=n[t];if(rI(d))break;const f=`${d}`,_=t<n.length-1?n[t+1]:null;if(r>0&&void 0===f)break;if(f&&_&&"object"==typeof _&&void 0===_.outlets){if(!x7(f,_,c))return o;t+=2}else{if(!x7(f,{},c))return o;t++}r++}return{match:!0,pathIndex:r,commandIndex:t}}(i,e,n),r=n.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){const o=new ii(i.segments.slice(0,t.pathIndex),{});return o.children[cn]=new ii(i.segments.slice(t.pathIndex),i.children),sI(o,0,r)}return t.match&&0===r.length?new ii(i.segments,{}):t.match&&!i.hasChildren()?gR(i,e,n):t.match?sI(i,0,r):gR(i,e,n)}function sI(i,e,n){if(0===n.length)return new ii(i.segments,{});{const t=function XG(i){return rI(i[0])?i[0].outlets:{[cn]:i}}(n),r={};if(Object.keys(t).some(o=>o!==cn)&&i.children[cn]&&1===i.numberOfChildren&&0===i.children[cn].segments.length){const o=sI(i.children[cn],e,n);return new ii(i.segments,o.children)}return Object.entries(t).forEach(([o,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(r[o]=T7(i.children[o],e,c))}),Object.entries(i.children).forEach(([o,c])=>{void 0===t[o]&&(r[o]=c)}),new ii(i.segments,r)}}function gR(i,e,n){const t=i.segments.slice(0,e);let r=0;for(;r<n.length;){const o=n[r];if(rI(o)){const f=tZ(o.outlets);return new ii(t,f)}if(0===r&&GS(n[0])){t.push(new tI(i.segments[e].path,E7(n[0]))),r++;continue}const c=rI(o)?o.outlets[cn]:`${o}`,d=r<n.length-1?n[r+1]:null;c&&d&&GS(d)?(t.push(new tI(c,E7(d))),r+=2):(t.push(new tI(c,{})),r++)}return new ii(t,{})}function tZ(i){const e={};return Object.entries(i).forEach(([n,t])=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=gR(new ii([],{}),0,t))}),e}function E7(i){const e={};return Object.entries(i).forEach(([n,t])=>e[n]=`${t}`),e}function x7(i,e,n){return i==n.path&&uu(e,n.parameters)}const oI="imperative";class du{constructor(e,n){this.id=e,this.url=n}}class _R extends du{constructor(e,n,t="imperative",r=null){super(e,n),this.type=0,this.navigationTrigger=t,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jg extends du{constructor(e,n,t){super(e,n),this.urlAfterRedirects=t,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $S extends du{constructor(e,n,t,r){super(e,n),this.reason=t,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class aI extends du{constructor(e,n,t,r){super(e,n),this.reason=t,this.code=r,this.type=16}}class yR extends du{constructor(e,n,t,r){super(e,n),this.error=t,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nZ extends du{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iZ extends du{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rZ extends du{constructor(e,n,t,r,o){super(e,n),this.urlAfterRedirects=t,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sZ extends du{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oZ extends du{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S7{constructor(e,n,t){this.routerEvent=e,this.position=n,this.anchor=t,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new lI,this.attachRef=null}}let lI=(()=>{var i;class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new pZ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();class D7{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=vR(e,this._root);return n?n.children.map(t=>t.value):[]}firstChild(e){const n=vR(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=wR(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return wR(e,this._root).map(n=>n.value)}}function vR(i,e){if(i===e.value)return e;for(const n of e.children){const t=vR(i,n);if(t)return t}return null}function wR(i,e){if(i===e.value)return[e];for(const n of e.children){const t=wR(i,n);if(t.length)return t.unshift(e),t}return[]}class qd{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function _0(i){const e={};return i&&i.children.forEach(n=>e[n.value.outlet]=n),e}class A7 extends D7{constructor(e,n){super(e),this.snapshot=n,bR(this,e)}toString(){return this.snapshot.toString()}}function M7(i,e){const n=function fZ(i,e){const c=new WS([],{},{},"",{},cn,e,null,{});return new P7("",new qd(c,[]))}(0,e),t=new ba.X([new tI("",{})]),r=new ba.X({}),o=new ba.X({}),c=new ba.X({}),d=new ba.X(""),f=new Xg(t,r,c,d,o,cn,e,n.root);return f.snapshot=n.root,new A7(new qd(f,[]),n)}class Xg{constructor(e,n,t,r,o,c,d,f){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=t,this.fragmentSubject=r,this.dataSubject=o,this.outlet=c,this.component=d,this._futureSnapshot=f,this.title=this.dataSubject?.pipe((0,zt.U)(_=>_[eI]))??(0,kt.of)(void 0),this.url=e,this.params=n,this.queryParams=t,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,zt.U)(e=>m0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,zt.U)(e=>m0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function k7(i,e="emptyOnly"){const n=i.pathFromRoot;let t=0;if("always"!==e)for(t=n.length-1;t>=1;){const r=n[t],o=n[t-1];if(r.routeConfig&&""===r.routeConfig.path)t--;else{if(o.component)break;t--}}return function mZ(i){return i.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(t))}class WS{get title(){return this.data?.[eI]}constructor(e,n,t,r,o,c,d,f,_){this.url=e,this.params=n,this.queryParams=t,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.routeConfig=f,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=m0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=m0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class P7 extends D7{constructor(e,n){super(n),this.url=e,bR(this,n)}toString(){return R7(this._root)}}function bR(i,e){e.value._routerState=i,e.children.forEach(n=>bR(i,n))}function R7(i){const e=i.children.length>0?` { ${i.children.map(R7).join(", ")} } `:"";return`${i.value}${e}`}function CR(i){if(i.snapshot){const e=i.snapshot,n=i._futureSnapshot;i.snapshot=n,uu(e.queryParams,n.queryParams)||i.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&i.fragmentSubject.next(n.fragment),uu(e.params,n.params)||i.paramsSubject.next(n.params),function MG(i,e){if(i.length!==e.length)return!1;for(let n=0;n<i.length;++n)if(!uu(i[n],e[n]))return!1;return!0}(e.url,n.url)||i.urlSubject.next(n.url),uu(e.data,n.data)||i.dataSubject.next(n.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function IR(i,e){const n=uu(i.params,e.params)&&function OG(i,e){return Kg(i,e)&&i.every((n,t)=>uu(n.parameters,e[t].parameters))}(i.url,e.url);return n&&!(!i.parent!=!e.parent)&&(!i.parent||IR(i.parent,e.parent))}let TR=(()=>{var i;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(lI),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb),this.inputBinder=(0,s.f3M)(YS,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new s.vHH(4013,!1);this._activatedRoute=t;const o=this.location,d=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new gZ(t,f,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:_,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275dir=s.lG2({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),e})();class gZ{constructor(e,n,t){this.route=e,this.childContexts=n,this.parent=t}get(e,n){return e===Xg?this.route:e===lI?this.childContexts:this.parent.get(e,n)}}const YS=new s.OlP("");let O7=(()=>{var i;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=cR([r.queryParams,r.params,r.data]).pipe((0,Ji.w)(([c,d,f],_)=>(f={...c,...d,...f},0===_?(0,kt.of)(f):Promise.resolve(f)))).subscribe(c=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const d=(0,s.qFp)(r.component);if(d)for(const{templateName:f}of d.inputs)t.activatedComponentRef.setInput(f,c[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();function cI(i,e,n){if(n&&i.shouldReuseRoute(e.value,n.value.snapshot)){const t=n.value;t._futureSnapshot=e.value;const r=function yZ(i,e,n){return e.children.map(t=>{for(const r of n.children)if(i.shouldReuseRoute(t.value,r.value.snapshot))return cI(i,t,r);return cI(i,t)})}(i,e,n);return new qd(t,r)}{if(i.shouldAttach(e.value)){const o=i.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>cI(i,d)),c}}const t=function vZ(i){return new Xg(new ba.X(i.url),new ba.X(i.params),new ba.X(i.queryParams),new ba.X(i.fragment),new ba.X(i.data),i.outlet,i.component,i)}(e.value),r=e.children.map(o=>cI(i,o));return new qd(t,r)}}const ER="ngNavigationCancelingError";function N7(i,e){const{redirectTo:n,navigationBehaviorOptions:t}=Qg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=L7(!1,0,e);return r.url=n,r.navigationBehaviorOptions=t,r}function L7(i,e,n){const t=new Error("NavigationCancelingError: "+(i||""));return t[ER]=!0,t.cancellationCode=e,n&&(t.url=n),t}function F7(i){return V7(i)&&Qg(i.url)}function V7(i){return i&&i[ER]}let B7=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},dependencies:[TR],encapsulation:2}),e})();function xR(i){const e=i.children&&i.children.map(xR),n=e?{...i,children:e}:{...i};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==cn&&(n.component=B7),n}function sc(i){return i.outlet||cn}function uI(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class xZ{constructor(e,n,t,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=t,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,t,e),CR(this.futureState.root),this.activateChildRoutes(n,t,e)}deactivateChildRoutes(e,n,t){const r=_0(n);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],t),delete r[c]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,t)})}deactivateRoutes(e,n,t){const r=e.value,o=n?n.value:null;if(r===o)if(r.component){const c=t.getContext(r.outlet);c&&this.deactivateChildRoutes(e,n,c.children)}else this.deactivateChildRoutes(e,n,t);else o&&this.deactivateRouteAndItsChildren(n,t)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const t=n.getContext(e.value.outlet),r=t&&e.value.component?t.children:n,o=_0(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(t&&t.outlet){const c=t.outlet.detach(),d=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,n){const t=n.getContext(e.value.outlet),r=t&&e.value.component?t.children:n,o=_0(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(e,n,t){const r=_0(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],t),this.forwardEvent(new hZ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new uZ(e.value.snapshot))}activateRoutes(e,n,t){const r=e.value,o=n?n.value:null;if(CR(r),r===o)if(r.component){const c=t.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,c.children)}else this.activateChildRoutes(e,n,t);else if(r.component){const c=t.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),CR(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=uI(r.snapshot);c.attachRef=null,c.route=r,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,t)}}class U7{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class KS{constructor(e,n){this.component=e,this.route=n}}function SZ(i,e,n){const t=i._root;return dI(t,e?e._root:null,n,[t.value])}function y0(i,e){const n=Symbol(),t=e.get(i,n);return t===n?"function"!=typeof i||(0,s.Z0I)(i)?e.get(i):i:t}function dI(i,e,n,t,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=_0(e);return i.children.forEach(c=>{(function AZ(i,e,n,t,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=i.value,c=e?e.value:null,d=n?n.getContext(i.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const f=function MZ(i,e,n){if("function"==typeof n)return n(i,e);switch(n){case"pathParamsChange":return!Kg(i.url,e.url);case"pathParamsOrQueryParamsChange":return!Kg(i.url,e.url)||!uu(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IR(i,e)||!uu(i.queryParams,e.queryParams);default:return!IR(i,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new U7(t)):(o.data=c.data,o._resolvedData=c._resolvedData),dI(i,e,o.component?d?d.children:null:n,t,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new KS(d.outlet.component,c))}else c&&hI(e,d,r),r.canActivateChecks.push(new U7(t)),dI(i,null,o.component?d?d.children:null:n,t,r)})(c,o[c.value.outlet],n,t.concat([c.value]),r),delete o[c.value.outlet]}),Object.entries(o).forEach(([c,d])=>hI(d,n.getContext(c),r)),r}function hI(i,e,n){const t=_0(i),r=i.value;Object.entries(t).forEach(([o,c])=>{hI(c,r.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new KS(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function pI(i){return"function"==typeof i}function H7(i){return i instanceof um||"EmptyError"===i?.name}const QS=Symbol("INITIAL_VALUE");function v0(){return(0,Ji.w)(i=>cR(i.map(e=>e.pipe(cd(1),Bw(QS)))).pipe((0,zt.U)(e=>{for(const n of e)if(!0!==n){if(n===QS)return QS;if(!1===n||n instanceof g0)return n}return!0}),to(e=>e!==QS),cd(1)))}function z7(i){return(0,EG.z)((0,xo.b)(e=>{if(Qg(e))throw N7(0,e)}),(0,zt.U)(e=>!0===e))}class JS{constructor(e){this.segmentGroup=e||null}}class j7{constructor(e){this.urlTree=e}}function w0(i){return JC(new JS(i))}function q7(i){return JC(new j7(i))}class KZ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new s.vHH(4002,!1)}lineralizeSegments(e,n){let t=[],r=n.root;for(;;){if(t=t.concat(r.segments),0===r.numberOfChildren)return(0,kt.of)(t);if(r.numberOfChildren>1||!r.children[cn])return JC(new s.vHH(4e3,!1));r=r.children[cn]}}applyRedirectCommands(e,n,t){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,t)}applyRedirectCreateUrlTree(e,n,t,r){const o=this.createSegmentGroup(e,n.root,t,r);return new g0(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const t={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const d=o.substring(1);t[r]=n[d]}else t[r]=o}),t}createSegmentGroup(e,n,t,r){const o=this.createSegments(e,n.segments,t,r);let c={};return Object.entries(n.children).forEach(([d,f])=>{c[d]=this.createSegmentGroup(e,f,t,r)}),new ii(o,c)}createSegments(e,n,t,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,t))}findPosParam(e,n,t){const r=t[n.path.substring(1)];if(!r)throw new s.vHH(4001,!1);return r}findOrReturn(e,n){let t=0;for(const r of n){if(r.path===e.path)return n.splice(t),r;t++}return e}}const SR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function QZ(i,e,n,t,r){const o=DR(i,e,n);return o.matched?(t=function wZ(i,e){return i.providers&&!i._injector&&(i._injector=(0,s.MMx)(i.providers,e,`Route: ${i.path}`)),i._injector??e}(e,t),function $Z(i,e,n,t){const r=e.canMatch;if(!r||0===r.length)return(0,kt.of)(!0);const o=r.map(c=>{const d=y0(c,i);return Qp(function LZ(i){return i&&pI(i.canMatch)}(d)?d.canMatch(e,n):i.runInContext(()=>d(e,n)))});return(0,kt.of)(o).pipe(v0(),z7())}(t,e,n).pipe((0,zt.U)(c=>!0===c?o:{...SR}))):(0,kt.of)(o)}function DR(i,e,n){if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||n.length>0)?{...SR}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(e.matcher||AG)(n,i,e);if(!r)return{...SR};const o={};Object.entries(r.posParams??{}).forEach(([d,f])=>{o[d]=f.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function G7(i,e,n,t){return n.length>0&&function e$(i,e,n){return n.some(t=>XS(i,e,t)&&sc(t)!==cn)}(i,n,t)?{segmentGroup:new ii(e,XZ(t,new ii(n,i.children))),slicedSegments:[]}:0===n.length&&function t$(i,e,n){return n.some(t=>XS(i,e,t))}(i,n,t)?{segmentGroup:new ii(i.segments,JZ(i,0,n,t,i.children)),slicedSegments:n}:{segmentGroup:new ii(i.segments,i.children),slicedSegments:n}}function JZ(i,e,n,t,r){const o={};for(const c of t)if(XS(i,n,c)&&!r[sc(c)]){const d=new ii([],{});o[sc(c)]=d}return{...r,...o}}function XZ(i,e){const n={};n[cn]=e;for(const t of i)if(""===t.path&&sc(t)!==cn){const r=new ii([],{});n[sc(t)]=r}return n}function XS(i,e,n){return(!(i.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class s${constructor(e,n,t,r,o,c,d){this.injector=e,this.configLoader=n,this.rootComponentType=t,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=c,this.urlSerializer=d,this.allowRedirects=!0,this.applyRedirects=new KZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new s.vHH(4002,!1)}recognize(){const e=G7(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,cn).pipe(Yg(n=>{if(n instanceof j7)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof JS?this.noMatchError(n):n}),(0,zt.U)(n=>{const t=new WS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,{}),r=new qd(t,n),o=new P7("",r),c=function YG(i,e,n=null,t=null){return b7(w7(i),e,n,t)}(t,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(o._root),{state:o,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,cn).pipe(Yg(t=>{throw t instanceof JS?this.noMatchError(t):t}))}inheritParamsAndData(e){const n=e.value,t=k7(n,this.paramsInheritanceStrategy);n.params=Object.freeze(t.params),n.data=Object.freeze(t.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,n,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,n,t):this.processSegment(e,n,t,t.segments,r,!0)}processChildren(e,n,t){const r=[];for(const o of Object.keys(t.children))"primary"===o?r.unshift(o):r.push(o);return(0,Wn.D)(r).pipe(f0(o=>{const c=t.children[o],d=function TZ(i,e){const n=i.filter(t=>sc(t)===e);return n.push(...i.filter(t=>sc(t)!==e)),n}(n,o);return this.processSegmentGroup(e,d,c,o)}),sp((o,c)=>(o.push(...c),o)),Yt(null),function xG(i,e){const n=arguments.length>=2;return t=>t.pipe(i?to((r,o)=>i(r,o,t)):Ya.y,dR(1),n?Yt(e):O1(()=>new um))}(),(0,Eo.z)(o=>{if(null===o)return w0(t);const c=Z7(o);return function o$(i){i.sort((e,n)=>e.value.outlet===cn?-1:n.value.outlet===cn?1:e.value.outlet.localeCompare(n.value.outlet))}(c),(0,kt.of)(c)}))}processSegment(e,n,t,r,o,c){return(0,Wn.D)(n).pipe(f0(d=>this.processSegmentAgainstRoute(d._injector??e,n,d,t,r,o,c).pipe(Yg(f=>{if(f instanceof JS)return(0,kt.of)(null);throw f}))),zl(d=>!!d),Yg(d=>{if(H7(d))return function i$(i,e,n){return 0===e.length&&!i.children[n]}(t,r,o)?(0,kt.of)([]):w0(t);throw d}))}processSegmentAgainstRoute(e,n,t,r,o,c,d){return function n$(i,e,n,t){return!!(sc(i)===t||t!==cn&&XS(e,n,i))&&("**"===i.path||DR(e,i,n).matched)}(t,r,o,c)?void 0===t.redirectTo?this.matchSegmentAgainstRoute(e,r,t,o,c,d):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,t,o,c):w0(r):w0(r)}expandSegmentAgainstRouteUsingRedirect(e,n,t,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,t,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,t,r){const o=this.applyRedirects.applyRedirectCommands([],t.redirectTo,{});return t.redirectTo.startsWith("/")?q7(o):this.applyRedirects.lineralizeSegments(t,o).pipe((0,Eo.z)(c=>{const d=new ii(c,{});return this.processSegment(e,n,d,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,t,r,o,c){const{matched:d,consumedSegments:f,remainingSegments:_,positionalParamSegments:b}=DR(n,r,o);if(!d)return w0(n);const T=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,b);return r.redirectTo.startsWith("/")?q7(T):this.applyRedirects.lineralizeSegments(r,T).pipe((0,Eo.z)(M=>this.processSegment(e,t,n,M.concat(_),c,!1)))}matchSegmentAgainstRoute(e,n,t,r,o,c){let d;if("**"===t.path){const f=r.length>0?c7(r).parameters:{},_=new WS(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$7(t),sc(t),t.component??t._loadedComponent??null,t,W7(t));d=(0,kt.of)({snapshot:_,consumedSegments:[],remainingSegments:[]}),n.children={}}else d=QZ(n,t,r,e).pipe((0,zt.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:T})=>f?{snapshot:new WS(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$7(t),sc(t),t.component??t._loadedComponent??null,t,W7(t)),consumedSegments:_,remainingSegments:b}:null));return d.pipe((0,Ji.w)(f=>null===f?w0(n):this.getChildConfig(e=t._injector??e,t,r).pipe((0,Ji.w)(({routes:_})=>{const b=t._loadedInjector??e,{snapshot:T,consumedSegments:M,remainingSegments:R}=f,{segmentGroup:B,slicedSegments:K}=G7(n,M,R,_);if(0===K.length&&B.hasChildren())return this.processChildren(b,_,B).pipe((0,zt.U)(_e=>null===_e?null:[new qd(T,_e)]));if(0===_.length&&0===K.length)return(0,kt.of)([new qd(T,[])]);const te=sc(t)===o;return this.processSegment(b,_,B,K,te?cn:o,!0).pipe((0,zt.U)(_e=>[new qd(T,_e)]))}))))}getChildConfig(e,n,t){return n.children?(0,kt.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,kt.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function ZZ(i,e,n,t){const r=e.canLoad;if(void 0===r||0===r.length)return(0,kt.of)(!0);const o=r.map(c=>{const d=y0(c,i);return Qp(function PZ(i){return i&&pI(i.canLoad)}(d)?d.canLoad(e,n):i.runInContext(()=>d(e,n)))});return(0,kt.of)(o).pipe(v0(),z7())}(e,n,t).pipe((0,Eo.z)(r=>r?this.configLoader.loadChildren(e,n).pipe((0,xo.b)(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function YZ(i){return JC(L7(!1,3))}())):(0,kt.of)({routes:[],injector:e})}}function a$(i){const e=i.value.routeConfig;return e&&""===e.path}function Z7(i){const e=[],n=new Set;for(const t of i){if(!a$(t)){e.push(t);continue}const r=e.find(o=>t.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...t.children),n.add(r)):e.push(t)}for(const t of n){const r=Z7(t.children);e.push(new qd(t.value,r))}return e.filter(t=>!n.has(t))}function $7(i){return i.data||{}}function W7(i){return i.resolve||{}}function Y7(i){return"string"==typeof i.title||null===i.title}function AR(i){return(0,Ji.w)(e=>{const n=i(e);return n?(0,Wn.D)(n).pipe((0,zt.U)(()=>e)):(0,kt.of)(e)})}const b0=new s.OlP("ROUTES");let MR=(()=>{var i;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,kt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Qp(t.loadComponent()).pipe((0,zt.U)(K7),(0,xo.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),XC(()=>{this.componentLoaders.delete(t)})),o=new a7(r,()=>new pr.x).pipe(uR());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,kt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,zt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b;return Array.isArray(f)?b=f:(_=f.create(t).injector,b=_.get(b0,[],s.XFs.Self|s.XFs.Optional).flat()),{routes:b.map(xR),injector:_}}),XC(()=>{this.childrenLoaders.delete(r)})),d=new a7(c,()=>new pr.x).pipe(uR());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Qp(t()).pipe((0,zt.U)(K7),(0,Eo.z)(r=>r instanceof s.YKP||Array.isArray(r)?(0,kt.of)(r):(0,Wn.D)(this.compiler.compileModuleAsync(r))))}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();function K7(i){return function f$(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let eD=(()=>{var i;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pr.x,this.configLoader=(0,s.f3M)(MR),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(nI),this.rootContexts=(0,s.f3M)(lI),this.inputBindingEnabled=null!==(0,s.f3M)(YS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,kt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new lZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new aZ(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ba.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oI,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(to(r=>0!==r.id),(0,zt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,Ji.w)(r=>{let o=!1,c=!1;return(0,kt.of)(r).pipe((0,xo.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ji.w)(d=>{const f=t.browserUrlTree.toString(),_=!t.navigated||d.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new aI(d.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Hl.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Q7(d.source)&&(t.browserUrlTree=d.extractedUrl),(0,kt.of)(d).pipe((0,Ji.w)(T=>{const M=this.transitions?.getValue();return this.events.next(new _R(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),M!==this.transitions?.getValue()?Hl.E:Promise.resolve(T)}),function l$(i,e,n,t,r,o){return(0,Eo.z)(c=>function r$(i,e,n,t,r,o,c="emptyOnly"){return new s$(i,e,n,t,r,c,o).recognize()}(i,e,n,t,c.extractedUrl,r,o).pipe((0,zt.U)(({state:d,tree:f})=>({...c,targetSnapshot:d,urlAfterRedirects:f}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,xo.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,r.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const R=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(R,T)}t.browserUrlTree=T.urlAfterRedirects}const M=new nZ(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:M,source:R,restoredState:B,extras:K}=d,te=new _R(T,this.urlSerializer.serialize(M),R,B);this.events.next(te);const _e=M7(0,this.rootComponentType).snapshot;return r={...d,targetSnapshot:_e,urlAfterRedirects:M,extras:{...K,skipLocationChange:!1,replaceUrl:!1}},(0,kt.of)(r)}{const T="";return this.events.next(new aI(d.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Hl.E}}),(0,xo.b)(d=>{const f=new iZ(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),(0,zt.U)(d=>r={...d,guards:SZ(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function VZ(i,e){return(0,Eo.z)(n=>{const{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=n;return 0===c.length&&0===o.length?(0,kt.of)({...n,guardsResult:!0}):function BZ(i,e,n,t){return(0,Wn.D)(i).pipe((0,Eo.z)(r=>function GZ(i,e,n,t,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,kt.of)(!0);const c=o.map(d=>{const f=uI(e)??r,_=y0(d,f);return Qp(function NZ(i){return i&&pI(i.canDeactivate)}(_)?_.canDeactivate(i,e,n,t):f.runInContext(()=>_(i,e,n,t))).pipe(zl())});return(0,kt.of)(c).pipe(v0())}(r.component,r.route,n,e,t)),zl(r=>!0!==r,!0))}(c,t,r,i).pipe((0,Eo.z)(d=>d&&function kZ(i){return"boolean"==typeof i}(d)?function UZ(i,e,n,t){return(0,Wn.D)(e).pipe(f0(r=>ps(function zZ(i,e){return null!==i&&e&&e(new cZ(i)),(0,kt.of)(!0)}(r.route.parent,t),function HZ(i,e){return null!==i&&e&&e(new dZ(i)),(0,kt.of)(!0)}(r.route,t),function qZ(i,e,n){const t=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function DZ(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(c)).filter(c=>null!==c).map(c=>s7(()=>{const d=c.guards.map(f=>{const _=uI(c.node)??n,b=y0(f,_);return Qp(function OZ(i){return i&&pI(i.canActivateChild)}(b)?b.canActivateChild(t,i):_.runInContext(()=>b(t,i))).pipe(zl())});return(0,kt.of)(d).pipe(v0())}));return(0,kt.of)(o).pipe(v0())}(i,r.path,n),function jZ(i,e,n){const t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||0===t.length)return(0,kt.of)(!0);const r=t.map(o=>s7(()=>{const c=uI(e)??n,d=y0(o,c);return Qp(function RZ(i){return i&&pI(i.canActivate)}(d)?d.canActivate(e,i):c.runInContext(()=>d(e,i))).pipe(zl())}));return(0,kt.of)(r).pipe(v0())}(i,r.route,n))),zl(r=>!0!==r,!0))}(t,o,i,e):(0,kt.of)(d)),(0,zt.U)(d=>({...n,guardsResult:d})))})}(this.environmentInjector,d=>this.events.next(d)),(0,xo.b)(d=>{if(r.guardsResult=d.guardsResult,Qg(d.guardsResult))throw N7(0,d.guardsResult);const f=new rZ(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),to(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),AR(d=>{if(d.guards.canActivateChecks.length)return(0,kt.of)(d).pipe((0,xo.b)(f=>{const _=new sZ(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),(0,Ji.w)(f=>{let _=!1;return(0,kt.of)(f).pipe(function c$(i,e){return(0,Eo.z)(n=>{const{targetSnapshot:t,guards:{canActivateChecks:r}}=n;if(!r.length)return(0,kt.of)(n);let o=0;return(0,Wn.D)(r).pipe(f0(c=>function u$(i,e,n,t){const r=i.routeConfig,o=i._resolve;return void 0!==r?.title&&!Y7(r)&&(o[eI]=r.title),function d$(i,e,n,t){const r=function h$(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===r.length)return(0,kt.of)({});const o={};return(0,Wn.D)(r).pipe((0,Eo.z)(c=>function p$(i,e,n,t){const r=uI(e)??t,o=y0(i,r);return Qp(o.resolve?o.resolve(e,n):r.runInContext(()=>o(e,n)))}(i[c],e,n,t).pipe(zl(),(0,xo.b)(d=>{o[c]=d}))),dR(1),function SG(i){return(0,zt.U)(()=>i)}(o),Yg(c=>H7(c)?Hl.E:JC(c)))}(o,i,e,t).pipe((0,zt.U)(c=>(i._resolvedData=c,i.data=k7(i,n).resolve,r&&Y7(r)&&(i.data[eI]=r.title),null)))}(c.route,t,i,e)),(0,xo.b)(()=>o++),dR(1),(0,Eo.z)(c=>o===r.length?(0,kt.of)(n):Hl.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,xo.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,xo.b)(f=>{const _=new oZ(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),AR(d=>{const f=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,xo.b)(T=>{_.component=T}),(0,zt.U)(()=>{})));for(const T of _.children)b.push(...f(T));return b};return cR(f(d.targetSnapshot.root)).pipe(Yt(),cd(1))}),AR(()=>this.afterPreactivation()),(0,zt.U)(d=>{const f=function _Z(i,e,n){const t=cI(i,e._root,n?n._root:void 0);return new A7(t,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:f}}),(0,xo.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((i,e,n,t)=>(0,zt.U)(r=>(new xZ(e,r.targetRouterState,r.currentRouterState,n,t).activate(i),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),cd(1),(0,xo.b)({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Jg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),XC(()=>{o||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Yg(d=>{if(c=!0,V7(d)){F7(d)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new $S(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(f),F7(d)){const _=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Q7(r.source)};t.scheduleNavigation(_,oI,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new yR(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(d))}catch(_){r.reject(_)}}return Hl.E}))}))}cancelNavigationTransition(t,r,o){const c=new $S(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(c),t.resolve(!1)}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();function Q7(i){return i!==oI}let J7=(()=>{var i;class e{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(c=>c.outlet===cn);return r}getResolvedTitleForRoute(t){return t.data[eI]}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(m$)},providedIn:"root"}),e})(),m$=(()=>{var i;class e extends J7{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(Js))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})(),g$=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(y$)},providedIn:"root"}),e})();class _${shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let y$=(()=>{var i;class e extends _${}return(i=e).\u0275fac=function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}(),i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();const tD=new s.OlP("",{providedIn:"root",factory:()=>({})});let v$=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(w$)},providedIn:"root"}),e})(),w$=(()=>{var i;class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();var fI=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(fI||{});function X7(i,e){i.events.pipe(to(n=>n instanceof Jg||n instanceof $S||n instanceof yR||n instanceof aI),(0,zt.U)(n=>n instanceof Jg||n instanceof aI?fI.COMPLETE:n instanceof $S&&(0===n.code||1===n.code)?fI.REDIRECTING:fI.FAILED),to(n=>n!==fI.REDIRECTING),cd(1)).subscribe(()=>{e()})}function b$(i){throw i}function C$(i,e,n){return e.parse("/")}const I$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ro=(()=>{var i;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(tD,{optional:!0})||{},this.pendingTasks=(0,s.f3M)(s.HDt),this.errorHandler=this.options.errorHandler||b$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||C$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(v$),this.routeReuseStrategy=(0,s.f3M)(g$),this.titleStrategy=(0,s.f3M)(J7),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,s.f3M)(b0,{optional:!0})?.flat()??[],this.navigationTransitions=(0,s.f3M)(eD),this.urlSerializer=(0,s.f3M)(nI),this.location=(0,s.f3M)(V),this.componentInputBindingEnabled=!!(0,s.f3M)(YS,{optional:!0}),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new g0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=M7(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),oI,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const c={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const _={...o};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(c.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,d,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(xR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,b=_?this.currentUrlTree.fragment:d;let M,T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...c};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=c||null}null!==T&&(T=this.removeEmptyProps(T));try{M=w7(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),M=this.currentUrlTree.root}return b7(M,t,T,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Qg(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,oI,null,r)}navigate(t,r={skipLocationChange:!1}){return function E$(i){for(let e=0;e<i.length;e++)if(null==i[e])throw new s.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...I$}:!1===r?{...T$}:r,Qg(t))return d7(this.currentUrlTree,t,o);const c=this.parseUrl(t);return d7(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}scheduleNavigation(t,r,o,c,d){if(this.disposed)return Promise.resolve(!1);let f,_,b;d?(f=d.resolve,_=d.reject,b=d.promise):b=new Promise((M,R)=>{f=M,_=R});const T=this.pendingTasks.add();return X7(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:c,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",c)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-(this.browserPageId??this.currentPageId);0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})(),mI=(()=>{var i;class e{constructor(t,r,o,c,d,f){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=c,this.el=d,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new pr.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof Jg&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,c,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||c||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,c=this.el.nativeElement;null!==r?o.setAttribute(c,t,r):o.removeAttribute(c,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(ro),s.Y36(Xg),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Ze))},i.\u0275dir=s.lG2({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&s.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&s.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",s.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",s.VuI],replaceUrl:["replaceUrl","replaceUrl",s.VuI],routerLink:"routerLink"},standalone:!0,features:[s.Xq5,s.TTD]}),e})(),e9=(()=>{var i;class e{get isActive(){return this._isActive}constructor(t,r,o,c,d){this.router=t,this.element=r,this.renderer=o,this.cdr=c,this.link=d,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof Jg&&this.update()})}ngAfterContentInit(){(0,kt.of)(this.links.changes,(0,kt.of)(null)).pipe((0,Vc.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Wn.D)(t).pipe((0,Vc.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function x$(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(ro),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(mI,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,mI,5),2&t){let c;s.iGM(c=s.CRH())&&(r.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.TTD]}),e})();class t9{}let S$=(()=>{var i;class e{constructor(t,r,o,c,d){this.router=t,this.injector=o,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(to(t=>t instanceof Jg),f0(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,s.MMx)(c.providers,t,`Route: ${c.path}`));const d=c._injector??t,f=c._loadedInjector??d;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&o.push(this.preloadConfig(d,c)),(c.children||c._loadedRoutes)&&o.push(this.processRoutes(f,c.children??c._loadedRoutes))}return(0,Wn.D)(o).pipe((0,Vc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,kt.of)(null);const c=o.pipe((0,Eo.z)(d=>null===d?(0,kt.of)(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Wn.D)([c,d]).pipe((0,Vc.J)())}return c})}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(ro),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(t9),s.LFG(MR))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();const kR=new s.OlP("");let n9=(()=>{var i;class e{constructor(t,r,o,c,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=c,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _R?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jg?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof aI&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof S7&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new S7(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(i=e).\u0275fac=function(t){s.$Z()},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();function Gd(i,e){return{\u0275kind:i,\u0275providers:e}}function s9(){const i=(0,s.f3M)(s.zs3);return e=>{const n=i.get(s.z2F);if(e!==n.components[0])return;const t=i.get(ro),r=i.get(o9);1===i.get(PR)&&t.initialNavigation(),i.get(a9,null,s.XFs.Optional)?.setUpPreloading(),i.get(kR,null,s.XFs.Optional)?.init(),t.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const o9=new s.OlP("",{factory:()=>new pr.x}),PR=new s.OlP("",{providedIn:"root",factory:()=>1}),a9=new s.OlP("");function k$(i){return Gd(0,[{provide:a9,useExisting:S$},{provide:t9,useExisting:i}])}const l9=new s.OlP("ROUTER_FORROOT_GUARD"),R$=[V,{provide:nI,useClass:hR},ro,lI,{provide:Xg,useFactory:function r9(i){return i.routerState.root},deps:[ro]},MR,[]];function O$(){return new s.PXZ("Router",ro)}let nD=(()=>{var i;class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[R$,[],{provide:b0,multi:!0,useValue:t},{provide:l9,useFactory:V$,deps:[[ro,new s.FiY,new s.tp0]]},{provide:tD,useValue:r||{}},r?.useHash?{provide:Ze,useClass:Fe}:{provide:Ze,useClass:nt},{provide:kR,useFactory:()=>{const i=(0,s.f3M)(Es),e=(0,s.f3M)(s.R0b),n=(0,s.f3M)(tD),t=(0,s.f3M)(eD),r=(0,s.f3M)(nI);return n.scrollOffset&&i.setOffset(n.scrollOffset),new n9(r,t,i,e,n)}},r?.preloadingStrategy?k$(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:O$},r?.initialNavigation?B$(r):[],r?.bindToComponentInputs?Gd(8,[O7,{provide:YS,useExisting:O7}]).\u0275providers:[],[{provide:c9,useFactory:s9},{provide:s.tb,multi:!0,useExisting:c9}]]}}static forChild(t){return{ngModule:e,providers:[{provide:b0,multi:!0,useValue:t}]}}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(l9,8))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),e})();function V$(i){return"guarded"}function B$(i){return["disabled"===i.initialNavigation?Gd(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(ro);return()=>{e.setUpLocationChangeListener()}}},{provide:PR,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?Gd(2,[{provide:PR,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const n=e.get(Me,Promise.resolve());return()=>n.then(()=>new Promise(t=>{const r=e.get(ro),o=e.get(o9);X7(r,()=>{t(!0)}),e.get(eD).afterPreactivation=()=>(t(!0),o.closed?(0,kt.of)(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const c9=new s.OlP("");class et{static equals(e,n,t){return t?this.resolveFieldData(e,t)===this.resolveFieldData(n,t):this.equalsByValue(e,n)}static equalsByValue(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var o,c,d,t=Array.isArray(e),r=Array.isArray(n);if(t&&r){if((c=e.length)!=n.length)return!1;for(o=c;0!=o--;)if(!this.equalsByValue(e[o],n[o]))return!1;return!0}if(t!=r)return!1;var f=this.isDate(e),_=this.isDate(n);if(f!=_)return!1;if(f&&_)return e.getTime()==n.getTime();var b=e instanceof RegExp,T=n instanceof RegExp;if(b!=T)return!1;if(b&&T)return e.toString()==n.toString();var M=Object.keys(e);if((c=M.length)!==Object.keys(n).length)return!1;for(o=c;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,M[o]))return!1;for(o=c;0!=o--;)if(!this.equalsByValue(e[d=M[o]],n[d]))return!1;return!0}return e!=e&&n!=n}static resolveFieldData(e,n){if(e&&n){if(this.isFunction(n))return n(e);if(-1==n.indexOf("."))return e[n];{let t=n.split("."),r=e;for(let o=0,c=t.length;o<c;++o){if(null==r)return null;r=r[t[o]]}return r}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,n,t){e&&n!==t&&(t>=e.length&&(t%=e.length,n%=e.length),e.splice(t,0,e.splice(n,1)[0]))}static insertIntoOrderedArray(e,n,t,r){if(t.length>0){let o=!1;for(let c=0;c<t.length;c++)if(this.findIndexInList(t[c],r)>n){t.splice(c,0,e),o=!0;break}o||t.push(e)}else t.push(e)}static findIndexInList(e,n){let t=-1;if(n)for(let r=0;r<n.length;r++)if(n[r]==e){t=r;break}return t}static contains(e,n){if(null!=e&&n&&n.length)for(let t of n)if(this.equals(e,t))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,n,t,r=1){let o=-1;const c=this.isEmpty(e),d=this.isEmpty(n);return o=c&&d?0:c?r:d?-r:"string"==typeof e&&"string"==typeof n?e.localeCompare(n,t,{numeric:!0}):e<n?-1:e>n?1:0,o}static sort(e,n,t=1,r,o=1){return(1===o?t:o)*et.compare(e,n,r,t)}static merge(e,n){if(null!=e||null!=n)return null!=e&&"object"!=typeof e||null!=n&&"object"!=typeof n?null!=e&&"string"!=typeof e||null!=n&&"string"!=typeof n?n||e:[e||"",n||""].join(" "):{...e||{},...n||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...n){return this.isFunction(e)?e(...n):e}static findLastIndex(e,n){let t=-1;if(this.isNotEmpty(e))try{t=e.findLastIndex(n)}catch{t=e.lastIndexOf([...e].reverse().find(n))}return t}static findLast(e,n){let t;if(this.isNotEmpty(e))try{t=e.findLast(n)}catch{t=[...e].reverse().find(n)}return t}}var u9=0;function jn(i="pn_id_"){return`${i}${++u9}`}var mr=function H$(){let i=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,c,d)=>{c&&(c.style.zIndex=String(((o,c)=>{let d=i.length>0?i[i.length-1]:{key:o,value:c},f=d.value+(d.key===o?0:c)+1;return i.push({key:o,value:f}),f})(o,d)))},clear:o=>{o&&((o=>{i=i.filter(c=>c.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>i.length>0?i[i.length-1].value:0}}();const d9=["*"];var so=function(i){return i[i.ACCEPT=0]="ACCEPT",i[i.REJECT=1]="REJECT",i[i.CANCEL=2]="CANCEL",i}(so||{});let RR=(()=>{var i;class e{constructor(){m(this,"requireConfirmationSource",new pr.x),m(this,"acceptConfirmationSource",new pr.x),m(this,"requireConfirmation$",this.requireConfirmationSource.asObservable()),m(this,"accept",this.acceptConfirmationSource.asObservable())}confirm(t){return this.requireConfirmationSource.next(t),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275prov",s.Yz7({token:i,factory:i.\u0275fac})),e})(),Hs=(()=>{class i{}return m(i,"STARTS_WITH","startsWith"),m(i,"CONTAINS","contains"),m(i,"NOT_CONTAINS","notContains"),m(i,"ENDS_WITH","endsWith"),m(i,"EQUALS","equals"),m(i,"NOT_EQUALS","notEquals"),m(i,"IN","in"),m(i,"LESS_THAN","lt"),m(i,"LESS_THAN_OR_EQUAL_TO","lte"),m(i,"GREATER_THAN","gt"),m(i,"GREATER_THAN_OR_EQUAL_TO","gte"),m(i,"BETWEEN","between"),m(i,"IS","is"),m(i,"IS_NOT","isNot"),m(i,"BEFORE","before"),m(i,"AFTER","after"),m(i,"DATE_IS","dateIs"),m(i,"DATE_IS_NOT","dateIsNot"),m(i,"DATE_BEFORE","dateBefore"),m(i,"DATE_AFTER","dateAfter"),i})(),h9=(()=>{class i{}return m(i,"AND","and"),m(i,"OR","or"),i})(),OR=(()=>{var i;class e{constructor(){m(this,"filters",{startsWith:(t,r,o)=>{if(null==r||""===r.trim())return!0;if(null==t)return!1;let c=et.removeAccents(r.toString()).toLocaleLowerCase(o);return et.removeAccents(t.toString()).toLocaleLowerCase(o).slice(0,c.length)===c},contains:(t,r,o)=>{if(null==r||"string"==typeof r&&""===r.trim())return!0;if(null==t)return!1;let c=et.removeAccents(r.toString()).toLocaleLowerCase(o);return-1!==et.removeAccents(t.toString()).toLocaleLowerCase(o).indexOf(c)},notContains:(t,r,o)=>{if(null==r||"string"==typeof r&&""===r.trim())return!0;if(null==t)return!1;let c=et.removeAccents(r.toString()).toLocaleLowerCase(o);return-1===et.removeAccents(t.toString()).toLocaleLowerCase(o).indexOf(c)},endsWith:(t,r,o)=>{if(null==r||""===r.trim())return!0;if(null==t)return!1;let c=et.removeAccents(r.toString()).toLocaleLowerCase(o),d=et.removeAccents(t.toString()).toLocaleLowerCase(o);return-1!==d.indexOf(c,d.length-c.length)},equals:(t,r,o)=>null==r||"string"==typeof r&&""===r.trim()||null!=t&&(t.getTime&&r.getTime?t.getTime()===r.getTime():et.removeAccents(t.toString()).toLocaleLowerCase(o)==et.removeAccents(r.toString()).toLocaleLowerCase(o)),notEquals:(t,r,o)=>!(null==r||"string"==typeof r&&""===r.trim()||null!=t&&(t.getTime&&r.getTime?t.getTime()===r.getTime():et.removeAccents(t.toString()).toLocaleLowerCase(o)==et.removeAccents(r.toString()).toLocaleLowerCase(o))),in:(t,r)=>{if(null==r||0===r.length)return!0;for(let o=0;o<r.length;o++)if(et.equals(t,r[o]))return!0;return!1},between:(t,r)=>null==r||null==r[0]||null==r[1]||null!=t&&(t.getTime?r[0].getTime()<=t.getTime()&&t.getTime()<=r[1].getTime():r[0]<=t&&t<=r[1]),lt:(t,r,o)=>null==r||null!=t&&(t.getTime&&r.getTime?t.getTime()<r.getTime():t<r),lte:(t,r,o)=>null==r||null!=t&&(t.getTime&&r.getTime?t.getTime()<=r.getTime():t<=r),gt:(t,r,o)=>null==r||null!=t&&(t.getTime&&r.getTime?t.getTime()>r.getTime():t>r),gte:(t,r,o)=>null==r||null!=t&&(t.getTime&&r.getTime?t.getTime()>=r.getTime():t>=r),is:(t,r,o)=>this.filters.equals(t,r,o),isNot:(t,r,o)=>this.filters.notEquals(t,r,o),before:(t,r,o)=>this.filters.lt(t,r,o),after:(t,r,o)=>this.filters.gt(t,r,o),dateIs:(t,r)=>null==r||null!=t&&t.toDateString()===r.toDateString(),dateIsNot:(t,r)=>null==r||null!=t&&t.toDateString()!==r.toDateString(),dateBefore:(t,r)=>null==r||null!=t&&t.getTime()<r.getTime(),dateAfter:(t,r)=>null==r||null!=t&&t.getTime()>r.getTime()})}filter(t,r,o,c,d){let f=[];if(t)for(let _ of t)for(let b of r){let T=et.resolveFieldData(_,b);if(this.filters[c](T,o,d)){f.push(_);break}}return f}register(t,r){this.filters[t]=r}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275prov",s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})),e})(),NR=(()=>{var i;class e{constructor(){m(this,"messageSource",new pr.x),m(this,"clearSource",new pr.x),m(this,"messageObserver",this.messageSource.asObservable()),m(this,"clearObserver",this.clearSource.asObservable())}add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275prov",s.Yz7({token:i,factory:i.\u0275fac})),e})(),LR=(()=>{var i;class e{constructor(){m(this,"clickSource",new pr.x),m(this,"clickObservable",this.clickSource.asObservable())}add(t){t&&this.clickSource.next(t)}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275prov",s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})),e})(),dl=(()=>{var i;class e{constructor(){m(this,"ripple",!1),m(this,"overlayOptions",{}),m(this,"filterMatchModeOptions",{text:[Hs.STARTS_WITH,Hs.CONTAINS,Hs.NOT_CONTAINS,Hs.ENDS_WITH,Hs.EQUALS,Hs.NOT_EQUALS],numeric:[Hs.EQUALS,Hs.NOT_EQUALS,Hs.LESS_THAN,Hs.LESS_THAN_OR_EQUAL_TO,Hs.GREATER_THAN,Hs.GREATER_THAN_OR_EQUAL_TO],date:[Hs.DATE_IS,Hs.DATE_IS_NOT,Hs.DATE_BEFORE,Hs.DATE_AFTER]}),m(this,"translation",{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}}),m(this,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}),m(this,"translationSource",new pr.x),m(this,"translationObserver",this.translationSource.asObservable())}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275prov",s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})),e})(),p9=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-header"]],ngContentSelectors:d9,decls:1,vars:0,template:function(t,r){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2})),e})(),FR=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-footer"]],ngContentSelectors:d9,decls:1,vars:0,template:function(t,r){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2})),e})(),ir=(()=>{var i;class e{constructor(t){m(this,"template",void 0),m(this,"type",void 0),m(this,"name",void 0),this.template=t}getType(){return this.name}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.Rgc))}),m(e,"\u0275dir",s.lG2({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})),e})(),Kn=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht]})),e})(),So=(()=>{class i{}return m(i,"STARTS_WITH","startsWith"),m(i,"CONTAINS","contains"),m(i,"NOT_CONTAINS","notContains"),m(i,"ENDS_WITH","endsWith"),m(i,"EQUALS","equals"),m(i,"NOT_EQUALS","notEquals"),m(i,"NO_FILTER","noFilter"),m(i,"LT","lt"),m(i,"LTE","lte"),m(i,"GT","gt"),m(i,"GTE","gte"),m(i,"IS","is"),m(i,"IS_NOT","isNot"),m(i,"BEFORE","before"),m(i,"AFTER","after"),m(i,"CLEAR","clear"),m(i,"APPLY","apply"),m(i,"MATCH_ALL","matchAll"),m(i,"MATCH_ANY","matchAny"),m(i,"ADD_RULE","addRule"),m(i,"REMOVE_RULE","removeRule"),m(i,"ACCEPT","accept"),m(i,"REJECT","reject"),m(i,"CHOOSE","choose"),m(i,"UPLOAD","upload"),m(i,"CANCEL","cancel"),m(i,"DAY_NAMES","dayNames"),m(i,"DAY_NAMES_SHORT","dayNamesShort"),m(i,"DAY_NAMES_MIN","dayNamesMin"),m(i,"MONTH_NAMES","monthNames"),m(i,"MONTH_NAMES_SHORT","monthNamesShort"),m(i,"FIRST_DAY_OF_WEEK","firstDayOfWeek"),m(i,"TODAY","today"),m(i,"WEEK_HEADER","weekHeader"),m(i,"WEAK","weak"),m(i,"MEDIUM","medium"),m(i,"STRONG","strong"),m(i,"PASSWORD_PROMPT","passwordPrompt"),m(i,"EMPTY_MESSAGE","emptyMessage"),m(i,"EMPTY_FILTER_MESSAGE","emptyFilterMessage"),i})(),ee=(()=>{class i{static addClass(n,t){n&&t&&(n.classList?n.classList.add(t):n.className+=" "+t)}static addMultipleClasses(n,t){if(n&&t)if(n.classList){let r=t.trim().split(" ");for(let o=0;o<r.length;o++)n.classList.add(r[o])}else{let r=t.split(" ");for(let o=0;o<r.length;o++)n.className+=" "+r[o]}}static removeClass(n,t){n&&t&&(n.classList?n.classList.remove(t):n.className=n.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(n,t){return!(!n||!t)&&(n.classList?n.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(n.className))}static siblings(n){return Array.prototype.filter.call(n.parentNode.children,function(t){return t!==n})}static find(n,t){return Array.from(n.querySelectorAll(t))}static findSingle(n,t){return this.isElement(n)?n.querySelector(t):null}static index(n){let t=n.parentNode.childNodes,r=0;for(var o=0;o<t.length;o++){if(t[o]==n)return r;1==t[o].nodeType&&r++}return-1}static indexWithinGroup(n,t){let r=n.parentNode?n.parentNode.childNodes:[],o=0;for(var c=0;c<r.length;c++){if(r[c]==n)return o;r[c].attributes&&r[c].attributes[t]&&1==r[c].nodeType&&o++}return-1}static appendOverlay(n,t,r="self"){"self"!==r&&n&&t&&this.appendChild(n,t)}static alignOverlay(n,t,r="self",o=!0){n&&t&&(o&&(n.style.minWidth=`${i.getOuterWidth(t)}px`),"self"===r?this.relativePosition(n,t):this.absolutePosition(n,t))}static relativePosition(n,t){const r=_e=>{if(_e)return"relative"===getComputedStyle(_e).getPropertyValue("position")?_e:r(_e.parentElement)},o=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),c=t.offsetHeight,d=t.getBoundingClientRect(),f=this.getWindowScrollTop(),_=this.getWindowScrollLeft(),b=this.getViewport(),M=r(n)?.getBoundingClientRect()||{top:-1*f,left:-1*_};let R,B;d.top+c+o.height>b.height?(R=d.top-M.top-o.height,n.style.transformOrigin="bottom",d.top+R<0&&(R=-1*d.top)):(R=c+d.top-M.top,n.style.transformOrigin="top");const K=d.left+o.width-b.width;B=o.width>b.width?-1*(d.left-M.left):K>0?d.left-M.left-K:d.left-M.left,n.style.top=R+"px",n.style.left=B+"px"}static absolutePosition(n,t){const r=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),o=r.height,c=r.width,d=t.offsetHeight,f=t.offsetWidth,_=t.getBoundingClientRect(),b=this.getWindowScrollTop(),T=this.getWindowScrollLeft(),M=this.getViewport();let R,B;_.top+d+o>M.height?(R=_.top+b-o,n.style.transformOrigin="bottom",R<0&&(R=b)):(R=d+_.top+b,n.style.transformOrigin="top"),B=_.left+c>M.width?Math.max(0,_.left+T+f-c):_.left+T,n.style.top=R+"px",n.style.left=B+"px"}static getParents(n,t=[]){return null===n.parentNode?t:this.getParents(n.parentNode,t.concat([n.parentNode]))}static getScrollableParents(n){let t=[];if(n){let r=this.getParents(n);const o=/(auto|scroll)/,c=d=>{let f=window.getComputedStyle(d,null);return o.test(f.getPropertyValue("overflow"))||o.test(f.getPropertyValue("overflowX"))||o.test(f.getPropertyValue("overflowY"))};for(let d of r){let f=1===d.nodeType&&d.dataset.scrollselectors;if(f){let _=f.split(",");for(let b of _){let T=this.findSingle(d,b);T&&c(T)&&t.push(T)}}9!==d.nodeType&&c(d)&&t.push(d)}}return t}static getHiddenElementOuterHeight(n){n.style.visibility="hidden",n.style.display="block";let t=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",t}static getHiddenElementOuterWidth(n){n.style.visibility="hidden",n.style.display="block";let t=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",t}static getHiddenElementDimensions(n){let t={};return n.style.visibility="hidden",n.style.display="block",t.width=n.offsetWidth,t.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible",t}static scrollInView(n,t){let r=getComputedStyle(n).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,c=getComputedStyle(n).getPropertyValue("paddingTop"),d=c?parseFloat(c):0,f=n.getBoundingClientRect(),b=t.getBoundingClientRect().top+document.body.scrollTop-(f.top+document.body.scrollTop)-o-d,T=n.scrollTop,M=n.clientHeight,R=this.getOuterHeight(t);b<0?n.scrollTop=T+b:b+R>M&&(n.scrollTop=T+b-M+R)}static fadeIn(n,t){n.style.opacity=0;let r=+new Date,o=0,c=function(){o=+n.style.opacity.replace(",",".")+((new Date).getTime()-r)/t,n.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(c)||setTimeout(c,16))};c()}static fadeOut(n,t){var r=1,d=50/t;let f=setInterval(()=>{(r-=d)<=0&&(r=0,clearInterval(f)),n.style.opacity=r},50)}static getWindowScrollTop(){let n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}static getWindowScrollLeft(){let n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}static matches(n,t){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(c){return-1!==[].indexOf.call(document.querySelectorAll(c),this)}).call(n,t)}static getOuterWidth(n,t){let r=n.offsetWidth;if(t){let o=getComputedStyle(n);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(n){let t=getComputedStyle(n);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}static getHorizontalMargin(n){let t=getComputedStyle(n);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}static innerWidth(n){let t=n.offsetWidth,r=getComputedStyle(n);return t+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),t}static width(n){let t=n.offsetWidth,r=getComputedStyle(n);return t-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),t}static getInnerHeight(n){let t=n.offsetHeight,r=getComputedStyle(n);return t+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),t}static getOuterHeight(n,t){let r=n.offsetHeight;if(t){let o=getComputedStyle(n);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(n){let t=n.offsetHeight,r=getComputedStyle(n);return t-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),t}static getWidth(n){let t=n.offsetWidth,r=getComputedStyle(n);return t-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),t}static getViewport(){let n=window,t=document,r=t.documentElement,o=t.getElementsByTagName("body")[0];return{width:n.innerWidth||r.clientWidth||o.clientWidth,height:n.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(n){var t=n.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(n,t){let r=n.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(t,n)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var n=window.navigator.userAgent;return n.indexOf("MSIE ")>0||(n.indexOf("Trident/")>0?(n.indexOf("rv:"),!0):n.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(n,t){if(this.isElement(t))t.appendChild(n);else{if(!(t&&t.el&&t.el.nativeElement))throw"Cannot append "+t+" to "+n;t.el.nativeElement.appendChild(n)}}static removeChild(n,t){if(this.isElement(t))t.removeChild(n);else{if(!t.el||!t.el.nativeElement)throw"Cannot remove "+n+" from "+t;t.el.nativeElement.removeChild(n)}}static removeElement(n){"remove"in Element.prototype?n.remove():n.parentNode.removeChild(n)}static isElement(n){return"object"==typeof HTMLElement?n instanceof HTMLElement:n&&"object"==typeof n&&null!==n&&1===n.nodeType&&"string"==typeof n.nodeName}static calculateScrollbarWidth(n){if(n){let t=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);let t=n.offsetHeight-n.clientHeight;return document.body.removeChild(n),this.calculatedScrollbarWidth=t,t}static invokeElementMethod(n,t,r){n[t].apply(n,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let n=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}}static isInteger(n){return Number.isInteger?Number.isInteger(n):"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}static isHidden(n){return!n||null===n.offsetParent}static isVisible(n){return n&&null!=n.offsetParent}static isExist(n){return null!==n&&typeof n<"u"&&n.nodeName&&n.parentNode}static focus(n,t){n&&document.activeElement!==n&&n.focus(t)}static getFocusableElements(n){let t=i.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of t)(o.offsetWidth||o.offsetHeight||o.getClientRects().length)&&r.push(o);return r}static getNextFocusableElement(n,t=!1){const r=i.getFocusableElements(n);let o=0;if(r&&r.length>0){const c=r.indexOf(r[0].ownerDocument.activeElement);t?o=-1==c||0===c?r.length-1:c-1:-1!=c&&c!==r.length-1&&(o=c+1)}return r[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(n,t){if(!n)return null;switch(n){case"document":return document;case"window":return window;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@parent":return t?.parentElement;case"@grandparent":return t?.parentElement.parentElement;default:const r=typeof n;if("string"===r)return document.querySelector(n);if("object"===r&&n.hasOwnProperty("nativeElement"))return this.isExist(n.nativeElement)?n.nativeElement:void 0;const c=(d=n)&&d.constructor&&d.call&&d.apply?n():n;return c&&9===c.nodeType||this.isExist(c)?c:null}var d}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(n,t){if(n){const r=n.getAttribute(t);return isNaN(r)?"true"===r||"false"===r?"true"===r:r:+r}}}return m(i,"zindex",1e3),m(i,"calculatedScrollbarWidth",null),m(i,"calculatedScrollbarHeight",null),m(i,"browser",void 0),i})();class VR{constructor(e,n=(()=>{})){m(this,"element",void 0),m(this,"listener",void 0),m(this,"scrollableParents",void 0),this.element=e,this.listener=n}bindScrollListener(){this.scrollableParents=ee.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}const z$=["*"];let vn=(()=>{var i;class e{constructor(){m(this,"label",void 0),m(this,"spin",!1),m(this,"styleClass",void 0),m(this,"role",void 0),m(this,"ariaLabel",void 0),m(this,"ariaHidden",void 0)}ngOnInit(){this.getAttributes()}getAttributes(){const t=et.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[s.jDz],ngContentSelectors:z$,decls:1,vars:0,template:function(t,r){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0})),e})(),iD=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["AngleDownIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),rD=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["AngleRightIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),sD=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["BarsIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),Zd=(()=>{var i;class e{constructor(t,r,o,c,d,f){m(this,"document",void 0),m(this,"platformId",void 0),m(this,"renderer",void 0),m(this,"el",void 0),m(this,"zone",void 0),m(this,"config",void 0),m(this,"animationListener",void 0),m(this,"mouseDownListener",void 0),m(this,"timeout",void 0),this.document=t,this.platformId=r,this.renderer=o,this.el=c,this.zone=d,this.config=f}ngAfterViewInit(){si(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(ee.removeClass(r,"p-ink-active"),!ee.getHeight(r)&&!ee.getWidth(r)){let f=Math.max(ee.getOuterWidth(this.el.nativeElement),ee.getOuterHeight(this.el.nativeElement));r.style.height=f+"px",r.style.width=f+"px"}let o=ee.getOffset(this.el.nativeElement),c=t.pageX-o.left+this.document.body.scrollTop-ee.getWidth(r)/2,d=t.pageY-o.top+this.document.body.scrollLeft-ee.getHeight(r)/2;this.renderer.setStyle(r,"top",d+"px"),this.renderer.setStyle(r,"left",c+"px"),ee.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let f=this.getInk();f&&ee.removeClass(f,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&ee.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),ee.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,ee.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(ye),s.Y36(s.Lbi),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(dl,8))}),m(e,"\u0275dir",s.lG2({type:i,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})),e})(),hu=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht]})),e})(),f9=(()=>{var i;class e{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}constructor(t,r,o,c,d,f){m(this,"platformId",void 0),m(this,"el",void 0),m(this,"zone",void 0),m(this,"config",void 0),m(this,"renderer",void 0),m(this,"changeDetector",void 0),m(this,"tooltipPosition",void 0),m(this,"tooltipEvent","hover"),m(this,"appendTo",void 0),m(this,"positionStyle",void 0),m(this,"tooltipStyleClass",void 0),m(this,"tooltipZIndex",void 0),m(this,"escape",!0),m(this,"showDelay",void 0),m(this,"hideDelay",void 0),m(this,"life",void 0),m(this,"positionTop",void 0),m(this,"positionLeft",void 0),m(this,"autoHide",!0),m(this,"fitContent",!0),m(this,"hideOnEscape",!0),m(this,"text",void 0),m(this,"tooltipOptions",void 0),m(this,"_tooltipOptions",{tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0}),m(this,"_disabled",void 0),m(this,"container",void 0),m(this,"styleClass",void 0),m(this,"tooltipText",void 0),m(this,"showTimeout",void 0),m(this,"hideTimeout",void 0),m(this,"active",void 0),m(this,"mouseEnterListener",void 0),m(this,"mouseLeaveListener",void 0),m(this,"containerMouseleaveListener",void 0),m(this,"clickListener",void 0),m(this,"focusListener",void 0),m(this,"blurListener",void 0),m(this,"scrollHandler",void 0),m(this,"resizeListener",void 0),this.platformId=t,this.el=r,this.zone=o,this.config=c,this.renderer=d,this.changeDetector=f}ngAfterViewInit(){si(this.platformId)&&this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.getTarget(this.el.nativeElement);t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.text&&(this.setOption({tooltipLabel:t.text.currentValue}),this.active&&(t.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...t.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){(this.isAutoHide()||!(ee.hasClass(t.target,"p-tooltip")||ee.hasClass(t.target,"p-tooltip-arrow")||ee.hasClass(t.target,"p-tooltip-text")||ee.hasClass(t.relatedTarget,"p-tooltip")||ee.hasClass(t.relatedTarget,"p-tooltip-text")||ee.hasClass(t.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?ee.appendChild(this.container,this.el.nativeElement):ee.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()||this.bindContainerMouseleaveListener()}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",r=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),ee.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?mr.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&mr.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+ee.getWindowScrollLeft(),top:t.top+ee.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),r=t.left+ee.getOuterWidth(this.el.nativeElement),o=t.top+(ee.getOuterHeight(this.el.nativeElement)-ee.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),r=t.left-ee.getOuterWidth(this.container),o=t.top+(ee.getOuterHeight(this.el.nativeElement)-ee.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),r=t.left+(ee.getOuterWidth(this.el.nativeElement)-ee.getOuterWidth(this.container))/2,o=t.top-ee.getOuterHeight(this.container);this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),r=t.left+(ee.getOuterWidth(this.el.nativeElement)-ee.getOuterWidth(this.container))/2,o=t.top+ee.getOuterHeight(this.el.nativeElement);this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions={...this._tooltipOptions,...t}}getOption(t){return this._tooltipOptions[t]}getTarget(t){return ee.hasClass(t,"p-inputwrapper")?ee.findSingle(t,"input"):t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let r="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?r+" "+this.getOption("tooltipStyleClass"):r}isOutOfBounds(){let t=this.container.getBoundingClientRect(),r=t.top,o=t.left,c=ee.getOuterWidth(this.container),d=ee.getOuterHeight(this.container),f=ee.getViewport();return o+c>f.width||o<0||r<0||r+d>f.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new VR(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let t=this.getTarget(this.el.nativeElement);t.removeEventListener("focus",this.focusListener),t.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):ee.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&mr.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.Lbi),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(dl),s.Y36(s.Qsj),s.Y36(s.sBO))}),m(e,"\u0275dir",s.lG2({type:i,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,r){1&t&&s.NdJ("keydown.escape",function(c){return r.onPressEscape(c)},!1,s.evT)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",hideOnEscape:"hideOnEscape",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]})),e})(),BR=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht]})),e})();var j$=U(671);const W$=["menubar"];function Y$(i,e){if(1&i&&s._UZ(0,"li",5),2&i){const n=s.oxw().$implicit,t=s.oxw();s.Akn(t.getItemProp(n,"style")),s.Q6J("id",t.getItemId(n))("ngClass",t.getSeparatorItemClass(n)),s.uIk("data-pc-section","separator")}}function K$(i,e){if(1&i&&s._UZ(0,"span",18),2&i){const n=s.oxw(3).$implicit,t=s.oxw();s.Q6J("ngClass",t.getItemProp(n,"icon"))("ngStyle",t.getItemProp(n,"iconStyle")),s.uIk("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function Q$(i,e){if(1&i&&(s.TgZ(0,"span",19),s._uU(1),s.qZA()),2&i){const n=s.oxw(3).$implicit,t=s.oxw();s.uIk("data-pc-section","label"),s.xp6(1),s.hij(" ",t.getItemLabel(n)," ")}}function J$(i,e){if(1&i&&s._UZ(0,"span",20),2&i){const n=s.oxw(3).$implicit,t=s.oxw();s.Q6J("innerHTML",t.getItemLabel(n),s.oJD),s.uIk("data-pc-section","label")}}function X$(i,e){if(1&i&&(s.TgZ(0,"span",21),s._uU(1),s.qZA()),2&i){const n=s.oxw(3).$implicit,t=s.oxw();s.Q6J("ngClass",t.getItemProp(n,"badgeStyleClass")),s.xp6(1),s.Oqu(t.child.badge)}}function eW(i,e){1&i&&s._UZ(0,"AngleDownIcon",24),2&i&&(s.Q6J("styleClass","p-submenu-icon"),s.uIk("data-pc-section","submenuicon")("aria-hidden",!0))}function tW(i,e){1&i&&s._UZ(0,"AngleRightIcon",24),2&i&&(s.Q6J("styleClass","p-submenu-icon"),s.uIk("data-pc-section","submenuicon")("aria-hidden",!0))}function nW(i,e){if(1&i&&(s.ynx(0),s.YNc(1,eW,1,3,"AngleDownIcon",23),s.YNc(2,tW,1,3,"AngleRightIcon",23),s.BQk()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngIf",n.root),s.xp6(1),s.Q6J("ngIf",!n.root)}}function iW(i,e){}function rW(i,e){1&i&&s.YNc(0,iW,0,0,"ng-template"),2&i&&s.Q6J("data-pc-section","submenuicon")("aria-hidden",!0)}function sW(i,e){if(1&i&&(s.ynx(0),s.YNc(1,nW,3,2,"ng-container",17),s.YNc(2,rW,1,2,null,22),s.BQk()),2&i){s.oxw(4);const n=s.MAs(1);s.xp6(1),s.Q6J("ngIf",!n.submenuIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.submenuIconTemplate)}}const m9=function(i){return{"p-menuitem-link":!0,"p-disabled":i}};function oW(i,e){if(1&i&&(s.TgZ(0,"a",12),s.YNc(1,K$,1,5,"span",13),s.YNc(2,Q$,2,2,"span",14),s.YNc(3,J$,1,2,"ng-template",null,15,s.W1O),s.YNc(5,X$,2,2,"span",16),s.YNc(6,sW,3,2,"ng-container",17),s.qZA()),2&i){const n=s.MAs(4),t=s.oxw(2).$implicit,r=s.oxw();s.Q6J("target",r.getItemProp(t,"target"))("ngClass",s.VKq(12,m9,r.getItemProp(t,"disabled"))),s.uIk("href",r.getItemProp(t,"url"),s.LSH)("aria-hidden",!0)("data-automationid",r.getItemProp(t,"automationId"))("data-pc-section","action")("tabindex",-1),s.xp6(1),s.Q6J("ngIf",r.getItemProp(t,"icon")),s.xp6(1),s.Q6J("ngIf",r.getItemProp(t,"escape"))("ngIfElse",n),s.xp6(3),s.Q6J("ngIf",r.getItemProp(t,"badge")),s.xp6(1),s.Q6J("ngIf",r.isItemGroup(t))}}function aW(i,e){if(1&i&&s._UZ(0,"span",18),2&i){const n=s.oxw(3).$implicit,t=s.oxw();s.Q6J("ngClass",t.getItemProp(n,"icon"))("ngStyle",t.getItemProp(n,"iconStyle")),s.uIk("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function lW(i,e){if(1&i&&(s.TgZ(0,"span",19),s._uU(1),s.qZA()),2&i){const n=s.oxw(3).$implicit,t=s.oxw();s.xp6(1),s.Oqu(t.getItemLabel(n))}}function cW(i,e){if(1&i&&s._UZ(0,"span",20),2&i){const n=s.oxw(3).$implicit,t=s.oxw();s.Q6J("innerHTML",t.getItemLabel(n),s.oJD),s.uIk("data-pc-section","label")}}function uW(i,e){if(1&i&&(s.TgZ(0,"span",21),s._uU(1),s.qZA()),2&i){const n=s.oxw(3).$implicit,t=s.oxw();s.Q6J("ngClass",t.getItemProp(n,"badgeStyleClass")),s.xp6(1),s.Oqu(t.getItemProp(n,"badge"))}}function dW(i,e){1&i&&s._UZ(0,"AngleDownIcon",24),2&i&&(s.Q6J("styleClass","p-submenu-icon"),s.uIk("data-pc-section","submenuicon")("aria-hidden",!0))}function hW(i,e){1&i&&s._UZ(0,"AngleRightIcon",24),2&i&&(s.Q6J("styleClass","p-submenu-icon"),s.uIk("data-pc-section","submenuicon")("aria-hidden",!0))}function pW(i,e){if(1&i&&(s.ynx(0),s.YNc(1,dW,1,3,"AngleDownIcon",23),s.YNc(2,hW,1,3,"AngleRightIcon",23),s.BQk()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngIf",n.root),s.xp6(1),s.Q6J("ngIf",!n.root)}}function fW(i,e){}function mW(i,e){1&i&&s.YNc(0,fW,0,0,"ng-template"),2&i&&s.Q6J("data-pc-section","submenuicon")("aria-hidden",!0)}function gW(i,e){if(1&i&&(s.ynx(0),s.YNc(1,pW,3,2,"ng-container",17),s.YNc(2,mW,1,2,null,22),s.BQk()),2&i){s.oxw(4);const n=s.MAs(1);s.xp6(1),s.Q6J("ngIf",!n.submenuIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.submenuIconTemplate)}}const _W=function(){return{exact:!1}};function yW(i,e){if(1&i&&(s.TgZ(0,"a",25),s.YNc(1,aW,1,5,"span",13),s.YNc(2,lW,2,1,"span",14),s.YNc(3,cW,1,2,"ng-template",null,26,s.W1O),s.YNc(5,uW,2,2,"span",16),s.YNc(6,gW,3,2,"ng-container",17),s.qZA()),2&i){const n=s.MAs(4),t=s.oxw(2).$implicit,r=s.oxw();s.Q6J("routerLink",r.getItemProp(t,"routerLink"))("queryParams",r.getItemProp(t,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.getItemProp(t,"routerLinkActiveOptions")||s.DdM(21,_W))("target",r.getItemProp(t,"target"))("ngClass",s.VKq(22,m9,r.getItemProp(t,"disabled")))("fragment",r.getItemProp(t,"fragment"))("queryParamsHandling",r.getItemProp(t,"queryParamsHandling"))("preserveFragment",r.getItemProp(t,"preserveFragment"))("skipLocationChange",r.getItemProp(t,"skipLocationChange"))("replaceUrl",r.getItemProp(t,"replaceUrl"))("state",r.getItemProp(t,"state")),s.uIk("data-automationid",r.getItemProp(t,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),s.xp6(1),s.Q6J("ngIf",r.getItemProp(t,"icon")),s.xp6(1),s.Q6J("ngIf",r.getItemProp(t,"escape"))("ngIfElse",n),s.xp6(3),s.Q6J("ngIf",r.getItemProp(t,"badge")),s.xp6(1),s.Q6J("ngIf",r.isItemGroup(t))}}function vW(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-menubarSub",27),s.NdJ("itemClick",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.itemClick.emit(r))})("itemMouseEnter",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onItemMouseEnter(r))}),s.qZA()}if(2&i){const n=s.oxw(2).$implicit,t=s.oxw();s.Q6J("items",n.items)("mobileActive",t.mobileActive)("autoDisplay",t.autoDisplay)("menuId",t.menuId)("activeItemPath",t.activeItemPath)("focusedItemId",t.focusedItemId)("level",t.level+1)}}function wW(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"li",6,7)(2,"div",8),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw().$implicit,c=s.oxw();return s.KtG(c.onItemClick(r,o))})("mouseenter",function(r){s.CHM(n);const o=s.oxw().$implicit,c=s.oxw();return s.KtG(c.onItemMouseEnter({$event:r,processedItem:o}))}),s.YNc(3,oW,7,14,"a",9),s.YNc(4,yW,7,24,"a",10),s.qZA(),s.YNc(5,vW,1,7,"p-menubarSub",11),s.qZA()}if(2&i){const n=s.oxw(),t=n.$implicit,r=n.index,o=s.oxw();s.Tol(o.getItemProp(t,"styleClass")),s.Q6J("id",o.getItemId(t))("ngStyle",o.getItemProp(t,"style"))("ngClass",o.getItemClass(t))("tooltipOptions",o.getItemProp(t,"tooltipOptions")),s.uIk("data-pc-section","menuitem")("data-p-highlight",o.isItemActive(t))("data-p-focused",o.isItemFocused(t))("data-p-disabled",o.isItemDisabled(t))("aria-label",o.getItemLabel(t))("aria-disabled",o.isItemDisabled(t)||void 0)("aria-haspopup",o.isItemGroup(t)&&!o.getItemProp(t,"to")?"menu":void 0)("aria-expanded",o.isItemGroup(t)?o.isItemActive(t):void 0)("aria-level",o.level+1)("aria-setsize",o.getAriaSetSize())("aria-posinset",o.getAriaPosInset(r)),s.xp6(2),s.uIk("data-pc-section","content"),s.xp6(1),s.Q6J("ngIf",!o.getItemProp(t,"routerLink")),s.xp6(1),s.Q6J("ngIf",o.getItemProp(t,"routerLink")),s.xp6(1),s.Q6J("ngIf",o.isItemVisible(t)&&o.isItemGroup(t))}}function bW(i,e){if(1&i&&(s.YNc(0,Y$,1,5,"li",3),s.YNc(1,wW,6,21,"li",4)),2&i){const n=e.$implicit,t=s.oxw();s.Q6J("ngIf",t.isItemVisible(n)&&t.getItemProp(n,"separator")),s.xp6(1),s.Q6J("ngIf",t.isItemVisible(n)&&!t.getItemProp(n,"separator"))}}const CW=function(i,e){return{"p-submenu-list":i,"p-menubar-root-list":e}},IW=["menubutton"],TW=["rootmenu"];function EW(i,e){1&i&&s.GkF(0)}function xW(i,e){if(1&i&&(s.TgZ(0,"div",7),s.YNc(1,EW,1,0,"ng-container",8),s.qZA()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",n.startTemplate)}}function SW(i,e){1&i&&s._UZ(0,"BarsIcon")}function DW(i,e){}function AW(i,e){1&i&&s.YNc(0,DW,0,0,"ng-template")}function MW(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"a",9,10),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.menuButtonClick(r))})("keydown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.menuButtonKeydown(r))}),s.YNc(2,SW,1,0,"BarsIcon",11),s.YNc(3,AW,1,0,null,8),s.qZA()}if(2&i){const n=s.oxw();s.uIk("aria-haspopup",!!(n.model.length&&n.model.length>0))("aria-expanded",n.mobileActive)("aria-controls",n.id)("aria-label",n.config.translation.aria.navigation)("data-pc-section","button"),s.xp6(2),s.Q6J("ngIf",!n.menuIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.menuIconTemplate)}}function kW(i,e){1&i&&s.GkF(0)}function PW(i,e){if(1&i&&(s.TgZ(0,"div",12),s.YNc(1,kW,1,0,"ng-container",8),s.qZA()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",n.endTemplate)}}function RW(i,e){1&i&&(s.TgZ(0,"div",12),s.Hsn(1),s.qZA())}const OW=function(i){return{"p-menubar p-component":!0,"p-menubar-mobile-active":i}},NW=["*"];let UR=(()=>{var i;class e{constructor(){m(this,"autoHide",void 0),m(this,"autoHideDelay",void 0),m(this,"mouseLeaves",new pr.x),m(this,"mouseLeft$",this.mouseLeaves.pipe(function $$(i){return(0,Ir.e)((e,n)=>{let t=!1,r=null,o=null;const c=()=>{if(o?.unsubscribe(),o=null,t){t=!1;const d=r;r=null,n.next(d)}};e.subscribe((0,Qi.x)(n,d=>{o?.unsubscribe(),t=!0,r=d,o=(0,Qi.x)(n,c,FL.Z),(0,Ih.Xf)(i(d)).subscribe(o)},()=>{c(),n.complete()},void 0,()=>{r=o=null}))})}(()=>function Z$(i=0,e=Tm.z){return i<0&&(i=0),function G$(i=0,e,n=Tm.P){let t=-1;return null!=e&&((0,j$.K)(e)?n=e:t=e),new Os.y(r=>{let o=function q$(i){return i instanceof Date&&!isNaN(i)}(i)?+i-n.now():i;o<0&&(o=0);let c=0;return n.schedule(function(){r.closed||(r.next(c++),0<=t?this.schedule(void 0,t):r.complete())},o)})}(i,i,e)}(this.autoHideDelay)),to(t=>this.autoHide&&t)))}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275prov",s.Yz7({token:i,factory:i.\u0275fac})),e})(),LW=(()=>{var i;class e{constructor(t,r,o,c){m(this,"el",void 0),m(this,"renderer",void 0),m(this,"cd",void 0),m(this,"menubarService",void 0),m(this,"items",void 0),m(this,"root",!1),m(this,"autoZIndex",!0),m(this,"baseZIndex",0),m(this,"mobileActive",void 0),m(this,"autoDisplay",void 0),m(this,"menuId",void 0),m(this,"ariaLabel",void 0),m(this,"ariaLabelledBy",void 0),m(this,"level",0),m(this,"focusedItemId",void 0),m(this,"activeItemPath",void 0),m(this,"itemClick",new s.vpe),m(this,"itemMouseEnter",new s.vpe),m(this,"menuFocus",new s.vpe),m(this,"menuBlur",new s.vpe),m(this,"menuKeydown",new s.vpe),m(this,"menubarViewChild",void 0),m(this,"mouseLeaveSubscriber",void 0),this.el=t,this.renderer=r,this.cd=o,this.menubarService=c}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(t,r){this.getItemProp(r,"command",{originalEvent:t,item:r.item}),this.itemClick.emit({originalEvent:t,processedItem:r,isFocus:!0})}getItemProp(t,r,o=null){return t&&t.item?et.getItemValue(t.item[r],o):void 0}getItemId(t){return`${this.menuId}_${t.key}`}getItemKey(t){return this.getItemId(t)}getItemClass(t){return{...this.getItemProp(t,"class"),"p-menuitem":!0,"p-highlight":this.isItemActive(t),"p-menuitem-active":this.isItemActive(t),"p-focus":this.isItemFocused(t),"p-disabled":this.isItemDisabled(t)}}getItemLabel(t){return this.getItemProp(t,"label")}getSeparatorItemClass(t){return{...this.getItemProp(t,"class"),"p-menuitem-separator":!0}}isItemVisible(t){return!1!==this.getItemProp(t,"visible")}isItemActive(t){if(this.activeItemPath)return this.activeItemPath.some(r=>r.key===t.key)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemFocused(t){return this.focusedItemId===this.getItemId(t)}isItemGroup(t){return et.isNotEmpty(t.items)}getAriaSetSize(){return this.items.filter(t=>this.isItemVisible(t)&&!this.getItemProp(t,"separator")).length}getAriaPosInset(t){return t-this.items.slice(0,t).filter(r=>this.isItemVisible(r)&&this.getItemProp(r,"separator")).length+1}onItemMouseLeave(){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(t){if(this.autoDisplay){this.menubarService.mouseLeaves.next(!1);const{event:r,processedItem:o}=t;this.itemMouseEnter.emit({originalEvent:r,processedItem:o})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(UR))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-menubarSub"]],viewQuery:function(t,r){if(1&t&&s.Gf(W$,7),2&t){let o;s.iGM(o=s.CRH())&&(r.menubarViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:"level",focusedItemId:"focusedItemId",activeItemPath:"activeItemPath"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},decls:3,vars:11,consts:[["role","menu",3,"ngClass","tabindex","id","focus","blur","keydown"],["menubar",""],["ngFor","",3,"ngForOf"],["role","separator",3,"id","style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"id","ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"id","ngClass"],["role","menuitem","pTooltip","",3,"id","ngStyle","ngClass","tooltipOptions"],["listItem",""],[1,"p-menuitem-content",3,"click","mouseenter"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],[3,"items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["htmlRouteLabel",""],[3,"items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter"]],template:function(t,r){1&t&&(s.TgZ(0,"ul",0,1),s.NdJ("focus",function(c){return r.menuFocus.emit(c)})("blur",function(c){return r.menuBlur.emit(c)})("keydown",function(c){return r.menuKeydown.emit(c)}),s.YNc(2,bW,2,2,"ng-template",2),s.qZA()),2&t&&(s.Q6J("ngClass",s.WLB(8,CW,!r.root,r.root))("tabindex",0)("id",r.menuId),s.uIk("data-pc-section","menu")("aria-label",r.ariaLabel)("aria-labelledBy",r.ariaLabelledBy)("aria-activedescendant",r.focusedItemId),s.xp6(2),s.Q6J("ngForOf",r.items))},dependencies:function(){return[Pn,ns,An,Zn,Gn,mI,e9,Zd,f9,iD,rD,i]},encapsulation:2})),e})(),FW=(()=>{var i;class e{set model(t){this._model=t,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}get visibleItems(){const t=this.activeItemPath().find(r=>r.key===this.focusedItemInfo().parentKey);return t?t.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){const t=this.focusedItemInfo();return-1!==t.index?`${this.id}${et.isNotEmpty(t.parentKey)?"_"+t.parentKey:""}_${t.index}`:null}constructor(t,r,o,c,d,f,_){m(this,"document",void 0),m(this,"platformId",void 0),m(this,"el",void 0),m(this,"renderer",void 0),m(this,"cd",void 0),m(this,"config",void 0),m(this,"menubarService",void 0),m(this,"style",void 0),m(this,"styleClass",void 0),m(this,"autoZIndex",!0),m(this,"baseZIndex",0),m(this,"autoDisplay",!0),m(this,"autoHide",void 0),m(this,"autoHideDelay",100),m(this,"id",void 0),m(this,"ariaLabel",void 0),m(this,"ariaLabelledBy",void 0),m(this,"onFocus",new s.vpe),m(this,"onBlur",new s.vpe),m(this,"templates",void 0),m(this,"menubutton",void 0),m(this,"rootmenu",void 0),m(this,"startTemplate",void 0),m(this,"endTemplate",void 0),m(this,"menuIconTemplate",void 0),m(this,"submenuIconTemplate",void 0),m(this,"mobileActive",void 0),m(this,"outsideClickListener",void 0),m(this,"resizeListener",void 0),m(this,"mouseLeaveSubscriber",void 0),m(this,"dirty",!1),m(this,"focused",!1),m(this,"activeItemPath",(0,s.tdS)([])),m(this,"number",(0,s.tdS)(0)),m(this,"focusedItemInfo",(0,s.tdS)({index:-1,level:0,parentKey:""})),m(this,"searchValue",""),m(this,"searchTimeout",void 0),m(this,"_processedItems",void 0),m(this,"_model",void 0),this.document=t,this.platformId=r,this.el=o,this.renderer=c,this.cd=d,this.config=f,this.menubarService=_,(0,s.cEC)(()=>{const b=this.activeItemPath();et.isNotEmpty(b)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener()),this.id=this.id||jn()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template;break;case"menuicon":this.menuIconTemplate=t.template;break;case"submenuicon":this.submenuIconTemplate=t.template}})}createProcessedItems(t,r=0,o={},c=""){const d=[];return t&&t.forEach((f,_)=>{const b=(""!==c?c+"_":"")+_,T={item:f,index:_,level:r,key:b,parent:o,parentKey:c};T.items=this.createProcessedItems(f.items,r+1,T,b),d.push(T)}),d}getItemProp(t,r){return t?et.getItemValue(t[r]):void 0}menuButtonClick(t){this.toggle(t)}menuButtonKeydown(t){("Enter"===t.code||"Space"===t.code)&&this.menuButtonClick(t)}onItemClick(t){const{originalEvent:r,processedItem:o}=t,c=this.isProcessedItemGroup(o),d=et.isEmpty(o.parent);if(this.isSelected(o)){const{index:_,key:b,level:T,parentKey:M}=o;this.activeItemPath.set(this.activeItemPath().filter(R=>b!==R.key&&b.startsWith(R.key))),this.focusedItemInfo.set({index:_,level:T,parentKey:M}),this.dirty=!d,ee.focus(this.rootmenu.menubarViewChild.nativeElement)}else if(c)this.onItemChange(t);else{const _=d?o:this.activeItemPath().find(b=>""===b.parentKey);this.hide(r),this.changeFocusedItemIndex(r,_?_.index:-1),this.mobileActive=!1,ee.focus(this.rootmenu.menubarViewChild.nativeElement)}}onItemMouseEnter(t){ee.isTouchDevice()||!this.mobileActive&&this.dirty&&this.onItemChange(t)}changeFocusedItemIndex(t,r){this.focusedItemInfo().index!==r&&(this.focusedItemInfo.mutate(o=>{o.index=r}),this.scrollInView())}scrollInView(t=-1){const o=ee.findSingle(this.rootmenu.el.nativeElement,`li[id="${-1!==t?`${this.id}_${t}`:this.focusedItemId}"]`);o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"start"})}onItemChange(t){const{processedItem:r,isFocus:o}=t;if(et.isEmpty(r))return;const{index:c,key:d,level:f,parentKey:_,items:b}=r,T=et.isNotEmpty(b),M=this.activeItemPath().filter(R=>R.parentKey!==_&&R.parentKey!==d);T&&M.push(r),this.focusedItemInfo.set({index:c,level:f,parentKey:_}),this.activeItemPath.set(M),T&&(this.dirty=!0),o&&ee.focus(this.rootmenu.menubarViewChild.nativeElement)}toggle(t){this.mobileActive?(this.mobileActive=!1,mr.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,mr.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.cd.markForCheck(),this.bindOutsideClickListener(),t.preventDefault()}hide(t,r){this.mobileActive&&setTimeout(()=>{ee.focus(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),r&&ee.focus(this.rootmenu.menubarViewChild.nativeElement),this.dirty=!1}show(){this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:""}),ee.focus(this.rootmenu.menubarViewChild.nativeElement)}onMenuFocus(t){this.focused=!0;const r=-1!==this.focusedItemInfo().index?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:""};this.focusedItemInfo.set(r),this.onFocus.emit(t)}onMenuBlur(t){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),this.searchValue="",this.dirty=!1,this.onBlur.emit(t)}onKeyDown(t){const r=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"ArrowRight":this.onArrowRightKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Space":this.onSpaceKey(t);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!r&&et.isPrintableCharacter(t.key)&&this.searchItems(t,t.key)}}findFirstFocusedItemIndex(){const t=this.findSelectedItemIndex();return t<0?this.findFirstItemIndex():t}findFirstItemIndex(){return this.visibleItems.findIndex(t=>this.isValidItem(t))}findSelectedItemIndex(){return this.visibleItems.findIndex(t=>this.isValidSelectedItem(t))}isProcessedItemGroup(t){return t&&et.isNotEmpty(t.items)}isSelected(t){return this.activeItemPath().some(r=>r.key===t.key)}isValidSelectedItem(t){return this.isValidItem(t)&&this.isSelected(t)}isValidItem(t){return!!t&&!this.isItemDisabled(t.item)&&!this.isItemSeparator(t.item)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemSeparator(t){return this.getItemProp(t,"separator")}isItemMatched(t){return this.isValidItem(t)&&this.getProccessedItemLabel(t).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(t){return t&&et.isNotEmpty(t.items)}searchItems(t,r){this.searchValue=(this.searchValue||"")+r;let o=-1,c=!1;return-1!==this.focusedItemInfo().index?(o=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(d=>this.isItemMatched(d)),o=-1===o?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(d=>this.isItemMatched(d)):o+this.focusedItemInfo().index):o=this.visibleItems.findIndex(d=>this.isItemMatched(d)),-1!==o&&(c=!0),-1===o&&-1===this.focusedItemInfo().index&&(o=this.findFirstFocusedItemIndex()),-1!==o&&this.changeFocusedItemIndex(t,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),c}getProccessedItemLabel(t){return t?this.getItemLabel(t.item):void 0}getItemLabel(t){return this.getItemProp(t,"label")}onArrowDownKey(t){const r=this.visibleItems[this.focusedItemInfo().index];if(r&&et.isEmpty(r.parent))this.isProccessedItemGroup(r)&&(this.onItemChange({originalEvent:t,processedItem:r}),this.focusedItemInfo.set({index:-1,parentKey:r.key}),this.onArrowRightKey(t));else{const c=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,c),t.preventDefault()}}onArrowRightKey(t){const r=this.visibleItems[this.focusedItemInfo().index];if(r&&this.activeItemPath().find(c=>c.key===r.parentKey))this.isProccessedItemGroup(r)&&(this.onItemChange({originalEvent:t,processedItem:r}),this.focusedItemInfo.set({index:-1,parentKey:r.key}),this.onArrowDownKey(t));else{const c=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,c),t.preventDefault()}}onArrowUpKey(t){const r=this.visibleItems[this.focusedItemInfo().index];if(et.isEmpty(r.parent)){if(this.isProccessedItemGroup(r)){this.onItemChange({originalEvent:t,processedItem:r}),this.focusedItemInfo.set({index:-1,parentKey:r.key});const d=this.findLastItemIndex();this.changeFocusedItemIndex(t,d)}}else{const c=this.activeItemPath().find(d=>d.key===r.parentKey);if(0===this.focusedItemInfo().index){this.focusedItemInfo.set({index:-1,parentKey:c?c.parentKey:""}),this.searchValue="",this.onArrowLeftKey(t);const d=this.activeItemPath().filter(f=>f.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(d)}else{const d=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,d)}}t.preventDefault()}onArrowLeftKey(t){const r=this.visibleItems[this.focusedItemInfo().index],o=r?this.activeItemPath().find(c=>c.key===r.parentKey):null;if(o){this.onItemChange({originalEvent:t,processedItem:o});const c=this.activeItemPath().filter(d=>d.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(c),t.preventDefault()}else{const c=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,c),t.preventDefault()}}onHomeKey(t){this.changeFocusedItemIndex(t,this.findFirstItemIndex()),t.preventDefault()}onEndKey(t){this.changeFocusedItemIndex(t,this.findLastItemIndex()),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onEscapeKey(t){this.hide(t,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),t.preventDefault()}onTabKey(t){if(-1!==this.focusedItemInfo().index){const r=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(r)&&this.onItemChange({originalEvent:t,processedItem:r})}this.hide()}onEnterKey(t){if(-1!==this.focusedItemInfo().index){const r=ee.findSingle(this.rootmenu.el.nativeElement,`li[id="${this.focusedItemId}"]`),o=r&&ee.findSingle(r,'a[data-pc-section="action"]');o?o.click():r&&r.click();const c=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(c)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}t.preventDefault()}findLastFocusedItemIndex(){const t=this.findSelectedItemIndex();return t<0?this.findLastItemIndex():t}findLastItemIndex(){return et.findLastIndex(this.visibleItems,t=>this.isValidItem(t))}findPrevItemIndex(t){const r=t>0?et.findLastIndex(this.visibleItems.slice(0,t),o=>this.isValidItem(o)):-1;return r>-1?r:t}findNextItemIndex(t){const r=t<this.visibleItems.length-1?this.visibleItems.slice(t+1).findIndex(o=>this.isValidItem(o)):-1;return r>-1?r+t+1:t}bindResizeListener(){si(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",t=>{ee.isTouchDevice()||this.hide(t,!0),this.mobileActive=!1})))}bindOutsideClickListener(){si(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",t=>{const r=this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target),o=this.mobileActive&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target);r&&(o?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(ye),s.Y36(s.Lbi),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(dl),s.Y36(UR))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-menubar"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&(s.Gf(IW,5),s.Gf(TW,5)),2&t){let o;s.iGM(o=s.CRH())&&(r.menubutton=o.first),s.iGM(o=s.CRH())&&(r.rootmenu=o.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",autoHide:"autoHide",autoHideDelay:"autoHideDelay",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[s._Bn([UR])],ngContentSelectors:NW,decls:8,vars:23,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","role","button","class","p-menubar-button",3,"click","keydown",4,"ngIf"],[3,"items","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","ariaLabel","ariaLabelledBy","focusedItemId","activeItemPath","itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",1,"p-menubar-button",3,"click","keydown"],["menubutton",""],[4,"ngIf"],[1,"p-menubar-end"]],template:function(t,r){if(1&t&&(s.F$t(),s.TgZ(0,"div",0),s.YNc(1,xW,2,1,"div",1),s.YNc(2,MW,4,7,"a",2),s.TgZ(3,"p-menubarSub",3,4),s.NdJ("itemClick",function(c){return r.onItemClick(c)})("menuFocus",function(c){return r.onMenuFocus(c)})("menuBlur",function(c){return r.onMenuBlur(c)})("menuKeydown",function(c){return r.onKeyDown(c)})("itemMouseEnter",function(c){return r.onItemMouseEnter(c)}),s.qZA(),s.YNc(5,PW,2,1,"div",5),s.YNc(6,RW,2,0,"ng-template",null,6,s.W1O),s.qZA()),2&t){const o=s.MAs(7);s.Tol(r.styleClass),s.Q6J("ngClass",s.VKq(21,OW,r.mobileActive))("ngStyle",r.style),s.uIk("data-pc-section","root")("data-pc-name","menubar"),s.xp6(1),s.Q6J("ngIf",r.startTemplate),s.xp6(1),s.Q6J("ngIf",r.model&&r.model.length>0),s.xp6(1),s.Q6J("items",r.processedItems)("menuId",r.id)("root",!0)("baseZIndex",r.baseZIndex)("autoZIndex",r.autoZIndex)("mobileActive",r.mobileActive)("autoDisplay",r.autoDisplay)("ariaLabel",r.ariaLabel)("ariaLabelledBy",r.ariaLabelledBy)("focusedItemId",r.focused?r.focusedItemId:void 0)("activeItemPath",r.activeItemPath()),s.xp6(2),s.Q6J("ngIf",r.endTemplate)("ngIfElse",o)}},dependencies:function(){return[Pn,An,Zn,Gn,sD,LW]},styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-menubar .p-menubar-root-list .p-icon-wrapper,.p-menubar .p-submenu-list .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0})),e})(),VW=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,nD,hu,BR,Kn,sD,iD,rD,nD,BR,Kn]})),e})(),HR=(()=>{var i;class e{constructor(t,r,o){m(this,"el",void 0),m(this,"ngModel",void 0),m(this,"cd",void 0),m(this,"filled",void 0),this.el=t,this.ngModel=r,this.cd=o}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.SBq),s.Y36(im,8),s.Y36(s.sBO))}),m(e,"\u0275dir",s.lG2({type:i,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(t,r){1&t&&s.NdJ("input",function(c){return r.onInput(c)}),2&t&&s.ekj("p-filled",r.filled)}})),e})(),zR=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht]})),e})(),BW=(()=>{var i;class e{constructor(t,r,o,c){m(this,"el",void 0),m(this,"ngModel",void 0),m(this,"control",void 0),m(this,"cd",void 0),m(this,"autoResize",void 0),m(this,"onResize",new s.vpe),m(this,"filled",void 0),m(this,"cachedScrollHeight",void 0),m(this,"ngModelSubscription",void 0),m(this,"ngControlSubscription",void 0),this.el=t,this.ngModel=r,this.control=o,this.cd=c}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(t){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(t){this.autoResize&&this.resize(t)}onBlur(t){this.autoResize&&this.resize(t)}resize(t){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(t||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.SBq),s.Y36(im,8),s.Y36($a,8),s.Y36(s.sBO))}),m(e,"\u0275dir",s.lG2({type:i,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(t,r){1&t&&s.NdJ("input",function(c){return r.onInput(c)})("focus",function(c){return r.onFocus(c)})("blur",function(c){return r.onBlur(c)}),2&t&&s.ekj("p-filled",r.filled)("p-inputtextarea-resizable",r.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})),e})(),UW=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht]})),e})(),Jp=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["SpinnerIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})();function HW(i,e){1&i&&s.GkF(0)}function zW(i,e){if(1&i&&s._UZ(0,"span",8),2&i){const n=s.oxw(3);s.Tol("p-button-loading-icon pi-spin "+n.loadingIcon),s.Q6J("ngClass",n.iconClass()),s.uIk("aria-hidden",!0)("data-pc-section","loadingicon")}}function jW(i,e){if(1&i&&s._UZ(0,"SpinnerIcon",9),2&i){const n=s.oxw(3);s.Q6J("styleClass",n.spinnerIconClass())("spin",!0),s.uIk("aria-hidden",!0)("data-pc-section","loadingicon")}}function qW(i,e){if(1&i&&(s.ynx(0),s.YNc(1,zW,1,5,"span",6),s.YNc(2,jW,1,4,"SpinnerIcon",7),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",n.loadingIcon),s.xp6(1),s.Q6J("ngIf",!n.loadingIcon)}}function GW(i,e){}function ZW(i,e){1&i&&s.YNc(0,GW,0,0,"ng-template")}function $W(i,e){if(1&i&&(s.TgZ(0,"span",10),s.YNc(1,ZW,1,0,null,1),s.qZA()),2&i){const n=s.oxw(2);s.Q6J("ngClass",n.iconClass()),s.uIk("aria-hidden",!0)("data-pc-section","loadingicon"),s.xp6(1),s.Q6J("ngTemplateOutlet",n.loadingIconTemplate)}}function WW(i,e){if(1&i&&(s.ynx(0),s.YNc(1,qW,3,2,"ng-container",2),s.YNc(2,$W,2,4,"span",5),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",!n.loadingIconTemplate),s.xp6(1),s.Q6J("ngIf",n.loadingIconTemplate)}}function YW(i,e){if(1&i&&s._UZ(0,"span",8),2&i){const n=s.oxw(2);s.Tol(n.icon),s.Q6J("ngClass",n.iconClass()),s.uIk("data-pc-section","icon")}}function KW(i,e){}function QW(i,e){if(1&i&&s.YNc(0,KW,0,0,"ng-template",12),2&i){const n=s.oxw(3);s.Q6J("ngIf",!n.icon)}}function JW(i,e){if(1&i&&(s.TgZ(0,"span",8),s.YNc(1,QW,1,1,null,1),s.qZA()),2&i){const n=s.oxw(2);s.Q6J("ngClass",n.iconClass()),s.uIk("data-pc-section","icon"),s.xp6(1),s.Q6J("ngTemplateOutlet",n.iconTemplate)}}function XW(i,e){if(1&i&&(s.ynx(0),s.YNc(1,YW,1,4,"span",6),s.YNc(2,JW,2,3,"span",11),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.icon&&!n.iconTemplate),s.xp6(1),s.Q6J("ngIf",!n.icon&&n.iconTemplate)}}function eY(i,e){if(1&i&&(s.TgZ(0,"span",13),s._uU(1),s.qZA()),2&i){const n=s.oxw();s.uIk("aria-hidden",n.icon&&!n.label)("data-pc-section","label"),s.xp6(1),s.Oqu(n.label)}}function tY(i,e){if(1&i&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&i){const n=s.oxw();s.Tol(n.badgeClass),s.Q6J("ngClass",n.badgeStyleClass()),s.uIk("data-pc-section","badge"),s.xp6(1),s.Oqu(n.badge)}}const nY=["*"],Xp={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let C0=(()=>{var i;class e{get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get htmlElement(){return this.el.nativeElement}constructor(t,r){m(this,"el",void 0),m(this,"document",void 0),m(this,"iconPos","left"),m(this,"loadingIcon",void 0),m(this,"_label",void 0),m(this,"_icon",void 0),m(this,"_loading",!1),m(this,"initialized",void 0),m(this,"_internalClasses",Object.values(Xp)),m(this,"spinnerIcon",'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">\n        <g clip-path="url(#clip0_417_21408)">\n            <path\n                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"\n                fill="currentColor"\n            />\n        </g>\n        <defs>\n            <clipPath id="clip0_417_21408">\n                <rect width="14" height="14" fill="white" />\n            </clipPath>\n        </defs>\n    </svg>'),this.el=t,this.document=r}ngAfterViewInit(){ee.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const t=[Xp.button,Xp.component];return this.icon&&!this.label&&et.isEmpty(this.htmlElement.textContent)&&t.push(Xp.iconOnly),this.loading&&(t.push(Xp.disabled,Xp.loading),!this.icon&&this.label&&t.push(Xp.labelOnly),this.icon&&!this.label&&!et.isEmpty(this.htmlElement.textContent)&&t.push(Xp.iconOnly)),t}setStyleClass(){const t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(this.label){let t=this.document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",t.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(t)}}createIcon(){if(this.icon||this.loading){let t=this.document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&ee.addClass(t,r);let o=this.getIconClass();o&&ee.addMultipleClasses(t,o),!this.loadingIcon&&this.loading&&(t.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(t,this.htmlElement.firstChild)}}updateLabel(){let t=ee.findSingle(this.htmlElement,".p-button-label");this.label?t?t.textContent=this.label:this.createLabel():t&&this.htmlElement.removeChild(t)}updateIcon(){let t=ee.findSingle(this.htmlElement,".p-button-icon"),r=ee.findSingle(this.htmlElement,".p-button-label");this.icon||this.loading?(this.loading&&!this.loadingIcon&&t&&(t.innerHTML=this.spinnerIcon),t?t.className=this.iconPos?"p-button-icon "+(r?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()):t&&this.htmlElement.removeChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon}ngOnDestroy(){this.initialized=!1}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.SBq),s.Y36(ye))}),m(e,"\u0275dir",s.lG2({type:i,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}})),e})(),iY=(()=>{var i;class e{constructor(){m(this,"type","button"),m(this,"iconPos","left"),m(this,"icon",void 0),m(this,"badge",void 0),m(this,"label",void 0),m(this,"disabled",void 0),m(this,"loading",!1),m(this,"loadingIcon",void 0),m(this,"style",void 0),m(this,"styleClass",void 0),m(this,"badgeClass",void 0),m(this,"ariaLabel",void 0),m(this,"onClick",new s.vpe),m(this,"onFocus",new s.vpe),m(this,"onBlur",new s.vpe),m(this,"contentTemplate",void 0),m(this,"loadingIconTemplate",void 0),m(this,"iconTemplate",void 0),m(this,"templates",void 0)}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[r])=>t+` ${r}`,"p-button-loading-icon")}iconClass(){return{"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label}}buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-disabled":this.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-button"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:nY,decls:7,vars:14,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],["class","p-button-loading-icon",3,"ngClass",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[1,"p-button-loading-icon",3,"ngClass"],[3,"ngClass",4,"ngIf"],[3,"ngIf"],[1,"p-button-label"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"button",0),s.NdJ("click",function(c){return r.onClick.emit(c)})("focus",function(c){return r.onFocus.emit(c)})("blur",function(c){return r.onBlur.emit(c)}),s.Hsn(1),s.YNc(2,HW,1,0,"ng-container",1),s.YNc(3,WW,3,2,"ng-container",2),s.YNc(4,XW,3,2,"ng-container",2),s.YNc(5,eY,2,3,"span",3),s.YNc(6,tY,2,5,"span",4),s.qZA()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass()),s.uIk("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root"),s.xp6(2),s.Q6J("ngTemplateOutlet",r.contentTemplate),s.xp6(1),s.Q6J("ngIf",r.loading),s.xp6(1),s.Q6J("ngIf",!r.loading),s.xp6(1),s.Q6J("ngIf",!r.contentTemplate&&r.label),s.xp6(1),s.Q6J("ngIf",!r.contentTemplate&&r.badge))},dependencies:function(){return[Pn,An,Zn,Gn,Zd,Jp]},encapsulation:2,changeDetection:0})),e})(),e_=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,hu,Kn,Jp,Kn]})),e})(),g9=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),_9=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["ChevronRightIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),y9=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["ChevronUpIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),oD=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["ChevronDownIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),zs=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["TimesIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),v9=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["CalendarIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})();const rY=["container"],sY=["inputfield"],oY=["contentWrapper"];function aY(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"TimesIcon",10),s.NdJ("click",function(){s.CHM(n);const r=s.oxw(3);return s.KtG(r.clear())}),s.qZA()}2&i&&s.Q6J("styleClass","p-calendar-clear-icon")}function lY(i,e){}function cY(i,e){1&i&&s.YNc(0,lY,0,0,"ng-template")}function uY(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",11),s.NdJ("click",function(){s.CHM(n);const r=s.oxw(3);return s.KtG(r.clear())}),s.YNc(1,cY,1,0,null,12),s.qZA()}if(2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",n.clearIconTemplate)}}function dY(i,e){if(1&i&&(s.ynx(0),s.YNc(1,aY,1,1,"TimesIcon",8),s.YNc(2,uY,2,1,"span",9),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!n.clearIconTemplate),s.xp6(1),s.Q6J("ngIf",n.clearIconTemplate)}}function hY(i,e){if(1&i&&s._UZ(0,"span",15),2&i){const n=s.oxw(3);s.Q6J("ngClass",n.icon)}}function pY(i,e){1&i&&s._UZ(0,"CalendarIcon")}function fY(i,e){}function mY(i,e){1&i&&s.YNc(0,fY,0,0,"ng-template")}function gY(i,e){if(1&i&&(s.ynx(0),s.YNc(1,pY,1,0,"CalendarIcon",6),s.YNc(2,mY,1,0,null,12),s.BQk()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngIf",!n.triggerIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.triggerIconTemplate)}}function _Y(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(r){s.CHM(n),s.oxw();const o=s.MAs(1),c=s.oxw();return s.KtG(c.onButtonClick(r,o))}),s.YNc(1,hY,1,1,"span",14),s.YNc(2,gY,3,2,"ng-container",6),s.qZA()}if(2&i){const n=s.oxw(2);s.Q6J("disabled",n.disabled),s.uIk("aria-label",n.iconAriaLabel),s.xp6(1),s.Q6J("ngIf",n.icon),s.xp6(1),s.Q6J("ngIf",!n.icon)}}function yY(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"input",4,5),s.NdJ("focus",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onInputFocus(r))})("keydown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onInputKeydown(r))})("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onInputClick())})("blur",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onInputBlur(r))})("input",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onUserInput(r))}),s.qZA(),s.YNc(2,dY,3,2,"ng-container",6),s.YNc(3,_Y,3,4,"button",7)}if(2&i){const n=s.oxw();s.Tol(n.inputStyleClass),s.Q6J("value",n.inputFieldValue)("readonly",n.readonlyInput)("ngStyle",n.inputStyle)("placeholder",n.placeholder||"")("disabled",n.disabled)("ngClass","p-inputtext p-component"),s.uIk("id",n.inputId)("name",n.name)("required",n.required)("aria-required",n.required)("tabindex",n.tabindex)("inputmode",n.touchUI?"off":null)("aria-labelledby",n.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",n.showClear&&!n.disabled&&null!=n.value),s.xp6(1),s.Q6J("ngIf",n.showIcon)}}function vY(i,e){1&i&&s.GkF(0)}function wY(i,e){1&i&&s._UZ(0,"ChevronLeftIcon",37),2&i&&s.Q6J("styleClass","p-datepicker-prev-icon")}function bY(i,e){}function CY(i,e){1&i&&s.YNc(0,bY,0,0,"ng-template")}function IY(i,e){if(1&i&&(s.TgZ(0,"span",38),s.YNc(1,CY,1,0,null,12),s.qZA()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngTemplateOutlet",n.previousIconTemplate)}}function TY(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",35),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.onPrevButtonClick(r))}),s.YNc(1,wY,1,1,"ChevronLeftIcon",32),s.YNc(2,IY,2,1,"span",36),s.qZA()}if(2&i){const n=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!n.previousIconTemplate),s.xp6(1),s.Q6J("ngIf",n.previousIconTemplate)}}function EY(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",39),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.switchToMonthView(r))})("keydown",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.onContainerButtonKeydown(r))}),s._uU(1),s.qZA()}if(2&i){const n=s.oxw().$implicit,t=s.oxw(3);s.Q6J("disabled",t.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",t.getMonthName(n.month)," ")}}function xY(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",40),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.switchToYearView(r))})("keydown",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.onContainerButtonKeydown(r))}),s._uU(1),s.qZA()}if(2&i){const n=s.oxw().$implicit,t=s.oxw(3);s.Q6J("disabled",t.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",t.getYear(n)," ")}}function SY(i,e){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const n=s.oxw(5);s.xp6(1),s.AsE("",n.yearPickerValues()[0]," - ",n.yearPickerValues()[n.yearPickerValues().length-1],"")}}function DY(i,e){1&i&&s.GkF(0)}const w9=function(i){return{$implicit:i}};function AY(i,e){if(1&i&&(s.TgZ(0,"span",41),s.YNc(1,SY,2,2,"ng-container",6),s.YNc(2,DY,1,0,"ng-container",42),s.qZA()),2&i){const n=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!n.decadeTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.decadeTemplate)("ngTemplateOutletContext",s.VKq(3,w9,n.yearPickerValues))}}function MY(i,e){1&i&&s._UZ(0,"ChevronRightIcon",37),2&i&&s.Q6J("styleClass","p-datepicker-next-icon")}function kY(i,e){}function PY(i,e){1&i&&s.YNc(0,kY,0,0,"ng-template")}function RY(i,e){if(1&i&&(s.TgZ(0,"span",43),s.YNc(1,PY,1,0,null,12),s.qZA()),2&i){const n=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",n.nextIconTemplate)}}function OY(i,e){if(1&i&&(s.TgZ(0,"th",49)(1,"span"),s._uU(2),s.qZA()()),2&i){const n=s.oxw(5);s.xp6(2),s.Oqu(n.getTranslation("weekHeader"))}}function NY(i,e){if(1&i&&(s.TgZ(0,"th",50)(1,"span"),s._uU(2),s.qZA()()),2&i){const n=e.$implicit;s.xp6(2),s.Oqu(n)}}function LY(i,e){if(1&i&&(s.TgZ(0,"td",53)(1,"span",54),s._uU(2),s.qZA()()),2&i){const n=s.oxw().index,t=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",t.weekNumbers[n]," ")}}function FY(i,e){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const n=s.oxw(2).$implicit;s.xp6(1),s.Oqu(n.day)}}function VY(i,e){1&i&&s.GkF(0)}const b9=function(i,e){return{"p-highlight":i,"p-disabled":e}};function BY(i,e){if(1&i){const n=s.EpF();s.ynx(0),s.TgZ(1,"span",55),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw().$implicit,c=s.oxw(6);return s.KtG(c.onDateSelect(r,o))})("keydown",function(r){s.CHM(n);const o=s.oxw().$implicit,c=s.oxw(3).index,d=s.oxw(3);return s.KtG(d.onDateCellKeydown(r,o,c))}),s.YNc(2,FY,2,1,"ng-container",6),s.YNc(3,VY,1,0,"ng-container",42),s.qZA(),s.BQk()}if(2&i){const n=s.oxw().$implicit,t=s.oxw(6);s.xp6(1),s.Q6J("ngClass",s.WLB(4,b9,t.isSelected(n),!n.selectable)),s.xp6(1),s.Q6J("ngIf",!t.dateTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",t.dateTemplate)("ngTemplateOutletContext",s.VKq(7,w9,n))}}const UY=function(i,e){return{"p-datepicker-other-month":i,"p-datepicker-today":e}};function HY(i,e){if(1&i&&(s.TgZ(0,"td",15),s.YNc(1,BY,4,9,"ng-container",6),s.qZA()),2&i){const n=e.$implicit,t=s.oxw(6);s.Q6J("ngClass",s.WLB(2,UY,n.otherMonth,n.today)),s.xp6(1),s.Q6J("ngIf",!n.otherMonth||t.showOtherMonths)}}function zY(i,e){if(1&i&&(s.TgZ(0,"tr"),s.YNc(1,LY,3,1,"td",51),s.YNc(2,HY,2,5,"td",52),s.qZA()),2&i){const n=e.$implicit,t=s.oxw(5);s.xp6(1),s.Q6J("ngIf",t.showWeek),s.xp6(1),s.Q6J("ngForOf",n)}}function jY(i,e){if(1&i&&(s.TgZ(0,"div",44)(1,"table",45)(2,"thead")(3,"tr"),s.YNc(4,OY,3,1,"th",46),s.YNc(5,NY,3,1,"th",47),s.qZA()(),s.TgZ(6,"tbody"),s.YNc(7,zY,3,2,"tr",48),s.qZA()()()),2&i){const n=s.oxw().$implicit,t=s.oxw(3);s.xp6(4),s.Q6J("ngIf",t.showWeek),s.xp6(1),s.Q6J("ngForOf",t.weekDays),s.xp6(2),s.Q6J("ngForOf",n.dates)}}function qY(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",24)(1,"div",25),s.YNc(2,TY,3,2,"button",26),s.TgZ(3,"div",27),s.YNc(4,EY,2,2,"button",28),s.YNc(5,xY,2,2,"button",29),s.YNc(6,AY,3,5,"span",30),s.qZA(),s.TgZ(7,"button",31),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onNextButtonClick(r))}),s.YNc(8,MY,1,1,"ChevronRightIcon",32),s.YNc(9,RY,2,1,"span",33),s.qZA()(),s.YNc(10,jY,8,3,"div",34),s.qZA()}if(2&i){const n=e.index,t=s.oxw(3);s.xp6(2),s.Q6J("ngIf",0===n),s.xp6(2),s.Q6J("ngIf","date"===t.currentView),s.xp6(1),s.Q6J("ngIf","year"!==t.currentView),s.xp6(1),s.Q6J("ngIf","year"===t.currentView),s.xp6(1),s.Udp("display",1===t.numberOfMonths||n===t.numberOfMonths-1?"inline-flex":"none"),s.xp6(1),s.Q6J("ngIf",!t.nextIconTemplate),s.xp6(1),s.Q6J("ngIf",t.nextIconTemplate),s.xp6(1),s.Q6J("ngIf","date"===t.currentView)}}function GY(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",58),s.NdJ("click",function(r){const c=s.CHM(n).index,d=s.oxw(4);return s.KtG(d.onMonthSelect(r,c))})("keydown",function(r){const c=s.CHM(n).index,d=s.oxw(4);return s.KtG(d.onMonthCellKeydown(r,c))}),s._uU(1),s.qZA()}if(2&i){const n=e.$implicit,t=e.index,r=s.oxw(4);s.Q6J("ngClass",s.WLB(2,b9,r.isMonthSelected(t),r.isMonthDisabled(t))),s.xp6(1),s.hij(" ",n," ")}}function ZY(i,e){if(1&i&&(s.TgZ(0,"div",56),s.YNc(1,GY,2,5,"span",57),s.qZA()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",n.monthPickerValues())}}const $Y=function(i){return{"p-highlight":i}};function WY(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",61),s.NdJ("click",function(r){const c=s.CHM(n).$implicit,d=s.oxw(4);return s.KtG(d.onYearSelect(r,c))})("keydown",function(r){const c=s.CHM(n).$implicit,d=s.oxw(4);return s.KtG(d.onYearCellKeydown(r,c))}),s._uU(1),s.qZA()}if(2&i){const n=e.$implicit,t=s.oxw(4);s.Q6J("ngClass",s.VKq(2,$Y,t.isYearSelected(n))),s.xp6(1),s.hij(" ",n," ")}}function YY(i,e){if(1&i&&(s.TgZ(0,"div",59),s.YNc(1,WY,2,4,"span",60),s.qZA()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",n.yearPickerValues())}}function KY(i,e){if(1&i&&(s.ynx(0),s.TgZ(1,"div",20),s.YNc(2,qY,11,9,"div",21),s.qZA(),s.YNc(3,ZY,2,1,"div",22),s.YNc(4,YY,2,1,"div",23),s.BQk()),2&i){const n=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",n.months),s.xp6(1),s.Q6J("ngIf","month"===n.currentView),s.xp6(1),s.Q6J("ngIf","year"===n.currentView)}}function QY(i,e){1&i&&s._UZ(0,"ChevronUpIcon")}function JY(i,e){}function XY(i,e){1&i&&s.YNc(0,JY,0,0,"ng-template")}function eK(i,e){1&i&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function tK(i,e){1&i&&s._UZ(0,"ChevronDownIcon")}function nK(i,e){}function iK(i,e){1&i&&s.YNc(0,nK,0,0,"ng-template")}function rK(i,e){1&i&&s._UZ(0,"ChevronUpIcon")}function sK(i,e){}function oK(i,e){1&i&&s.YNc(0,sK,0,0,"ng-template")}function aK(i,e){1&i&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function lK(i,e){1&i&&s._UZ(0,"ChevronDownIcon")}function cK(i,e){}function uK(i,e){1&i&&s.YNc(0,cK,0,0,"ng-template")}function dK(i,e){if(1&i&&(s.TgZ(0,"div",65)(1,"span"),s._uU(2),s.qZA()()),2&i){const n=s.oxw(3);s.xp6(2),s.Oqu(n.timeSeparator)}}function hK(i,e){1&i&&s._UZ(0,"ChevronUpIcon")}function pK(i,e){}function fK(i,e){1&i&&s.YNc(0,pK,0,0,"ng-template")}function mK(i,e){1&i&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function gK(i,e){1&i&&s._UZ(0,"ChevronDownIcon")}function _K(i,e){}function yK(i,e){1&i&&s.YNc(0,_K,0,0,"ng-template")}function vK(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",70)(1,"button",64),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.incrementSecond(r))})("keydown.space",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.incrementSecond(r))})("mousedown",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseDown(r,2,1))})("mouseup",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(n);const r=s.oxw(3);return s.KtG(r.onTimePickerElementMouseLeave())}),s.YNc(2,hK,1,0,"ChevronUpIcon",6),s.YNc(3,fK,1,0,null,12),s.qZA(),s.TgZ(4,"span"),s.YNc(5,mK,2,0,"ng-container",6),s._uU(6),s.qZA(),s.TgZ(7,"button",64),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.decrementSecond(r))})("keydown.space",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.decrementSecond(r))})("mousedown",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseDown(r,2,-1))})("mouseup",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(n);const r=s.oxw(3);return s.KtG(r.onTimePickerElementMouseLeave())}),s.YNc(8,gK,1,0,"ChevronDownIcon",6),s.YNc(9,yK,1,0,null,12),s.qZA()()}if(2&i){const n=s.oxw(3);s.xp6(2),s.Q6J("ngIf",!n.incrementIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.incrementIconTemplate),s.xp6(2),s.Q6J("ngIf",n.currentSecond<10),s.xp6(1),s.Oqu(n.currentSecond),s.xp6(2),s.Q6J("ngIf",!n.decrementIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.decrementIconTemplate)}}function wK(i,e){1&i&&s._UZ(0,"ChevronUpIcon")}function bK(i,e){}function CK(i,e){1&i&&s.YNc(0,bK,0,0,"ng-template")}function IK(i,e){1&i&&s._UZ(0,"ChevronDownIcon")}function TK(i,e){}function EK(i,e){1&i&&s.YNc(0,TK,0,0,"ng-template")}function xK(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",71)(1,"button",72),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))}),s.YNc(2,wK,1,0,"ChevronUpIcon",6),s.YNc(3,CK,1,0,null,12),s.qZA(),s.TgZ(4,"span"),s._uU(5),s.qZA(),s.TgZ(6,"button",72),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.toggleAMPM(r))}),s.YNc(7,IK,1,0,"ChevronDownIcon",6),s.YNc(8,EK,1,0,null,12),s.qZA()()}if(2&i){const n=s.oxw(3);s.xp6(2),s.Q6J("ngIf",!n.incrementIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.incrementIconTemplate),s.xp6(2),s.Oqu(n.pm?"PM":"AM"),s.xp6(2),s.Q6J("ngIf",!n.decrementIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.decrementIconTemplate)}}function SK(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",62)(1,"div",63)(2,"button",64),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.incrementHour(r))})("keydown.space",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.incrementHour(r))})("mousedown",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,0,1))})("mouseup",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(n);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s.YNc(3,QY,1,0,"ChevronUpIcon",6),s.YNc(4,XY,1,0,null,12),s.qZA(),s.TgZ(5,"span"),s.YNc(6,eK,2,0,"ng-container",6),s._uU(7),s.qZA(),s.TgZ(8,"button",64),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.decrementHour(r))})("keydown.space",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.decrementHour(r))})("mousedown",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,0,-1))})("mouseup",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(n);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s.YNc(9,tK,1,0,"ChevronDownIcon",6),s.YNc(10,iK,1,0,null,12),s.qZA()(),s.TgZ(11,"div",65)(12,"span"),s._uU(13),s.qZA()(),s.TgZ(14,"div",66)(15,"button",64),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.incrementMinute(r))})("keydown.space",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.incrementMinute(r))})("mousedown",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,1,1))})("mouseup",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(n);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s.YNc(16,rK,1,0,"ChevronUpIcon",6),s.YNc(17,oK,1,0,null,12),s.qZA(),s.TgZ(18,"span"),s.YNc(19,aK,2,0,"ng-container",6),s._uU(20),s.qZA(),s.TgZ(21,"button",64),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.decrementMinute(r))})("keydown.space",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.decrementMinute(r))})("mousedown",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseDown(r,1,-1))})("mouseup",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.enter",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("keyup.space",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTimePickerElementMouseUp(r))})("mouseleave",function(){s.CHM(n);const r=s.oxw(2);return s.KtG(r.onTimePickerElementMouseLeave())}),s.YNc(22,lK,1,0,"ChevronDownIcon",6),s.YNc(23,uK,1,0,null,12),s.qZA()(),s.YNc(24,dK,3,1,"div",67),s.YNc(25,vK,10,6,"div",68),s.YNc(26,xK,9,5,"div",69),s.qZA()}if(2&i){const n=s.oxw(2);s.xp6(3),s.Q6J("ngIf",!n.incrementIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.incrementIconTemplate),s.xp6(2),s.Q6J("ngIf",n.currentHour<10),s.xp6(1),s.Oqu(n.currentHour),s.xp6(2),s.Q6J("ngIf",!n.decrementIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.decrementIconTemplate),s.xp6(3),s.Oqu(n.timeSeparator),s.xp6(3),s.Q6J("ngIf",!n.incrementIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.incrementIconTemplate),s.xp6(2),s.Q6J("ngIf",n.currentMinute<10),s.xp6(1),s.Oqu(n.currentMinute),s.xp6(2),s.Q6J("ngIf",!n.decrementIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.decrementIconTemplate),s.xp6(1),s.Q6J("ngIf",n.showSeconds),s.xp6(1),s.Q6J("ngIf",n.showSeconds),s.xp6(1),s.Q6J("ngIf","12"==n.hourFormat)}}const C9=function(i){return[i]};function DK(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",73)(1,"button",74),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onTodayButtonClick(r))}),s.qZA(),s.TgZ(2,"button",74),s.NdJ("keydown",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onContainerButtonKeydown(r))})("click",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onClearButtonClick(r))}),s.qZA()()}if(2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("label",n.getTranslation("today"))("ngClass",s.VKq(4,C9,n.todayButtonStyleClass)),s.xp6(1),s.Q6J("label",n.getTranslation("clear"))("ngClass",s.VKq(6,C9,n.clearButtonStyleClass))}}function AK(i,e){1&i&&s.GkF(0)}const MK=function(i,e,n,t,r,o){return{"p-datepicker p-component":!0,"p-datepicker-inline":i,"p-disabled":e,"p-datepicker-timeonly":n,"p-datepicker-multiple-month":t,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":o}},I9=function(i,e){return{showTransitionParams:i,hideTransitionParams:e}},kK=function(i){return{value:"visibleTouchUI",params:i}},PK=function(i){return{value:"visible",params:i}};function RK(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",16,17),s.NdJ("@overlayAnimation.start",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onOverlayAnimationStart(r))})("@overlayAnimation.done",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onOverlayAnimationDone(r))})("click",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onOverlayClick(r))}),s.Hsn(2),s.YNc(3,vY,1,0,"ng-container",12),s.YNc(4,KY,5,3,"ng-container",6),s.YNc(5,SK,27,16,"div",18),s.YNc(6,DK,3,8,"div",19),s.Hsn(7,1),s.YNc(8,AK,1,0,"ng-container",12),s.qZA()}if(2&i){const n=s.oxw();s.Tol(n.panelStyleClass),s.Q6J("ngStyle",n.panelStyle)("ngClass",s.HTZ(11,MK,n.inline,n.disabled,n.timeOnly,n.numberOfMonths>1,"month"===n.view,n.touchUI))("@overlayAnimation",n.touchUI?s.VKq(21,kK,s.WLB(18,I9,n.showTransitionOptions,n.hideTransitionOptions)):s.VKq(26,PK,s.WLB(23,I9,n.showTransitionOptions,n.hideTransitionOptions)))("@.disabled",!0===n.inline),s.xp6(3),s.Q6J("ngTemplateOutlet",n.headerTemplate),s.xp6(1),s.Q6J("ngIf",!n.timeOnly),s.xp6(1),s.Q6J("ngIf",(n.showTime||n.timeOnly)&&"date"===n.currentView),s.xp6(1),s.Q6J("ngIf",n.showButtonBar),s.xp6(2),s.Q6J("ngTemplateOutlet",n.footerTemplate)}}const OK=[[["p-header"]],[["p-footer"]]],NK=function(i,e,n,t){return{"p-calendar":!0,"p-calendar-w-btn":i,"p-calendar-timeonly":e,"p-calendar-disabled":n,"p-focus":t}},LK=["p-header","p-footer"],FK={provide:Ui,useExisting:(0,s.Gpc)(()=>T9),multi:!0};let T9=(()=>{var i;class e{get minDate(){return this._minDate}set minDate(t){this._minDate=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(t){this._disabledDates=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(t){this._disabledDays=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(t){if(this._yearRange=t,t){const r=t.split(":"),o=parseInt(r[0]),c=parseInt(r[1]);this.populateYearOptions(o,c)}}get showTime(){return this._showTime}set showTime(t){this._showTime=t,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(t){this._responsiveOptions=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(t){this._numberOfMonths=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){this._firstDayOfWeek=t,this.createWeekDays()}set locale(t){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(t){this._view=t,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(t){if(this._defaultDate=t,this.initialized){const r=t||new Date;this.currentMonth=r.getMonth(),this.currentYear=r.getFullYear(),this.initTime(r),this.createMonths(this.currentMonth,this.currentYear)}}set content(t){this.contentViewChild=t,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get locale(){return this._locale}constructor(t,r,o,c,d,f,_){m(this,"document",void 0),m(this,"el",void 0),m(this,"renderer",void 0),m(this,"cd",void 0),m(this,"zone",void 0),m(this,"config",void 0),m(this,"overlayService",void 0),m(this,"style",void 0),m(this,"styleClass",void 0),m(this,"inputStyle",void 0),m(this,"inputId",void 0),m(this,"name",void 0),m(this,"inputStyleClass",void 0),m(this,"placeholder",void 0),m(this,"ariaLabelledBy",void 0),m(this,"iconAriaLabel",void 0),m(this,"disabled",void 0),m(this,"dateFormat",void 0),m(this,"multipleSeparator",","),m(this,"rangeSeparator","-"),m(this,"inline",!1),m(this,"showOtherMonths",!0),m(this,"selectOtherMonths",void 0),m(this,"showIcon",void 0),m(this,"icon",void 0),m(this,"appendTo",void 0),m(this,"readonlyInput",void 0),m(this,"shortYearCutoff","+10"),m(this,"monthNavigator",void 0),m(this,"yearNavigator",void 0),m(this,"hourFormat","24"),m(this,"timeOnly",void 0),m(this,"stepHour",1),m(this,"stepMinute",1),m(this,"stepSecond",1),m(this,"showSeconds",!1),m(this,"required",void 0),m(this,"showOnFocus",!0),m(this,"showWeek",!1),m(this,"showClear",!1),m(this,"dataType","date"),m(this,"selectionMode","single"),m(this,"maxDateCount",void 0),m(this,"showButtonBar",void 0),m(this,"todayButtonStyleClass","p-button-text"),m(this,"clearButtonStyleClass","p-button-text"),m(this,"autoZIndex",!0),m(this,"baseZIndex",0),m(this,"panelStyleClass",void 0),m(this,"panelStyle",void 0),m(this,"keepInvalid",!1),m(this,"hideOnDateTimeSelect",!0),m(this,"touchUI",void 0),m(this,"timeSeparator",":"),m(this,"focusTrap",!0),m(this,"showTransitionOptions",".12s cubic-bezier(0, 0, 0.2, 1)"),m(this,"hideTransitionOptions",".1s linear"),m(this,"tabindex",void 0),m(this,"onFocus",new s.vpe),m(this,"onBlur",new s.vpe),m(this,"onClose",new s.vpe),m(this,"onSelect",new s.vpe),m(this,"onClear",new s.vpe),m(this,"onInput",new s.vpe),m(this,"onTodayClick",new s.vpe),m(this,"onClearClick",new s.vpe),m(this,"onMonthChange",new s.vpe),m(this,"onYearChange",new s.vpe),m(this,"onClickOutside",new s.vpe),m(this,"onShow",new s.vpe),m(this,"templates",void 0),m(this,"containerViewChild",void 0),m(this,"inputfieldViewChild",void 0),m(this,"contentViewChild",void 0),m(this,"value",void 0),m(this,"dates",void 0),m(this,"months",void 0),m(this,"weekDays",void 0),m(this,"currentMonth",void 0),m(this,"currentYear",void 0),m(this,"currentHour",void 0),m(this,"currentMinute",void 0),m(this,"currentSecond",void 0),m(this,"pm",void 0),m(this,"mask",void 0),m(this,"maskClickListener",void 0),m(this,"overlay",void 0),m(this,"responsiveStyleElement",void 0),m(this,"overlayVisible",void 0),m(this,"onModelChange",()=>{}),m(this,"onModelTouched",()=>{}),m(this,"calendarElement",void 0),m(this,"timePickerTimer",void 0),m(this,"documentClickListener",void 0),m(this,"animationEndListener",void 0),m(this,"ticksTo1970",void 0),m(this,"yearOptions",void 0),m(this,"focus",void 0),m(this,"isKeydown",void 0),m(this,"filled",void 0),m(this,"inputFieldValue",null),m(this,"_minDate",void 0),m(this,"_maxDate",void 0),m(this,"_showTime",void 0),m(this,"_yearRange",void 0),m(this,"preventDocumentListener",void 0),m(this,"dateTemplate",void 0),m(this,"headerTemplate",void 0),m(this,"footerTemplate",void 0),m(this,"disabledDateTemplate",void 0),m(this,"decadeTemplate",void 0),m(this,"previousIconTemplate",void 0),m(this,"nextIconTemplate",void 0),m(this,"triggerIconTemplate",void 0),m(this,"clearIconTemplate",void 0),m(this,"decrementIconTemplate",void 0),m(this,"incrementIconTemplate",void 0),m(this,"_disabledDates",void 0),m(this,"_disabledDays",void 0),m(this,"selectElement",void 0),m(this,"todayElement",void 0),m(this,"focusElement",void 0),m(this,"scrollHandler",void 0),m(this,"documentResizeListener",void 0),m(this,"navigationState",null),m(this,"isMonthNavigate",void 0),m(this,"initialized",void 0),m(this,"translationSubscription",void 0),m(this,"_locale",void 0),m(this,"_responsiveOptions",void 0),m(this,"currentView",void 0),m(this,"attributeSelector",void 0),m(this,"_numberOfMonths",1),m(this,"_firstDayOfWeek",void 0),m(this,"_view","date"),m(this,"preventFocus",void 0),m(this,"_defaultDate",void 0),m(this,"window",void 0),m(this,"convertTo24Hour",function(b,T){return"12"==this.hourFormat?12===b?T?12:0:T?b+12:b:b}),this.document=t,this.el=r,this.renderer=o,this.cd=c,this.zone=d,this.config=f,this.overlayService=_,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=jn();const t=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"date":default:this.dateTemplate=t.template;break;case"decade":this.decadeTemplate=t.template;break;case"disabledDate":this.disabledDateTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template;break;case"triggericon":this.triggerIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"decrementicon":this.decrementIconTemplate=t.template;break;case"incrementicon":this.incrementIconTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=ee.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(t){return this.config.getTranslation(t)}populateYearOptions(t,r){this.yearOptions=[];for(let o=t;o<=r;o++)this.yearOptions.push(o)}createWeekDays(){this.weekDays=[];let t=this.getFirstDateOfWeek(),r=this.getTranslation(So.DAY_NAMES_MIN);for(let o=0;o<7;o++)this.weekDays.push(r[t]),t=6==t?0:++t}monthPickerValues(){let t=[];for(let r=0;r<=11;r++)t.push(this.config.getTranslation("monthNamesShort")[r]);return t}yearPickerValues(){let t=[],r=this.currentYear-this.currentYear%10;for(let o=0;o<10;o++)t.push(r+o);return t}createMonths(t,r){this.months=this.months=[];for(let o=0;o<this.numberOfMonths;o++){let c=t+o,d=r;c>11&&(c=c%11-1,d=r+1),this.months.push(this.createMonth(c,d))}}getWeekNumber(t){let r=new Date(t.getTime());r.setDate(r.getDate()+4-(r.getDay()||7));let o=r.getTime();return r.setMonth(0),r.setDate(1),Math.floor(Math.round((o-r.getTime())/864e5)/7)+1}createMonth(t,r){let o=[],c=this.getFirstDayOfMonthIndex(t,r),d=this.getDaysCountInMonth(t,r),f=this.getDaysCountInPrevMonth(t,r),_=1,b=new Date,T=[],M=Math.ceil((d+c)/7);for(let R=0;R<M;R++){let B=[];if(0==R){for(let te=f-c+1;te<=f;te++){let _e=this.getPreviousMonthAndYear(t,r);B.push({day:te,month:_e.month,year:_e.year,otherMonth:!0,today:this.isToday(b,te,_e.month,_e.year),selectable:this.isSelectable(te,_e.month,_e.year,!0)})}let K=7-B.length;for(let te=0;te<K;te++)B.push({day:_,month:t,year:r,today:this.isToday(b,_,t,r),selectable:this.isSelectable(_,t,r,!1)}),_++}else for(let K=0;K<7;K++){if(_>d){let te=this.getNextMonthAndYear(t,r);B.push({day:_-d,month:te.month,year:te.year,otherMonth:!0,today:this.isToday(b,_-d,te.month,te.year),selectable:this.isSelectable(_-d,te.month,te.year,!0)})}else B.push({day:_,month:t,year:r,today:this.isToday(b,_,t,r),selectable:this.isSelectable(_,t,r,!1)});_++}this.showWeek&&T.push(this.getWeekNumber(new Date(B[0].year,B[0].month,B[0].day))),o.push(B)}return{month:t,year:r,dates:o,weekNumbers:T}}initTime(t){this.pm=t.getHours()>11,this.showTime?(this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds(),this.setCurrentHourPM(t.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(t){this.disabled?t.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(t){this.disabled?t.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){this.currentYear--;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear<t[0]){let r=t[t.length-1]-t[0];this.populateYearOptions(t[0]-r,t[t.length-1]-r)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){this.currentYear++;let t=this.yearOptions;if(this.yearNavigator&&this.currentYear>t[t.length-1]){let r=t[t.length-1]-t[0];this.populateYearOptions(t[0]+r,t[t.length-1]+r)}}switchToMonthView(t){this.setCurrentView("month"),t.preventDefault()}switchToYearView(t){this.setCurrentView("year"),t.preventDefault()}onDateSelect(t,r){!this.disabled&&r.selectable?(this.isMultipleSelection()&&this.isSelected(r)?(this.value=this.value.filter((o,c)=>!this.isDateEquals(o,r)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(r)&&this.selectDate(r),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{t.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),t.preventDefault()):t.preventDefault()}shouldSelectDate(t){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(t,r){"month"===this.view?this.onDateSelect(t,{year:this.currentYear,month:r,day:1,selectable:!0}):(this.currentMonth=r,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(t,r){"year"===this.view?this.onDateSelect(t,{year:r,month:0,day:1,selectable:!0}):(this.currentYear=r,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let t="";if(this.value)if(this.isSingleSelection())t=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let r=0;r<this.value.length;r++)t+=this.formatDateTime(this.value[r]),r!==this.value.length-1&&(t+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let o=this.value[1];t=this.formatDateTime(this.value[0]),o&&(t+=" "+this.rangeSeparator+" "+this.formatDateTime(o))}this.inputFieldValue=t,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(t){let r=this.keepInvalid?t:null;return this.isValidDate(t)&&(this.timeOnly?r=this.formatTime(t):(r=this.formatDate(t,this.getDateFormat()),this.showTime&&(r+=" "+this.formatTime(t)))),r}setCurrentHourPM(t){"12"==this.hourFormat?(this.pm=t>11,this.currentHour=t>=12?12==t?12:t-12:0==t?12:t):this.currentHour=t}setCurrentView(t){this.currentView=t,this.cd.detectChanges(),this.alignOverlay()}selectDate(t){let r=new Date(t.year,t.month,t.day);if(this.showTime&&(r.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),r.setMinutes(this.currentMinute),r.setSeconds(this.currentSecond)),this.minDate&&this.minDate>r&&(r=this.minDate,this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds()),this.maxDate&&this.maxDate<r&&(r=this.maxDate,this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds()),this.isSingleSelection())this.updateModel(r);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,r]:[r]);else if(this.isRangeSelection())if(this.value&&this.value.length){let o=this.value[0],c=this.value[1];!c&&r.getTime()>=o.getTime()?c=r:(o=r,c=null),this.updateModel([o,c])}else this.updateModel([r,null]);this.onSelect.emit(r)}updateModel(t){if(this.value=t,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let r=null;this.value&&(r=this.value.map(o=>this.formatDateTime(o))),this.onModelChange(r)}}getFirstDayOfMonthIndex(t,r){let o=new Date;o.setDate(1),o.setMonth(t),o.setFullYear(r);let c=o.getDay()+this.getSundayIndex();return c>=7?c-7:c}getDaysCountInMonth(t,r){return 32-this.daylightSavingAdjust(new Date(r,t,32)).getDate()}getDaysCountInPrevMonth(t,r){let o=this.getPreviousMonthAndYear(t,r);return this.getDaysCountInMonth(o.month,o.year)}getPreviousMonthAndYear(t,r){let o,c;return 0===t?(o=11,c=r-1):(o=t-1,c=r),{month:o,year:c}}getNextMonthAndYear(t,r){let o,c;return 11===t?(o=0,c=r+1):(o=t+1,c=r),{month:o,year:c}}getSundayIndex(){let t=this.getFirstDateOfWeek();return t>0?7-t:0}isSelected(t){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,t);if(this.isMultipleSelection()){let r=!1;for(let o of this.value)if(r=this.isDateEquals(o,t),r)break;return r}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],t)||this.isDateEquals(this.value[1],t)||this.isDateBetween(this.value[0],this.value[1],t):this.isDateEquals(this.value[0],t):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(t){if(this.isComparable()&&!this.isMultipleSelection()){const[r,o]=this.isRangeSelection()?this.value:[this.value,this.value],c=new Date(this.currentYear,t,1);return c>=r&&c<=(o??r)}return!1}isMonthDisabled(t){for(let r=1;r<this.getDaysCountInMonth(t,this.currentYear)+1;r++)if(this.isSelectable(r,t,this.currentYear,!1))return!1;return!0}isYearSelected(t){if(this.isComparable()){let r=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&r.getFullYear()===t}return!1}isDateEquals(t,r){return!(!t||!et.isDate(t))&&t.getDate()===r.day&&t.getMonth()===r.month&&t.getFullYear()===r.year}isDateBetween(t,r,o){if(t&&r){let d=new Date(o.year,o.month,o.day);return t.getTime()<=d.getTime()&&r.getTime()>=d.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(t,r,o,c){return t.getDate()===r&&t.getMonth()===o&&t.getFullYear()===c}isSelectable(t,r,o,c){let d=!0,f=!0,_=!0,b=!0;return!(c&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>o||this.minDate.getFullYear()===o&&(this.minDate.getMonth()>r||this.minDate.getMonth()===r&&this.minDate.getDate()>t))&&(d=!1),this.maxDate&&(this.maxDate.getFullYear()<o||this.maxDate.getFullYear()===o&&(this.maxDate.getMonth()<r||this.maxDate.getMonth()===r&&this.maxDate.getDate()<t))&&(f=!1),this.disabledDates&&(_=!this.isDateDisabled(t,r,o)),this.disabledDays&&(b=!this.isDayDisabled(t,r,o)),d&&f&&_&&b)}isDateDisabled(t,r,o){if(this.disabledDates)for(let c of this.disabledDates)if(c.getFullYear()===o&&c.getMonth()===r&&c.getDate()===t)return!0;return!1}isDayDisabled(t,r,o){if(this.disabledDays){let d=new Date(o,r,t).getDay();return-1!==this.disabledDays.indexOf(d)}return!1}onInputFocus(t){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(t)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(t){this.focus=!1,this.onBlur.emit(t),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(t,r){this.overlayVisible?this.hideOverlay():(r.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}getMonthName(t){return this.config.getTranslation("monthNames")[t]}getYear(t){return"month"===this.currentView?this.currentYear:t.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(t){this.navigationState={backward:!0,button:!0},this.navBackward(t)}onNextButtonClick(t){this.navigationState={backward:!1,button:!0},this.navForward(t)}onContainerButtonKeydown(t){switch(t.which){case 9:this.inline||this.trapFocus(t);break;case 27:this.overlayVisible=!1,t.preventDefault()}}onInputKeydown(t){this.isKeydown=!0,40===t.keyCode&&this.contentViewChild?this.trapFocus(t):27===t.keyCode||13===t.keyCode?this.overlayVisible&&(this.overlayVisible=!1,t.preventDefault()):9===t.keyCode&&this.contentViewChild&&(ee.getFocusableElements(this.contentViewChild.nativeElement).forEach(r=>r.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(t,r,o){const c=t.currentTarget,d=c.parentElement;switch(t.which){case 40:{c.tabIndex="-1";let f=ee.index(d),_=d.parentElement.nextElementSibling;_?ee.hasClass(_.children[f].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(t)):(_.children[f].children[0].tabIndex="0",_.children[f].children[0].focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 38:{c.tabIndex="-1";let f=ee.index(d),_=d.parentElement.previousElementSibling;if(_){let b=_.children[f].children[0];ee.hasClass(b,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(t)):(b.tabIndex="0",b.focus())}else this.navigationState={backward:!0},this.navBackward(t);t.preventDefault();break}case 37:{c.tabIndex="-1";let f=d.previousElementSibling;if(f){let _=f.children[0];ee.hasClass(_,"p-disabled")||ee.hasClass(_.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,o):(_.tabIndex="0",_.focus())}else this.navigateToMonth(!0,o);t.preventDefault();break}case 39:{c.tabIndex="-1";let f=d.nextElementSibling;if(f){let _=f.children[0];ee.hasClass(_,"p-disabled")?this.navigateToMonth(!1,o):(_.tabIndex="0",_.focus())}else this.navigateToMonth(!1,o);t.preventDefault();break}case 13:case 32:this.onDateSelect(t,r),t.preventDefault();break;case 27:this.overlayVisible=!1,t.preventDefault();break;case 9:this.inline||this.trapFocus(t)}}onMonthCellKeydown(t,r){const o=t.currentTarget;switch(t.which){case 38:case 40:{o.tabIndex="-1";var c=o.parentElement.children,d=ee.index(o);let f=c[40===t.which?d+3:d-3];f&&(f.tabIndex="0",f.focus()),t.preventDefault();break}case 37:{o.tabIndex="-1";let f=o.previousElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{o.tabIndex="-1";let f=o.nextElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:this.onMonthSelect(t,r),t.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,t.preventDefault();break;case 9:this.inline||this.trapFocus(t)}}onYearCellKeydown(t,r){const o=t.currentTarget;switch(t.which){case 38:case 40:{o.tabIndex="-1";var c=o.parentElement.children,d=ee.index(o);let f=c[40===t.which?d+2:d-2];f&&(f.tabIndex="0",f.focus()),t.preventDefault();break}case 37:{o.tabIndex="-1";let f=o.previousElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{o.tabIndex="-1";let f=o.nextElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:this.onYearSelect(t,r),t.preventDefault();break;case 27:this.overlayVisible=!1,t.preventDefault();break;case 9:this.trapFocus(t)}}navigateToMonth(t,r){if(t)if(1===this.numberOfMonths||0===r)this.navigationState={backward:!0},this.navBackward(event);else{let c=ee.find(this.contentViewChild.nativeElement.children[r-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),d=c[c.length-1];d.tabIndex="0",d.focus()}else if(1===this.numberOfMonths||r===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let c=ee.findSingle(this.contentViewChild.nativeElement.children[r+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");c.tabIndex="0",c.focus()}}updateFocus(){let t;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?ee.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():ee.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let r;r=ee.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),r&&r.length>0&&(t=r[r.length-1])}else t=ee.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t&&(t.tabIndex="0",t.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){const t=this.contentViewChild?.nativeElement;let r;if("month"===this.currentView){let o=ee.find(t,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),c=ee.findSingle(t,".p-monthpicker .p-monthpicker-month.p-highlight");o.forEach(d=>d.tabIndex=-1),r=c||o[0],0===o.length&&ee.find(t,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(f=>f.tabIndex=-1)}else if("year"===this.currentView){let o=ee.find(t,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),c=ee.findSingle(t,".p-yearpicker .p-yearpicker-year.p-highlight");o.forEach(d=>d.tabIndex=-1),r=c||o[0],0===o.length&&ee.find(t,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(f=>f.tabIndex=-1)}else if(r=ee.findSingle(t,"span.p-highlight"),!r){let o=ee.findSingle(t,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");r=o||ee.findSingle(t,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}r&&(r.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||r.focus()},1),this.preventFocus=!1)}trapFocus(t){let r=ee.getFocusableElements(this.contentViewChild.nativeElement);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let o=r.indexOf(r[0].ownerDocument.activeElement);if(t.shiftKey)if(-1==o||0===o)if(this.focusTrap)r[r.length-1].focus();else{if(-1===o)return this.hideOverlay();if(0===o)return}else r[o-1].focus();else if(-1==o||o===r.length-1){if(!this.focusTrap&&-1!=o)return this.hideOverlay();r[0].focus()}else r[o+1].focus()}else r[0].focus();t.preventDefault()}onMonthDropdownChange(t){this.currentMonth=parseInt(t),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(t){this.currentYear=parseInt(t),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(t,r,o,c){let d=this.value;const f=this.convertTo24Hour(t,c);this.isRangeSelection()&&(d=this.value[1]||this.value[0]),this.isMultipleSelection()&&(d=this.value[this.value.length-1]);const _=d?d.toDateString():null;return!(this.minDate&&_&&this.minDate.toDateString()===_&&(this.minDate.getHours()>f||this.minDate.getHours()===f&&(this.minDate.getMinutes()>r||this.minDate.getMinutes()===r&&this.minDate.getSeconds()>o))||this.maxDate&&_&&this.maxDate.toDateString()===_&&(this.maxDate.getHours()<f||this.maxDate.getHours()===f&&(this.maxDate.getMinutes()<r||this.maxDate.getMinutes()===r&&this.maxDate.getSeconds()<o)))}incrementHour(t){let o=this.currentHour+this.stepHour,c=this.pm;"24"==this.hourFormat?o=o>=24?o-24:o:"12"==this.hourFormat&&(this.currentHour<12&&o>11&&(c=!this.pm),o=o>=13?o-12:o),this.validateTime(o,this.currentMinute,this.currentSecond,c)&&(this.currentHour=o,this.pm=c),t.preventDefault()}onTimePickerElementMouseDown(t,r,o){this.disabled||(this.repeat(t,null,r,o),t.preventDefault())}onTimePickerElementMouseUp(t){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(t,r,o,c){let d=r||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(t,100,o,c),this.cd.markForCheck()},d),o){case 0:1===c?this.incrementHour(t):this.decrementHour(t);break;case 1:1===c?this.incrementMinute(t):this.decrementMinute(t);break;case 2:1===c?this.incrementSecond(t):this.decrementSecond(t)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(t){let r=this.currentHour-this.stepHour,o=this.pm;"24"==this.hourFormat?r=r<0?24+r:r:"12"==this.hourFormat&&(12===this.currentHour&&(o=!this.pm),r=r<=0?12+r:r),this.validateTime(r,this.currentMinute,this.currentSecond,o)&&(this.currentHour=r,this.pm=o),t.preventDefault()}incrementMinute(t){let r=this.currentMinute+this.stepMinute;r=r>59?r-60:r,this.validateTime(this.currentHour,r,this.currentSecond,this.pm)&&(this.currentMinute=r),t.preventDefault()}decrementMinute(t){let r=this.currentMinute-this.stepMinute;r=r<0?60+r:r,this.validateTime(this.currentHour,r,this.currentSecond,this.pm)&&(this.currentMinute=r),t.preventDefault()}incrementSecond(t){let r=this.currentSecond+this.stepSecond;r=r>59?r-60:r,this.validateTime(this.currentHour,this.currentMinute,r,this.pm)&&(this.currentSecond=r),t.preventDefault()}decrementSecond(t){let r=this.currentSecond-this.stepSecond;r=r<0?60+r:r,this.validateTime(this.currentHour,this.currentMinute,r,this.pm)&&(this.currentSecond=r),t.preventDefault()}updateTime(){let t=this.value;this.isRangeSelection()&&(t=this.value[1]||this.value[0]),this.isMultipleSelection()&&(t=this.value[this.value.length-1]),t=t?new Date(t.getTime()):new Date,t.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.isRangeSelection()&&(t=this.value[1]?[this.value[0],t]:[t,null]),this.isMultipleSelection()&&(t=[...this.value.slice(0,-1),t]),this.updateModel(t),this.onSelect.emit(t),this.updateInputfield()}toggleAMPM(t){const r=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,r)&&(this.pm=r,this.updateTime()),t.preventDefault()}onUserInput(t){if(!this.isKeydown)return;this.isKeydown=!1;let r=t.target.value;try{let o=this.parseValueFromString(r);this.isValidSelection(o)&&(this.updateModel(o),this.updateUI())}catch{this.updateModel(this.keepInvalid?r:null)}this.filled=null!=r&&r.length,this.onInput.emit(t)}isValidSelection(t){let r=!0;return this.isSingleSelection()?this.isSelectable(t.getDate(),t.getMonth(),t.getFullYear(),!1)||(r=!1):t.every(o=>this.isSelectable(o.getDate(),o.getMonth(),o.getFullYear(),!1))&&this.isRangeSelection()&&(r=t.length>1&&t[1]>t[0]),r}parseValueFromString(t){if(!t||0===t.trim().length)return null;let r;if(this.isSingleSelection())r=this.parseDateTime(t);else if(this.isMultipleSelection()){let o=t.split(this.multipleSeparator);r=[];for(let c of o)r.push(this.parseDateTime(c.trim()))}else if(this.isRangeSelection()){let o=t.split(" "+this.rangeSeparator+" ");r=[];for(let c=0;c<o.length;c++)r[c]=this.parseDateTime(o[c].trim())}return r}parseDateTime(t){let r,o=t.split(" ");if(this.timeOnly)r=new Date,this.populateTime(r,o[0],o[1]);else{const c=this.getDateFormat();if(this.showTime){let d="12"==this.hourFormat?o.pop():null,f=o.pop();r=this.parseDate(o.join(" "),c),this.populateTime(r,f,d)}else r=this.parseDate(t,c)}return r}populateTime(t,r,o){if("12"==this.hourFormat&&!o)throw"Invalid Time";this.pm="PM"===o||"pm"===o;let c=this.parseTime(r);t.setHours(c.hour),t.setMinutes(c.minute),t.setSeconds(c.second)}isValidDate(t){return et.isDate(t)&&et.isNotEmpty(t)}updateUI(){let t=this.value;Array.isArray(t)&&(t=t[0]);let r=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:t&&this.isValidDate(t)?t:new Date;this.currentMonth=r.getMonth(),this.currentYear=r.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=t.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?mr.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):mr.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(t));break;case"void":this.onOverlayHide(),this.onClose.emit(t)}}onOverlayAnimationDone(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&mr.clear(t.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?this.document.body.appendChild(this.overlay):ee.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=ee.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=ee.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"):this.overlay.style.width=ee.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px",ee.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):ee.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(t){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(t.style.zIndex)-1)),ee.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",o=>{this.disableModality()}),this.renderer.appendChild(this.document.body,this.mask),ee.addClass(this.document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(ee.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let r,t=this.document.body.children;for(let o=0;o<t.length;o++)if(ee.hasClass(t[o],"p-datepicker-mask-scrollblocker")){r=!0;break}r||ee.removeClass(this.document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(t){if(this.value=t,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=t)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(So.FIRST_DAY_OF_WEEK)}formatDate(t,r){if(!t)return"";let o;const c=T=>{const M=o+1<r.length&&r.charAt(o+1)===T;return M&&o++,M},d=(T,M,R)=>{let B=""+M;if(c(T))for(;B.length<R;)B="0"+B;return B},f=(T,M,R,B)=>c(T)?B[M]:R[M];let _="",b=!1;if(t)for(o=0;o<r.length;o++)if(b)"'"!==r.charAt(o)||c("'")?_+=r.charAt(o):b=!1;else switch(r.charAt(o)){case"d":_+=d("d",t.getDate(),2);break;case"D":_+=f("D",t.getDay(),this.getTranslation(So.DAY_NAMES_SHORT),this.getTranslation(So.DAY_NAMES));break;case"o":_+=d("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":_+=d("m",t.getMonth()+1,2);break;case"M":_+=f("M",t.getMonth(),this.getTranslation(So.MONTH_NAMES_SHORT),this.getTranslation(So.MONTH_NAMES));break;case"y":_+=c("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":_+=t.getTime();break;case"!":_+=1e4*t.getTime()+this.ticksTo1970;break;case"'":c("'")?_+="'":b=!0;break;default:_+=r.charAt(o)}return _}formatTime(t){if(!t)return"";let r="",o=t.getHours(),c=t.getMinutes(),d=t.getSeconds();return"12"==this.hourFormat&&o>11&&12!=o&&(o-=12),r+="12"==this.hourFormat&&0===o?12:o<10?"0"+o:o,r+=":",r+=c<10?"0"+c:c,this.showSeconds&&(r+=":",r+=d<10?"0"+d:d),"12"==this.hourFormat&&(r+=t.getHours()>11?" PM":" AM"),r}parseTime(t){let r=t.split(":");if(r.length!==(this.showSeconds?3:2))throw"Invalid time";let c=parseInt(r[0]),d=parseInt(r[1]),f=this.showSeconds?parseInt(r[2]):null;if(isNaN(c)||isNaN(d)||c>23||d>59||"12"==this.hourFormat&&c>12||this.showSeconds&&(isNaN(f)||f>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==c&&this.pm?c+=12:!this.pm&&12===c&&(c-=12)),{hour:c,minute:d,second:f}}parseDate(t,r){if(null==r||null==t)throw"Invalid arguments";if(""===(t="object"==typeof t?t.toString():t+""))return null;let o,c,d,K,f=0,_="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),b=-1,T=-1,M=-1,R=-1,B=!1,te=Oe=>{let it=o+1<r.length&&r.charAt(o+1)===Oe;return it&&o++,it},_e=Oe=>{let it=te(Oe),pt="@"===Oe?14:"!"===Oe?20:"y"===Oe&&it?4:"o"===Oe?3:2,Qn=new RegExp("^\\d{"+("y"===Oe?pt:1)+","+pt+"}"),Si=t.substring(f).match(Qn);if(!Si)throw"Missing number at position "+f;return f+=Si[0].length,parseInt(Si[0],10)},Ne=(Oe,it,pt)=>{let Ot=-1,Qn=te(Oe)?pt:it,Si=[];for(let rr=0;rr<Qn.length;rr++)Si.push([rr,Qn[rr]]);Si.sort((rr,hl)=>-(rr[1].length-hl[1].length));for(let rr=0;rr<Si.length;rr++){let hl=Si[rr][1];if(t.substr(f,hl.length).toLowerCase()===hl.toLowerCase()){Ot=Si[rr][0],f+=hl.length;break}}if(-1!==Ot)return Ot+1;throw"Unknown name at position "+f},Ue=()=>{if(t.charAt(f)!==r.charAt(o))throw"Unexpected literal at position "+f;f++};for("month"===this.view&&(M=1),o=0;o<r.length;o++)if(B)"'"!==r.charAt(o)||te("'")?Ue():B=!1;else switch(r.charAt(o)){case"d":M=_e("d");break;case"D":Ne("D",this.getTranslation(So.DAY_NAMES_SHORT),this.getTranslation(So.DAY_NAMES));break;case"o":R=_e("o");break;case"m":T=_e("m");break;case"M":T=Ne("M",this.getTranslation(So.MONTH_NAMES_SHORT),this.getTranslation(So.MONTH_NAMES));break;case"y":b=_e("y");break;case"@":K=new Date(_e("@")),b=K.getFullYear(),T=K.getMonth()+1,M=K.getDate();break;case"!":K=new Date((_e("!")-this.ticksTo1970)/1e4),b=K.getFullYear(),T=K.getMonth()+1,M=K.getDate();break;case"'":te("'")?Ue():B=!0;break;default:Ue()}if(f<t.length&&(d=t.substr(f),!/^\s+/.test(d)))throw"Extra/unparsed characters found in date: "+d;if(-1===b?b=(new Date).getFullYear():b<100&&(b+=(new Date).getFullYear()-(new Date).getFullYear()%100+(b<=_?0:-100)),R>-1)for(T=1,M=R;c=this.getDaysCountInMonth(b,T-1),!(M<=c);)T++,M-=c;if("year"===this.view&&(T=-1===T?1:T,M=-1===M?1:M),K=this.daylightSavingAdjust(new Date(b,T-1,M)),K.getFullYear()!==b||K.getMonth()+1!==T||K.getDate()!==M)throw"Invalid date";return K}daylightSavingAdjust(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(t){let r=new Date,o={day:r.getDate(),month:r.getMonth(),year:r.getFullYear(),otherMonth:r.getMonth()!==this.currentMonth||r.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(t,o),this.onTodayClick.emit(t)}onClearButtonClick(t){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(t)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let t="";if(this.responsiveOptions){let r=[...this.responsiveOptions].filter(o=>!(!o.breakpoint||!o.numMonths)).sort((o,c)=>-1*o.breakpoint.localeCompare(c.breakpoint,void 0,{numeric:!0}));for(let o=0;o<r.length;o++){let{breakpoint:c,numMonths:d}=r[o],f=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${d}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let _=d;_<this.numberOfMonths;_++)f+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${_+1}) {\n                                display: none !important;\n                            }\n                        `;t+=`\n                        @media screen and (max-width: ${c}) {\n                            ${f}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=t}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,"mousedown",r=>{this.isOutsideClicked(r)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(r),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new VR(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.isNavIconClicked(t)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isNavIconClicked(t){return ee.hasClass(t.target,"p-datepicker-prev")||ee.hasClass(t.target,"p-datepicker-prev-icon")||ee.hasClass(t.target,"p-datepicker-next")||ee.hasClass(t.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!ee.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&mr.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(ye),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(dl),s.Y36(LR))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-calendar"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&(s.Gf(rY,5),s.Gf(sY,5),s.Gf(oY,5)),2&t){let o;s.iGM(o=s.CRH())&&(r.containerViewChild=o.first),s.iGM(o=s.CRH())&&(r.inputfieldViewChild=o.first),s.iGM(o=s.CRH())&&(r.content=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,r){2&t&&s.ekj("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focus)("p-calendar-clearable",r.showClear&&!r.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[s._Bn([FK])],ngContentSelectors:LK,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],[4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"disabled","click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(t,r){1&t&&(s.F$t(OK),s.TgZ(0,"span",0,1),s.YNc(2,yY,4,17,"ng-template",2),s.YNc(3,RK,9,28,"div",3),s.qZA()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass",s.l5B(6,NK,r.showIcon,r.timeOnly,r.disabled,r.focus))("ngStyle",r.style),s.xp6(2),s.Q6J("ngIf",!r.inline),s.xp6(1),s.Q6J("ngIf",r.inline||r.overlayVisible))},dependencies:function(){return[Pn,ns,An,Zn,Gn,C0,Zd,g9,_9,y9,oD,zs,v9]},styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[ls("overlayAnimation",[Ba("visibleTouchUI",oi({transform:"translate(-50%,-50%)",opacity:1})),ur("void => visible",[oi({opacity:0,transform:"scaleY(0.8)"}),Hn("{{showTransitionParams}}",oi({opacity:1,transform:"*"}))]),ur("visible => void",[Hn("{{hideTransitionParams}}",oi({opacity:0}))]),ur("void => visibleTouchUI",[oi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Hn("{{showTransitionParams}}")]),ur("visibleTouchUI => void",[Hn("{{hideTransitionParams}}",oi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})),e})(),E9=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,e_,Kn,hu,g9,_9,y9,oD,zs,v9,e_,Kn]})),e})(),VK=(()=>{var i;class e{constructor(t){m(this,"host",void 0),m(this,"autofocus",void 0),m(this,"focused",!1),this.host=t}ngAfterContentChecked(){if(!this.focused&&this.autofocus){const t=ee.getFocusableElements(this.host.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0}}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.SBq))}),m(e,"\u0275dir",s.lG2({type:i,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}})),e})(),BK=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht]})),e})();const UK=["overlay"],HK=["content"];function zK(i,e){1&i&&s.GkF(0)}const jK=function(i,e,n){return{showTransitionParams:i,hideTransitionParams:e,transform:n}},qK=function(i){return{value:"visible",params:i}},GK=function(i){return{mode:i}},ZK=function(i){return{$implicit:i}};function $K(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",1,3),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onOverlayContentAnimationDone(r))}),s.Hsn(2),s.YNc(3,zK,1,0,"ng-container",4),s.qZA()}if(2&i){const n=s.oxw(2);s.Tol(n.contentStyleClass),s.Q6J("ngStyle",n.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",s.VKq(11,qK,s.kEZ(7,jK,n.showTransitionOptions,n.hideTransitionOptions,n.transformOptions[n.modal?n.overlayResponsiveDirection:"default"]))),s.xp6(3),s.Q6J("ngTemplateOutlet",n.contentTemplate)("ngTemplateOutletContext",s.VKq(15,ZK,s.VKq(13,GK,n.overlayMode)))}}const WK=function(i,e,n,t,r,o,c,d,f,_,b,T,M,R){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":i,"p-overlay-center":e,"p-overlay-top":n,"p-overlay-top-start":t,"p-overlay-top-end":r,"p-overlay-bottom":o,"p-overlay-bottom-start":c,"p-overlay-bottom-end":d,"p-overlay-left":f,"p-overlay-left-start":_,"p-overlay-left-end":b,"p-overlay-right":T,"p-overlay-right-start":M,"p-overlay-right-end":R}};function YK(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",1,2),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onOverlayClick(r))}),s.YNc(2,$K,4,17,"div",0),s.qZA()}if(2&i){const n=s.oxw();s.Tol(n.styleClass),s.Q6J("ngStyle",n.style)("ngClass",s.rFY(5,WK,[n.modal,n.modal&&"center"===n.overlayResponsiveDirection,n.modal&&"top"===n.overlayResponsiveDirection,n.modal&&"top-start"===n.overlayResponsiveDirection,n.modal&&"top-end"===n.overlayResponsiveDirection,n.modal&&"bottom"===n.overlayResponsiveDirection,n.modal&&"bottom-start"===n.overlayResponsiveDirection,n.modal&&"bottom-end"===n.overlayResponsiveDirection,n.modal&&"left"===n.overlayResponsiveDirection,n.modal&&"left-start"===n.overlayResponsiveDirection,n.modal&&"left-end"===n.overlayResponsiveDirection,n.modal&&"right"===n.overlayResponsiveDirection,n.modal&&"right-start"===n.overlayResponsiveDirection,n.modal&&"right-end"===n.overlayResponsiveDirection])),s.xp6(2),s.Q6J("ngIf",n.visible)}}const KK=["*"],QK={provide:Ui,useExisting:(0,s.Gpc)(()=>x9),multi:!0},JK=dr([oi({transform:"{{transform}}",opacity:0}),Hn("{{showTransitionParams}}")]),XK=dr([Hn("{{hideTransitionParams}}",oi({transform:"{{transform}}",opacity:0}))]);let x9=(()=>{var i;class e{get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(t){this._mode=t}get style(){return et.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(t){this._style=t}get styleClass(){return et.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(t){this._styleClass=t}get contentStyle(){return et.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(t){this._contentStyle=t}get contentStyleClass(){return et.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(t){this._contentStyleClass=t}get target(){const t=this._target||this.overlayOptions?.target;return void 0===t?"@prev":t}set target(t){this._target=t}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(t){this._appendTo=t}get autoZIndex(){const t=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===t||t}set autoZIndex(t){this._autoZIndex=t}get baseZIndex(){const t=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===t?0:t}set baseZIndex(t){this._baseZIndex=t}get showTransitionOptions(){const t=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===t?".12s cubic-bezier(0, 0, 0.2, 1)":t}set showTransitionOptions(t){this._showTransitionOptions=t}get hideTransitionOptions(){const t=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===t?".1s linear":t}set hideTransitionOptions(t){this._hideTransitionOptions=t}get listener(){return this._listener||this.overlayOptions?.listener}set listener(t){this._listener=t}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(t){this._responsive=t}get options(){return this._options}set options(t){this._options=t}get modal(){if(si(this.platformId))return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return ee.getTargetElement(this.target,this.el?.nativeElement)}constructor(t,r,o,c,d,f,_){m(this,"document",void 0),m(this,"platformId",void 0),m(this,"el",void 0),m(this,"renderer",void 0),m(this,"config",void 0),m(this,"overlayService",void 0),m(this,"zone",void 0),m(this,"visibleChange",new s.vpe),m(this,"onBeforeShow",new s.vpe),m(this,"onShow",new s.vpe),m(this,"onBeforeHide",new s.vpe),m(this,"onHide",new s.vpe),m(this,"onAnimationStart",new s.vpe),m(this,"onAnimationDone",new s.vpe),m(this,"templates",void 0),m(this,"overlayViewChild",void 0),m(this,"contentViewChild",void 0),m(this,"contentTemplate",void 0),m(this,"_visible",!1),m(this,"_mode",void 0),m(this,"_style",void 0),m(this,"_styleClass",void 0),m(this,"_contentStyle",void 0),m(this,"_contentStyleClass",void 0),m(this,"_target",void 0),m(this,"_appendTo",void 0),m(this,"_autoZIndex",void 0),m(this,"_baseZIndex",void 0),m(this,"_showTransitionOptions",void 0),m(this,"_hideTransitionOptions",void 0),m(this,"_listener",void 0),m(this,"_responsive",void 0),m(this,"_options",void 0),m(this,"modalVisible",!1),m(this,"isOverlayClicked",!1),m(this,"isOverlayContentClicked",!1),m(this,"scrollHandler",void 0),m(this,"documentClickListener",void 0),m(this,"documentResizeListener",void 0),m(this,"documentKeyboardListener",void 0),m(this,"window",void 0),m(this,"transformOptions",{default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"}),this.document=t,this.platformId=r,this.el=o,this.renderer=c,this.config=d,this.overlayService=f,this.zone=_,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{t.getType(),this.contentTemplate=t.template})}show(t,r=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&ee.focus(this.targetEl),this.modal&&ee.addClass(this.document?.body,"p-overflow-hidden")}hide(t,r=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),r&&ee.focus(this.targetEl),this.modal&&ee.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&ee.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(t){this._visible=t,this.visibleChange.emit(t)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(t){this.overlayService.add({originalEvent:t,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(t){switch(t.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&mr.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),ee.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&ee.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",t)}onOverlayContentAnimationDone(t){const r=this.overlayEl||t.element.parentElement;switch(t.toState){case"visible":this.show(r,!0),this.bindListeners();break;case"void":this.hide(r,!0),this.unbindListeners(),ee.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),mr.clear(r),this.modalVisible=!1}this.handleEvents("onAnimationDone",t)}handleEvents(t,r){this[t].emit(r),this.options&&this.options[t]&&this.options[t](r),this.config?.overlayOptions&&(this.config?.overlayOptions)[t]&&(this.config?.overlayOptions)[t](r)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new VR(this.targetEl,t=>{(!this.listener||this.listener(t,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(t,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{const o=!(this.targetEl&&(this.targetEl.isSameNode(t.target)||!this.isOverlayClicked&&this.targetEl.contains(t.target))||this.isOverlayContentClicked);(this.listener?this.listener(t,{type:"outside",mode:this.overlayMode,valid:3!==t.which&&o}):o)&&this.hide(t),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",t=>{(this.listener?this.listener(t,{type:"resize",mode:this.overlayMode,valid:!ee.isTouchDevice()}):!ee.isTouchDevice())&&this.hide(t,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",t=>{this.overlayOptions.hideOnEscape&&27===t.keyCode&&(this.listener?this.listener(t,{type:"keydown",mode:this.overlayMode,valid:!ee.isTouchDevice()}):!ee.isTouchDevice())&&this.zone.run(()=>{this.hide(t,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(ee.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),mr.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(ye),s.Y36(s.Lbi),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(dl),s.Y36(LR),s.Y36(s.R0b))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-overlay"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&(s.Gf(UK,5),s.Gf(HK,5)),2&t){let o;s.iGM(o=s.CRH())&&(r.overlayViewChild=o.first),s.iGM(o=s.CRH())&&(r.contentViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[s._Bn([QK])],ngContentSelectors:KK,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(s.F$t(),s.YNc(0,YK,3,20,"div",0)),2&t&&s.Q6J("ngIf",r.modalVisible)},dependencies:[Pn,An,Zn,Gn],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[ls("overlayContentAnimation",[ur(":enter",[Ms(JK)]),ur(":leave",[Ms(XK)])])]},changeDetection:0})),e})(),S9=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,Kn,Kn]})),e})();const eQ=["element"],tQ=["content"];function nQ(i,e){1&i&&s.GkF(0)}const jR=function(i,e){return{$implicit:i,options:e}};function iQ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,nQ,1,0,"ng-container",7),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",n.contentTemplate)("ngTemplateOutletContext",s.WLB(2,jR,n.loadedItems,n.getContentOptions()))}}function rQ(i,e){1&i&&s.GkF(0)}function sQ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,rQ,1,0,"ng-container",7),s.BQk()),2&i){const n=e.$implicit,t=e.index,r=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(2,jR,n,r.getOptions(t)))}}const oQ=function(i){return{"p-scroller-loading":i}};function aQ(i,e){if(1&i&&(s.TgZ(0,"div",8,9),s.YNc(2,sQ,2,5,"ng-container",10),s.qZA()),2&i){const n=s.oxw(2);s.Q6J("ngClass",s.VKq(4,oQ,n.d_loading))("ngStyle",n.contentStyle),s.xp6(2),s.Q6J("ngForOf",n.loadedItems)("ngForTrackBy",n._trackBy||n.index)}}function lQ(i,e){if(1&i&&s._UZ(0,"div",11),2&i){const n=s.oxw(2);s.Q6J("ngStyle",n.spacerStyle)}}function cQ(i,e){1&i&&s.GkF(0)}const uQ=function(i){return{numCols:i}},D9=function(i){return{options:i}};function dQ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,cQ,1,0,"ng-container",7),s.BQk()),2&i){const n=e.index,t=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",s.VKq(4,D9,t.getLoaderOptions(n,t.both&&s.VKq(2,uQ,t._numItemsInViewport.cols))))}}function hQ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,dQ,2,6,"ng-container",14),s.BQk()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",n.loaderArr)}}function pQ(i,e){1&i&&s.GkF(0)}const fQ=function(){return{styleClass:"p-scroller-loading-icon"}};function mQ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,pQ,1,0,"ng-container",7),s.BQk()),2&i){const n=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",n.loaderIconTemplate)("ngTemplateOutletContext",s.VKq(3,D9,s.DdM(2,fQ)))}}function gQ(i,e){1&i&&s._UZ(0,"SpinnerIcon",16),2&i&&s.Q6J("styleClass","p-scroller-loading-icon")}function _Q(i,e){if(1&i&&(s.YNc(0,mQ,2,5,"ng-container",0),s.YNc(1,gQ,1,1,"ng-template",null,15,s.W1O)),2&i){const n=s.MAs(2),t=s.oxw(3);s.Q6J("ngIf",t.loaderIconTemplate)("ngIfElse",n)}}const yQ=function(i){return{"p-component-overlay":i}};function vQ(i,e){if(1&i&&(s.TgZ(0,"div",12),s.YNc(1,hQ,2,1,"ng-container",0),s.YNc(2,_Q,3,2,"ng-template",null,13,s.W1O),s.qZA()),2&i){const n=s.MAs(3),t=s.oxw(2);s.Q6J("ngClass",s.VKq(3,yQ,!t.loaderTemplate)),s.xp6(1),s.Q6J("ngIf",t.loaderTemplate)("ngIfElse",n)}}const wQ=function(i,e,n){return{"p-scroller":!0,"p-scroller-inline":i,"p-both-scroll":e,"p-horizontal-scroll":n}};function bQ(i,e){if(1&i){const n=s.EpF();s.ynx(0),s.TgZ(1,"div",2,3),s.NdJ("scroll",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onContainerScroll(r))}),s.YNc(3,iQ,2,5,"ng-container",0),s.YNc(4,aQ,3,6,"ng-template",null,4,s.W1O),s.YNc(6,lQ,1,1,"div",5),s.YNc(7,vQ,4,5,"div",6),s.qZA(),s.BQk()}if(2&i){const n=s.MAs(5),t=s.oxw();s.xp6(1),s.Tol(t._styleClass),s.Q6J("ngStyle",t._style)("ngClass",s.kEZ(10,wQ,t.inline,t.both,t.horizontal)),s.uIk("id",t._id)("tabindex",t.tabindex),s.xp6(2),s.Q6J("ngIf",t.contentTemplate)("ngIfElse",n),s.xp6(3),s.Q6J("ngIf",t._showSpacer),s.xp6(1),s.Q6J("ngIf",!t.loaderDisabled&&t._showLoader&&t.d_loading)}}function CQ(i,e){1&i&&s.GkF(0)}const IQ=function(i,e){return{rows:i,columns:e}};function TQ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,CQ,1,0,"ng-container",7),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",n.contentTemplate)("ngTemplateOutletContext",s.WLB(5,jR,n.items,s.WLB(2,IQ,n._items,n.loadedColumns)))}}function EQ(i,e){if(1&i&&(s.Hsn(0),s.YNc(1,TQ,2,8,"ng-container",17)),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.contentTemplate)}}const xQ=["*"];let A9=(()=>{var i;class e{get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get step(){return this._step}set step(t){this._step=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=t}get inline(){return this._inline}set inline(t){this._inline=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&"object"==typeof t&&Object.entries(t).forEach(([r,o])=>this[`_${r}`]!==o&&(this[`_${r}`]=o))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}constructor(t,r,o,c,d){m(this,"document",void 0),m(this,"platformId",void 0),m(this,"renderer",void 0),m(this,"cd",void 0),m(this,"zone",void 0),m(this,"onLazyLoad",new s.vpe),m(this,"onScroll",new s.vpe),m(this,"onScrollIndexChange",new s.vpe),m(this,"elementViewChild",void 0),m(this,"contentViewChild",void 0),m(this,"templates",void 0),m(this,"_id",void 0),m(this,"_style",void 0),m(this,"_styleClass",void 0),m(this,"_tabindex",0),m(this,"_items",void 0),m(this,"_itemSize",0),m(this,"_scrollHeight",void 0),m(this,"_scrollWidth",void 0),m(this,"_orientation","vertical"),m(this,"_step",0),m(this,"_delay",0),m(this,"_resizeDelay",10),m(this,"_appendOnly",!1),m(this,"_inline",!1),m(this,"_lazy",!1),m(this,"_disabled",!1),m(this,"_loaderDisabled",!1),m(this,"_columns",void 0),m(this,"_showSpacer",!0),m(this,"_showLoader",!1),m(this,"_numToleratedItems",void 0),m(this,"_loading",void 0),m(this,"_autoSize",!1),m(this,"_trackBy",void 0),m(this,"_options",void 0),m(this,"d_loading",!1),m(this,"d_numToleratedItems",void 0),m(this,"contentEl",void 0),m(this,"contentTemplate",void 0),m(this,"itemTemplate",void 0),m(this,"loaderTemplate",void 0),m(this,"loaderIconTemplate",void 0),m(this,"first",0),m(this,"last",0),m(this,"page",0),m(this,"isRangeChanged",!1),m(this,"numItemsInViewport",0),m(this,"lastScrollPos",0),m(this,"lazyLoadState",{}),m(this,"loaderArr",[]),m(this,"spacerStyle",{}),m(this,"contentStyle",{}),m(this,"scrollTimeout",void 0),m(this,"resizeTimeout",void 0),m(this,"initialized",!1),m(this,"windowResizeListener",void 0),m(this,"defaultWidth",void 0),m(this,"defaultHeight",void 0),m(this,"defaultContentWidth",void 0),m(this,"defaultContentHeight",void 0),this.document=t,this.platformId=r,this.renderer=o,this.cd=c,this.zone=d}ngOnInit(){this.setInitialState()}ngOnChanges(t){let r=!1;if(t.loading){const{previousValue:o,currentValue:c}=t.loading;this.lazy&&o!==c&&c!==this.d_loading&&(this.d_loading=c,r=!0)}if(t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){const{previousValue:o,currentValue:c}=t.numToleratedItems;o!==c&&c!==this.d_numToleratedItems&&(this.d_numToleratedItems=c)}if(t.options){const{previousValue:o,currentValue:c}=t.options;this.lazy&&o?.loading!==c?.loading&&c?.loading!==this.d_loading&&(this.d_loading=c.loading,r=!0),o?.numToleratedItems!==c?.numToleratedItems&&c?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=c.numToleratedItems)}this.initialized&&!r&&(t.items?.previousValue?.length!==t.items?.currentValue?.length||t.itemSize||t.scrollHeight||t.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":default:this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){si(this.platformId)&&ee.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=ee.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=ee.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=ee.getWidth(this.contentEl),this.defaultContentHeight=ee.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||ee.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(t){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,r="auto"){const{numToleratedItems:o}=this.calculateNumItems(),c=this.getContentPosition(),d=(T=0,M)=>T<=M?0:T,f=(T,M,R)=>T*M+R,_=(T=0,M=0)=>this.scrollTo({left:T,top:M,behavior:r});let b=0;this.both?(b={rows:d(t[0],o[0]),cols:d(t[1],o[1])},_(f(b.cols,this._itemSize[1],c.left),f(b.rows,this._itemSize[0],c.top))):(b=d(t,o),this.horizontal?_(f(b,this._itemSize,c.left),0):_(0,f(b,this._itemSize,c.top))),this.isRangeChanged=this.first!==b,this.first=b}scrollInView(t,r,o="auto"){if(r){const{first:c,viewport:d}=this.getRenderedRange(),f=(T=0,M=0)=>this.scrollTo({left:T,top:M,behavior:o}),b="to-end"===r;if("to-start"===r){if(this.both)d.first.rows-c.rows>t[0]?f(d.first.cols*this._itemSize[1],(d.first.rows-1)*this._itemSize[0]):d.first.cols-c.cols>t[1]&&f((d.first.cols-1)*this._itemSize[1],d.first.rows*this._itemSize[0]);else if(d.first-c>t){const T=(d.first-1)*this._itemSize;this.horizontal?f(T,0):f(0,T)}}else if(b)if(this.both)d.last.rows-c.rows<=t[0]+1?f(d.first.cols*this._itemSize[1],(d.first.rows+1)*this._itemSize[0]):d.last.cols-c.cols<=t[1]+1&&f((d.first.cols+1)*this._itemSize[1],d.first.rows*this._itemSize[0]);else if(d.last-c<=t+1){const T=(d.first+1)*this._itemSize;this.horizontal?f(T,0):f(0,T)}}else this.scrollToIndex(t,o)}getRenderedRange(){const t=(c,d)=>Math.floor(c/(d||c));let r=this.first,o=0;if(this.elementViewChild?.nativeElement){const{scrollTop:c,scrollLeft:d}=this.elementViewChild.nativeElement;this.both?(r={rows:t(c,this._itemSize[0]),cols:t(d,this._itemSize[1])},o={rows:r.rows+this.numItemsInViewport.rows,cols:r.cols+this.numItemsInViewport.cols}):(r=t(this.horizontal?d:c,this._itemSize),o=r+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:r,last:o}}}calculateNumItems(){const t=this.getContentPosition(),r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0)||0,o=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0)||0,c=(b,T)=>Math.ceil(b/(T||b)),d=b=>Math.ceil(b/2),f=this.both?{rows:c(o,this._itemSize[0]),cols:c(r,this._itemSize[1])}:c(this.horizontal?r:o,this._itemSize);return{numItemsInViewport:f,numToleratedItems:this.d_numToleratedItems||(this.both?[d(f.rows),d(f.cols)]:d(f))}}calculateOptions(){const{numItemsInViewport:t,numToleratedItems:r}=this.calculateNumItems(),o=(f,_,b,T=!1)=>this.getLast(f+_+(f<b?2:3)*b,T),c=this.first,d=this.both?{rows:o(this.first.rows,t.rows,r[0]),cols:o(this.first.cols,t.cols,r[1],!0)}:o(this.first,t,r);this.last=d,this.numItemsInViewport=t,this.d_numToleratedItems=r,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:c.cols}:0:c,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[t,r]=[ee.getWidth(this.contentEl),ee.getHeight(this.contentEl)];t!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),r!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[o,c]=[ee.getWidth(this.elementViewChild.nativeElement),ee.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=o<this.defaultWidth?o+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=c<this.defaultHeight?c+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(t=0,r=!1){return this._items?Math.min(r?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){const t=getComputedStyle(this.contentEl),r=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),o=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),c=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),d=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:r,right:o,top:c,bottom:d,x:r+o,y:c+d}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const t=this.elementViewChild.nativeElement.parentElement.parentElement,r=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,o=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,c=(d,f)=>this.elementViewChild.nativeElement.style[d]=f;this.both||this.horizontal?(c("height",o),c("width",r)):c("height",o)}}setSpacerSize(){if(this._items){const t=this.getContentPosition(),r=(o,c,d,f=0)=>this.spacerStyle={...this.spacerStyle,[`${o}`]:(c||[]).length*d+f+"px"};this.both?(r("height",this._items,this._itemSize[0],t.y),r("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?r("width",this._columns||this._items,this._itemSize,t.x):r("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl&&!this._appendOnly){const r=t?t.first:this.first,o=(d,f)=>d*f,c=(d=0,f=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${d}px, ${f}px, 0)`};if(this.both)c(o(r.cols,this._itemSize[1]),o(r.rows,this._itemSize[0]));else{const d=o(r,this._itemSize);this.horizontal?c(d,0):c(0,d)}}}onScrollPositionChange(t){const r=t.target,o=this.getContentPosition(),c=(_e,Ne)=>_e?_e>Ne?_e-Ne:_e:0,d=(_e,Ne)=>Math.floor(_e/(Ne||_e)),f=(_e,Ne,Ue,Oe,it,pt)=>_e<=it?it:pt?Ue-Oe-it:Ne+it-1,_=(_e,Ne,Ue,Oe,it,pt,Ot)=>_e<=pt?0:Math.max(0,Ot?_e<Ne?Ue:_e-pt:_e>Ne?Ue:_e-2*pt),b=(_e,Ne,Ue,Oe,it,pt=!1)=>{let Ot=Ne+Oe+2*it;return _e>=it&&(Ot+=it+1),this.getLast(Ot,pt)},T=c(r.scrollTop,o.top),M=c(r.scrollLeft,o.left);let R=this.both?{rows:0,cols:0}:0,B=this.last,K=!1,te=this.lastScrollPos;if(this.both){const _e=this.lastScrollPos.top<=T,Ne=this.lastScrollPos.left<=M;if(!this._appendOnly||this._appendOnly&&(_e||Ne)){const Ue={rows:d(T,this._itemSize[0]),cols:d(M,this._itemSize[1])},Oe={rows:f(Ue.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],_e),cols:f(Ue.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],Ne)};R={rows:_(Ue.rows,Oe.rows,this.first.rows,0,0,this.d_numToleratedItems[0],_e),cols:_(Ue.cols,Oe.cols,this.first.cols,0,0,this.d_numToleratedItems[1],Ne)},B={rows:b(Ue.rows,R.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:b(Ue.cols,R.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},K=R.rows!==this.first.rows||B.rows!==this.last.rows||R.cols!==this.first.cols||B.cols!==this.last.cols||this.isRangeChanged,te={top:T,left:M}}}else{const _e=this.horizontal?M:T,Ne=this.lastScrollPos<=_e;if(!this._appendOnly||this._appendOnly&&Ne){const Ue=d(_e,this._itemSize);R=_(Ue,f(Ue,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,Ne),this.first,0,0,this.d_numToleratedItems,Ne),B=b(Ue,R,0,this.numItemsInViewport,this.d_numToleratedItems),K=R!==this.first||B!==this.last||this.isRangeChanged,te=_e}}return{first:R,last:B,isRangeChanged:K,scrollPos:te}}onScrollChange(t){const{first:r,last:o,isRangeChanged:c,scrollPos:d}=this.onScrollPositionChange(t);if(c){const f={first:r,last:o};if(this.setContentPosition(f),this.first=r,this.last=o,this.lastScrollPos=d,this.handleEvents("onScrollIndexChange",f),this._lazy&&this.isPageChanged){const _={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):r,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:o,this.items.length)};(this.lazyLoadState.first!==_.first||this.lazyLoadState.last!==_.last)&&this.handleEvents("onLazyLoad",_),this.lazyLoadState=_}}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:r}=this.onScrollPositionChange(t);(r||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(t)}bindResizeListener(){si(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{const t=this.document.defaultView,r=ee.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(t,r,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(ee.isVisible(this.elementViewChild?.nativeElement)){const[t,r]=[ee.getWidth(this.elementViewChild?.nativeElement),ee.getHeight(this.elementViewChild?.nativeElement)],[o,c]=[t!==this.defaultWidth,r!==this.defaultHeight];(this.both?o||c:this.horizontal?o:this.vertical&&c)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=r,this.defaultContentWidth=ee.getWidth(this.contentEl),this.defaultContentHeight=ee.getHeight(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(t,r){return this.options&&this.options[t]?this.options[t](r):this[t].emit(r)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,r)=>this.getLoaderOptions(t,r),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){const r=(this._items||[]).length,o=this.both?this.first.rows+t:this.first+t;return{index:o,count:r,first:0===o,last:o===r-1,even:o%2==0,odd:o%2!=0}}getLoaderOptions(t,r){const o=this.loaderArr.length;return{index:t,count:o,first:0===t,last:t===o-1,even:t%2==0,odd:t%2!=0,...r}}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(ye),s.Y36(s.Lbi),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-scroller"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&(s.Gf(eQ,5),s.Gf(tQ,5)),2&t){let o;s.iGM(o=s.CRH())&&(r.elementViewChild=o.first),s.iGM(o=s.CRH())&&(r.contentViewChild=o.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[s.TTD],ngContentSelectors:xQ,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[3,"styleClass"],[4,"ngIf"]],template:function(t,r){if(1&t&&(s.F$t(),s.YNc(0,bQ,8,14,"ng-container",0),s.YNc(1,EQ,2,1,"ng-template",null,1,s.W1O)),2&t){const o=s.MAs(2);s.Q6J("ngIf",!r._disabled)("ngIfElse",o)}},dependencies:function(){return[Pn,ns,An,Zn,Gn,Jp]},styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2})),e})(),aD=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,Kn,Jp,Kn]})),e})(),M9=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["SearchIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})();function SQ(i,e){if(1&i&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&i){const n=s.oxw();let t;s.xp6(1),s.Oqu(null!==(t=n.label)&&void 0!==t?t:"empty")}}function DQ(i,e){1&i&&s.GkF(0)}const gI=function(i){return{height:i}},AQ=function(i,e){return{"p-dropdown-item":!0,"p-highlight":i,"p-disabled":e}},qR=function(i){return{$implicit:i}},MQ=["container"],kQ=["filter"],PQ=["in"],RQ=["editableInput"],OQ=["items"],NQ=["scroller"],LQ=["overlay"];function FQ(i,e){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Oqu(n.label||"empty")}}function VQ(i,e){1&i&&s.GkF(0)}const BQ=function(i){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":i}};function UQ(i,e){if(1&i&&(s.TgZ(0,"span",14),s.YNc(1,FQ,2,1,"ng-container",8),s.YNc(2,VQ,1,0,"ng-container",15),s.qZA()),2&i){const n=s.oxw();s.Q6J("ngClass",s.VKq(9,BQ,null==n.label||0===n.label.length))("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass),s.uIk("id",n.labelId),s.xp6(1),s.Q6J("ngIf",!n.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,qR,n.selectedOption))}}const HQ=function(i){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":i}};function zQ(i,e){if(1&i&&(s.TgZ(0,"span",16),s._uU(1),s.qZA()),2&i){const n=s.oxw();s.Q6J("ngClass",s.VKq(2,HQ,null==n.placeholder||0===n.placeholder.length)),s.xp6(1),s.Oqu(n.placeholder||"empty")}}function jQ(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"input",17,18),s.NdJ("input",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onEditableInputChange(r))})("focus",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onEditableInputFocus(r))})("blur",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onInputBlur(r))}),s.qZA()}if(2&i){const n=s.oxw();s.Q6J("disabled",n.disabled),s.uIk("maxlength",n.maxlength)("placeholder",n.placeholder)("aria-expanded",n.overlayVisible)}}function qQ(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"TimesIcon",21),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.clear(r))}),s.qZA()}2&i&&s.Q6J("styleClass","p-dropdown-clear-icon")}function GQ(i,e){}function ZQ(i,e){1&i&&s.YNc(0,GQ,0,0,"ng-template")}function $Q(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",22),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.clear(r))}),s.YNc(1,ZQ,1,0,null,23),s.qZA()}if(2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",n.clearIconTemplate)}}function WQ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,qQ,1,1,"TimesIcon",19),s.YNc(2,$Q,2,1,"span",20),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",!n.clearIconTemplate),s.xp6(1),s.Q6J("ngIf",n.clearIconTemplate)}}function YQ(i,e){if(1&i&&s._UZ(0,"span",26),2&i){const n=s.oxw(2);s.Q6J("ngClass",n.dropdownIcon)}}function KQ(i,e){1&i&&s._UZ(0,"ChevronDownIcon",27),2&i&&s.Q6J("styleClass","p-dropdown-trigger-icon")}function QQ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,YQ,1,1,"span",24),s.YNc(2,KQ,1,1,"ChevronDownIcon",25),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.dropdownIcon),s.xp6(1),s.Q6J("ngIf",!n.dropdownIcon)}}function JQ(i,e){}function XQ(i,e){1&i&&s.YNc(0,JQ,0,0,"ng-template")}function eJ(i,e){if(1&i&&(s.TgZ(0,"span",28),s.YNc(1,XQ,1,0,null,23),s.qZA()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",n.dropdownIconTemplate)}}function tJ(i,e){1&i&&s.GkF(0)}function nJ(i,e){1&i&&s.GkF(0)}const k9=function(i){return{options:i}};function iJ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,nJ,1,0,"ng-container",15),s.BQk()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",n.filterTemplate)("ngTemplateOutletContext",s.VKq(2,k9,n.filterOptions))}}function rJ(i,e){1&i&&s._UZ(0,"SearchIcon",27),2&i&&s.Q6J("styleClass","p-dropdown-filter-icon")}function sJ(i,e){}function oJ(i,e){1&i&&s.YNc(0,sJ,0,0,"ng-template")}function aJ(i,e){if(1&i&&(s.TgZ(0,"span",41),s.YNc(1,oJ,1,0,null,23),s.qZA()),2&i){const n=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",n.filterIconTemplate)}}function lJ(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",37)(1,"input",38,39),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onKeydown(r,!1))})("input",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.onFilterInputChange(r))}),s.qZA(),s.YNc(3,rJ,1,1,"SearchIcon",25),s.YNc(4,aJ,2,1,"span",40),s.qZA()}if(2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("value",n.filterValue||""),s.uIk("placeholder",n.filterPlaceholder)("aria-label",n.ariaFilterLabel)("aria-activedescendant",n.overlayVisible?"p-highlighted-option":n.labelId),s.xp6(2),s.Q6J("ngIf",!n.filterIconTemplate),s.xp6(1),s.Q6J("ngIf",n.filterIconTemplate)}}function cJ(i,e){if(1&i&&(s.TgZ(0,"div",34),s.NdJ("click",function(t){return t.stopPropagation()}),s.YNc(1,iJ,2,4,"ng-container",35),s.YNc(2,lJ,5,6,"ng-template",null,36,s.W1O),s.qZA()),2&i){const n=s.MAs(3),t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",t.filterTemplate)("ngIfElse",n)}}function uJ(i,e){1&i&&s.GkF(0)}const P9=function(i,e){return{$implicit:i,options:e}};function dJ(i,e){if(1&i&&s.YNc(0,uJ,1,0,"ng-container",15),2&i){const n=e.$implicit,t=e.options;s.oxw(2);const r=s.MAs(7);s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(2,P9,n,t))}}function hJ(i,e){1&i&&s.GkF(0)}function pJ(i,e){if(1&i&&s.YNc(0,hJ,1,0,"ng-container",15),2&i){const n=e.options,t=s.oxw(4);s.Q6J("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,k9,n))}}function fJ(i,e){1&i&&(s.ynx(0),s.YNc(1,pJ,1,4,"ng-template",44),s.BQk())}function mJ(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-scroller",42,43),s.NdJ("onLazyLoad",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onLazyLoad.emit(r))}),s.YNc(2,dJ,1,5,"ng-template",13),s.YNc(3,fJ,2,0,"ng-container",8),s.qZA()}if(2&i){const n=s.oxw(2);s.Akn(s.VKq(8,gI,n.scrollHeight)),s.Q6J("items",n.optionsToDisplay)("itemSize",n.virtualScrollItemSize||n._itemSize)("autoSize",!0)("lazy",n.lazy)("options",n.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",n.loaderTemplate)}}function gJ(i,e){1&i&&s.GkF(0)}const _J=function(){return{}};function yJ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,gJ,1,0,"ng-container",15),s.BQk()),2&i){s.oxw();const n=s.MAs(7),t=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",s.WLB(3,P9,t.optionsToDisplay,s.DdM(2,_J)))}}function vJ(i,e){if(1&i&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&i){const n=s.oxw().$implicit,t=s.oxw(4);s.xp6(1),s.Oqu(t.getOptionGroupLabel(n)||"empty")}}function wJ(i,e){1&i&&s.GkF(0)}function bJ(i,e){1&i&&s.GkF(0)}const R9=function(i,e){return{$implicit:i,selectedOption:e}};function CJ(i,e){if(1&i&&(s.TgZ(0,"li",50),s.YNc(1,vJ,2,1,"span",8),s.YNc(2,wJ,1,0,"ng-container",15),s.qZA(),s.YNc(3,bJ,1,0,"ng-container",15)),2&i){const n=e.$implicit,t=s.oxw(2).options,r=s.MAs(5),o=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,gI,t.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!o.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",s.VKq(8,qR,n)),s.xp6(1),s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(10,R9,o.getOptionGroupChildren(n),o.selectedOption))}}function IJ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,CJ,4,13,"ng-template",49),s.BQk()),2&i){const n=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",n)}}function TJ(i,e){1&i&&s.GkF(0)}function EJ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,TJ,1,0,"ng-container",15),s.BQk()),2&i){const n=s.oxw().$implicit,t=s.MAs(5),r=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",s.WLB(2,R9,n,r.selectedOption))}}function xJ(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-dropdownItem",51),s.NdJ("onClick",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.onItemClick(r))}),s.qZA()}if(2&i){const n=e.$implicit,t=s.oxw().selectedOption,r=s.oxw(3);s.Q6J("option",n)("selected",t==n)("label",r.getOptionLabel(n))("disabled",r.isOptionDisabled(n))("template",r.itemTemplate)}}function SJ(i,e){1&i&&s.YNc(0,xJ,1,5,"ng-template",49),2&i&&s.Q6J("ngForOf",e.$implicit)}function DJ(i,e){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const n=s.oxw(4);s.xp6(1),s.hij(" ",n.emptyFilterMessageLabel," ")}}function AJ(i,e){1&i&&s.GkF(0,null,53)}function MJ(i,e){if(1&i&&(s.TgZ(0,"li",52),s.YNc(1,DJ,2,1,"ng-container",35),s.YNc(2,AJ,2,0,"ng-container",23),s.qZA()),2&i){const n=s.oxw().options,t=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,gI,n.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function kJ(i,e){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const n=s.oxw(4);s.xp6(1),s.hij(" ",n.emptyMessageLabel," ")}}function PJ(i,e){1&i&&s.GkF(0,null,54)}function RJ(i,e){if(1&i&&(s.TgZ(0,"li",52),s.YNc(1,kJ,2,1,"ng-container",35),s.YNc(2,PJ,2,0,"ng-container",23),s.qZA()),2&i){const n=s.oxw().options,t=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,gI,n.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",t.emptyTemplate)}}function OJ(i,e){if(1&i&&(s.TgZ(0,"ul",45,46),s.YNc(2,IJ,2,1,"ng-container",8),s.YNc(3,EJ,2,5,"ng-container",8),s.YNc(4,SJ,1,1,"ng-template",null,47,s.W1O),s.YNc(6,MJ,3,6,"li",48),s.YNc(7,RJ,3,6,"li",48),s.qZA()),2&i){const n=e.options,t=s.oxw(2);s.Akn(n.contentStyle),s.Q6J("ngClass",n.contentStyleClass),s.uIk("id",t.listId),s.xp6(2),s.Q6J("ngIf",t.group),s.xp6(1),s.Q6J("ngIf",!t.group),s.xp6(3),s.Q6J("ngIf",t.filterValue&&t.isEmpty()),s.xp6(1),s.Q6J("ngIf",!t.filterValue&&t.isEmpty())}}function NJ(i,e){1&i&&s.GkF(0)}function LJ(i,e){if(1&i&&(s.TgZ(0,"div",29),s.YNc(1,tJ,1,0,"ng-container",23),s.YNc(2,cJ,4,2,"div",30),s.TgZ(3,"div",31),s.YNc(4,mJ,4,10,"p-scroller",32),s.YNc(5,yJ,2,6,"ng-container",8),s.YNc(6,OJ,8,8,"ng-template",null,33,s.W1O),s.qZA(),s.YNc(8,NJ,1,0,"ng-container",23),s.qZA()),2&i){const n=s.oxw();s.Tol(n.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",n.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",n.headerTemplate),s.xp6(1),s.Q6J("ngIf",n.filter),s.xp6(1),s.Udp("max-height",n.virtualScroll?"auto":n.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",n.virtualScroll),s.xp6(1),s.Q6J("ngIf",!n.virtualScroll),s.xp6(3),s.Q6J("ngTemplateOutlet",n.footerTemplate)}}const FJ=function(i,e,n,t){return{"p-dropdown p-component":!0,"p-disabled":i,"p-dropdown-open":e,"p-focus":n,"p-dropdown-clearable":t}},VJ={provide:Ui,useExisting:(0,s.Gpc)(()=>GR),multi:!0};let BJ=(()=>{var i;class e{constructor(){m(this,"option",void 0),m(this,"selected",void 0),m(this,"label",void 0),m(this,"disabled",void 0),m(this,"visible",void 0),m(this,"itemSize",void 0),m(this,"template",void 0),m(this,"onClick",new s.vpe)}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(s.TgZ(0,"li",0),s.NdJ("click",function(c){return r.onOptionClick(c)}),s.YNc(1,SQ,2,1,"span",1),s.YNc(2,DQ,1,0,"ng-container",2),s.qZA()),2&t&&(s.Q6J("ngStyle",s.VKq(8,gI,r.itemSize+"px"))("id",r.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,AQ,r.selected,r.disabled)),s.uIk("aria-label",r.label)("aria-selected",r.selected),s.xp6(1),s.Q6J("ngIf",!r.template),s.xp6(1),s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.VKq(13,qR,r.option)))},dependencies:[Pn,An,Zn,Gn,Zd],encapsulation:2})),e})(),GR=(()=>{var i;class e{get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}get options(){return this._options}set options(t){this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&et.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}constructor(t,r,o,c,d,f){m(this,"el",void 0),m(this,"renderer",void 0),m(this,"cd",void 0),m(this,"zone",void 0),m(this,"filterService",void 0),m(this,"config",void 0),m(this,"scrollHeight","200px"),m(this,"filter",void 0),m(this,"name",void 0),m(this,"style",void 0),m(this,"panelStyle",void 0),m(this,"styleClass",void 0),m(this,"panelStyleClass",void 0),m(this,"readonly",void 0),m(this,"required",void 0),m(this,"editable",void 0),m(this,"appendTo",void 0),m(this,"tabindex",void 0),m(this,"placeholder",void 0),m(this,"filterPlaceholder",void 0),m(this,"filterLocale",void 0),m(this,"inputId",void 0),m(this,"selectId",void 0),m(this,"dataKey",void 0),m(this,"filterBy",void 0),m(this,"autofocus",void 0),m(this,"resetFilterOnHide",!1),m(this,"dropdownIcon",void 0),m(this,"optionLabel",void 0),m(this,"optionValue",void 0),m(this,"optionDisabled",void 0),m(this,"optionGroupLabel",void 0),m(this,"optionGroupChildren","items"),m(this,"autoDisplayFirst",!0),m(this,"group",void 0),m(this,"showClear",void 0),m(this,"emptyFilterMessage",""),m(this,"emptyMessage",""),m(this,"lazy",!1),m(this,"virtualScroll",void 0),m(this,"virtualScrollItemSize",void 0),m(this,"virtualScrollOptions",void 0),m(this,"overlayOptions",void 0),m(this,"ariaFilterLabel",void 0),m(this,"ariaLabel",void 0),m(this,"ariaLabelledBy",void 0),m(this,"filterMatchMode","contains"),m(this,"maxlength",void 0),m(this,"tooltip",""),m(this,"tooltipPosition","right"),m(this,"tooltipPositionStyle","absolute"),m(this,"tooltipStyleClass",void 0),m(this,"autofocusFilter",!0),m(this,"overlayDirection","end"),m(this,"_itemSize",void 0),m(this,"_autoZIndex",void 0),m(this,"_baseZIndex",void 0),m(this,"_showTransitionOptions",void 0),m(this,"_hideTransitionOptions",void 0),m(this,"onChange",new s.vpe),m(this,"onFilter",new s.vpe),m(this,"onFocus",new s.vpe),m(this,"onBlur",new s.vpe),m(this,"onClick",new s.vpe),m(this,"onShow",new s.vpe),m(this,"onHide",new s.vpe),m(this,"onClear",new s.vpe),m(this,"onLazyLoad",new s.vpe),m(this,"containerViewChild",void 0),m(this,"filterViewChild",void 0),m(this,"accessibleViewChild",void 0),m(this,"editableInputViewChild",void 0),m(this,"itemsViewChild",void 0),m(this,"scroller",void 0),m(this,"overlayViewChild",void 0),m(this,"templates",void 0),m(this,"_disabled",void 0),m(this,"itemsWrapper",void 0),m(this,"itemTemplate",void 0),m(this,"groupTemplate",void 0),m(this,"loaderTemplate",void 0),m(this,"selectedItemTemplate",void 0),m(this,"headerTemplate",void 0),m(this,"filterTemplate",void 0),m(this,"footerTemplate",void 0),m(this,"emptyFilterTemplate",void 0),m(this,"emptyTemplate",void 0),m(this,"dropdownIconTemplate",void 0),m(this,"clearIconTemplate",void 0),m(this,"filterIconTemplate",void 0),m(this,"filterOptions",void 0),m(this,"selectedOption",void 0),m(this,"_options",void 0),m(this,"value",void 0),m(this,"onModelChange",()=>{}),m(this,"onModelTouched",()=>{}),m(this,"optionsToDisplay",void 0),m(this,"hover",void 0),m(this,"focused",void 0),m(this,"overlayVisible",void 0),m(this,"optionsChanged",void 0),m(this,"panel",void 0),m(this,"dimensionsUpdated",void 0),m(this,"hoveredItem",void 0),m(this,"selectedOptionUpdated",void 0),m(this,"_filterValue",void 0),m(this,"searchValue",void 0),m(this,"searchIndex",void 0),m(this,"searchTimeout",void 0),m(this,"previousSearchChar",void 0),m(this,"currentSearchChar",void 0),m(this,"preventModelTouched",void 0),m(this,"id",jn()),m(this,"labelId",void 0),m(this,"listId",void 0),this.el=t,this.renderer=r,this.cd=o,this.zone=c,this.filterService=d,this.config=f}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return"number"==typeof this.selectedOption&&(this.selectedOption=this.selectedOption.toString()),this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(So.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(So.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(t){return this.optionLabel?et.resolveFieldData(t,this.optionLabel):t&&void 0!==t.label?t.label:t}getOptionValue(t){return this.optionValue?et.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&void 0!==t.value?t.value:t}isOptionDisabled(t){return this.optionDisabled?et.resolveFieldData(t,this.optionDisabled):!(!t||void 0===t.disabled)&&t.disabled}getOptionGroupLabel(t){return this.optionGroupLabel?et.resolveFieldData(t,this.optionGroupLabel):t&&void 0!==t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?et.resolveFieldData(t,this.optionGroupChildren):t.items}onItemClick(t){const r=t.option;this.isOptionDisabled(r)||(this.selectItem(t.originalEvent,r),this.accessibleViewChild?.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(t,r){this.selectedOption!=r&&(this.selectedOption=r,this.value=this.getOptionValue(r),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t,value:this.value}))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let t=ee.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");t&&ee.scrollInView(this.itemsWrapper,t),this.selectedOptionUpdated=!1}}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.getOptionGroupChildren(this.optionsToDisplay[0])[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onMouseclick(t){this.disabled||this.readonly||this.isInputClick(t)||(this.onClick.emit(t),this.accessibleViewChild?.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(t){return ee.hasClass(t.target,"p-dropdown-clear-icon")||t.target.isSameNode(this.accessibleViewChild?.nativeElement)||this.editableInputViewChild&&t.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(t){this.focused=!0,this.hide(),this.onFocus.emit(t)}onEditableInputChange(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){if("visible"===t.toState){if(this.itemsWrapper=ee.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==r&&this.scroller?.scrollToIndex(r)}else{let r=ee.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t)}"void"===t.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(t))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(t){let r;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let o=t-1;0<=o;o--){let c=this.optionsToDisplay[o];if(!this.isOptionDisabled(c)){r=c;break}}if(!r)for(let o=this.optionsToDisplay.length-1;o>=t;o--){let c=this.optionsToDisplay[o];if(!this.isOptionDisabled(c)){r=c;break}}}return r}findNextEnabledOption(t){let r;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let o=t+1;o<this.optionsToDisplay.length;o++){let c=this.optionsToDisplay[o];if(!this.isOptionDisabled(c)){r=c;break}}if(!r)for(let o=0;o<t;o++){let c=this.optionsToDisplay[o];if(!this.isOptionDisabled(c)){r=c;break}}}return r}onKeydown(t,r){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show();else if(this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==o){let c=o.itemIndex+1;c<this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex]).length?(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex])[c]),this.selectedOptionUpdated=!0):this.optionsToDisplay[o.groupIndex+1]&&(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,c=this.findNextEnabledOption(o);c&&(this.selectItem(t,c),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 38:if(this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==o){let c=o.itemIndex-1;if(c>=0)this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex])[c]),this.selectedOptionUpdated=!0;else if(c<0){let d=this.optionsToDisplay[o.groupIndex-1];d&&(this.selectItem(t,this.getOptionGroupChildren(d)[this.getOptionGroupChildren(d).length-1]),this.selectedOptionUpdated=!0)}}}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,c=this.findPrevEnabledOption(o);c&&(this.selectItem(t,c),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 32:r&&(this.overlayVisible?this.hide():this.show(),t.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),t.preventDefault();break;case 27:case 9:this.hide();break;default:r&&!t.metaKey&&17!==t.which&&this.search(t)}}search(t){this.searchTimeout&&clearTimeout(this.searchTimeout);const r=t.key;let o;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=r,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+r:r,this.group){let c=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};o=this.searchOptionWithinGroup(c)}else{let c=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;o=this.searchOption(++c)}o&&!this.isOptionDisabled(o)&&(this.selectItem(t,o),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(t){let r;return this.searchValue&&(r=this.searchOptionInRange(t,this.optionsToDisplay.length),r||(r=this.searchOptionInRange(0,t))),r}searchOptionInRange(t,r){for(let o=t;o<r;o++){let c=this.optionsToDisplay[o];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}return null}searchOptionWithinGroup(t){if(this.searchValue&&this.optionsToDisplay){for(let o=t.groupIndex;o<this.optionsToDisplay.length;o++)for(let c=t.groupIndex===o?t.itemIndex+1:0;c<this.getOptionGroupChildren(this.optionsToDisplay[o]).length;c++){let d=this.getOptionGroupChildren(this.optionsToDisplay[o])[c];if(this.getOptionLabel(d).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(d))return d}for(let o=0;o<=t.groupIndex;o++)for(let c=0;c<(t.groupIndex===o?t.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[o]).length);c++){let d=this.getOptionGroupChildren(this.optionsToDisplay[o])[c];if(this.getOptionLabel(d).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(d))return d}}return null}findOptionIndex(t,r){let o=-1;if(r)for(let c=0;c<r.length;c++)if(null==t&&null==this.getOptionValue(r[c])||et.equals(t,this.getOptionValue(r[c]),this.dataKey)){o=c;break}return o}findOptionGroupIndex(t,r){let o,c;if(r)for(let d=0;d<r.length&&(o=d,c=this.findOptionIndex(t,this.getOptionGroupChildren(r[d])),-1===c);d++);return-1!==c?{groupIndex:o,itemIndex:c}:-1}findOption(t,r,o){if(this.group&&!o){let c;if(r&&r.length)for(let d of r)if(c=this.findOption(t,this.getOptionGroupChildren(d),!0),c)break;return c}{let c=this.findOptionIndex(t,r);return-1!=c?r[c]:null}}onFilterInputChange(t){let r=t.target.value;r&&r.length?(this._filterValue=r,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller?.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue})}activateFilter(){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let r=[];for(let o of this.options){let c=this.filterService.filter(this.getOptionGroupChildren(o),t,this.filterValue,this.filterMatchMode,this.filterLocale);c&&c.length&&r.push({...o,[this.optionGroupChildren]:c})}this.optionsToDisplay=r}else this.optionsToDisplay=this.filterService.filter(this.options,t,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?ee.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():ee.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(t){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(t)}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(OR),s.Y36(dl))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-dropdown"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&(s.Gf(MQ,5),s.Gf(kQ,5),s.Gf(PQ,5),s.Gf(RQ,5),s.Gf(OQ,5),s.Gf(NQ,5),s.Gf(LQ,5)),2&t){let o;s.iGM(o=s.CRH())&&(r.containerViewChild=o.first),s.iGM(o=s.CRH())&&(r.filterViewChild=o.first),s.iGM(o=s.CRH())&&(r.accessibleViewChild=o.first),s.iGM(o=s.CRH())&&(r.editableInputViewChild=o.first),s.iGM(o=s.CRH())&&(r.itemsViewChild=o.first),s.iGM(o=s.CRH())&&(r.scroller=o.first),s.iGM(o=s.CRH())&&(r.overlayViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,r){2&t&&s.ekj("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[s._Bn([VJ])],decls:15,vars:33,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],["class","p-dropdown-trigger-icon",4,"ngIf"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(t,r){1&t&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(c){return r.onMouseclick(c)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(c){return r.onInputFocus(c)})("blur",function(c){return r.onInputBlur(c)})("keydown",function(c){return r.onKeydown(c,!0)}),s.qZA()(),s.YNc(5,UQ,3,13,"span",5),s.YNc(6,zQ,2,4,"span",6),s.YNc(7,jQ,2,4,"input",7),s.YNc(8,WQ,3,2,"ng-container",8),s.TgZ(9,"div",9),s.YNc(10,QQ,3,2,"ng-container",8),s.YNc(11,eJ,2,1,"span",10),s.qZA(),s.TgZ(12,"p-overlay",11,12),s.NdJ("visibleChange",function(c){return r.overlayVisible=c})("onAnimationStart",function(c){return r.onOverlayAnimationStart(c)})("onHide",function(){return r.hide()}),s.YNc(14,LJ,9,11,"ng-template",13),s.qZA()()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass",s.l5B(28,FJ,r.disabled,r.overlayVisible,r.focused,r.showClear&&!r.disabled))("ngStyle",r.style),s.xp6(3),s.Q6J("disabled",r.disabled)("autofocus",r.autofocus),s.uIk("id",r.inputId)("placeholder",r.placeholder)("aria-label",r.ariaLabel)("aria-expanded",!1)("aria-labelledby",r.ariaLabelledBy)("tabindex",r.tabindex)("aria-activedescendant",r.overlayVisible?r.labelId:null),s.xp6(2),s.Q6J("ngIf",!r.editable&&null!=r.label),s.xp6(1),s.Q6J("ngIf",!r.editable&&null==r.label),s.xp6(1),s.Q6J("ngIf",r.editable),s.xp6(1),s.Q6J("ngIf",r.isVisibleClearIcon),s.xp6(1),s.uIk("aria-expanded",r.overlayVisible),s.xp6(1),s.Q6J("ngIf",!r.dropdownIconTemplate),s.xp6(1),s.Q6J("ngIf",r.dropdownIconTemplate),s.xp6(1),s.Q6J("visible",r.overlayVisible)("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions))},dependencies:function(){return[Pn,ns,An,Zn,Gn,x9,ir,f9,A9,VK,zs,oD,M9,BJ]},styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0})),e})(),lD=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,S9,Kn,BR,hu,aD,BK,zs,oD,M9,S9,Kn,aD]})),e})(),O9=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["AngleUpIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})();const UJ=["input"];function HJ(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"TimesIcon",8),s.NdJ("click",function(){s.CHM(n);const r=s.oxw(2);return s.KtG(r.clear())}),s.qZA()}2&i&&s.Q6J("ngClass","p-inputnumber-clear-icon")}function zJ(i,e){}function jJ(i,e){1&i&&s.YNc(0,zJ,0,0,"ng-template")}function qJ(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",9),s.NdJ("click",function(){s.CHM(n);const r=s.oxw(2);return s.KtG(r.clear())}),s.YNc(1,jJ,1,0,null,10),s.qZA()}if(2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",n.clearIconTemplate)}}function GJ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,HJ,1,1,"TimesIcon",6),s.YNc(2,qJ,2,1,"span",7),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",!n.clearIconTemplate),s.xp6(1),s.Q6J("ngIf",n.clearIconTemplate)}}function ZJ(i,e){if(1&i&&s._UZ(0,"span",14),2&i){const n=s.oxw(2);s.Q6J("ngClass",n.incrementButtonIcon)}}function $J(i,e){1&i&&s._UZ(0,"AngleUpIcon")}function WJ(i,e){}function YJ(i,e){1&i&&s.YNc(0,WJ,0,0,"ng-template")}function KJ(i,e){if(1&i&&(s.ynx(0),s.YNc(1,$J,1,0,"AngleUpIcon",3),s.YNc(2,YJ,1,0,null,10),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!n.incrementButtonIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.incrementButtonIconTemplate)}}function QJ(i,e){if(1&i&&s._UZ(0,"span",14),2&i){const n=s.oxw(2);s.Q6J("ngClass",n.decrementButtonIcon)}}function JJ(i,e){1&i&&s._UZ(0,"AngleDownIcon")}function XJ(i,e){}function eX(i,e){1&i&&s.YNc(0,XJ,0,0,"ng-template")}function tX(i,e){if(1&i&&(s.ynx(0),s.YNc(1,JJ,1,0,"AngleDownIcon",3),s.YNc(2,eX,1,0,null,10),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!n.decrementButtonIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.decrementButtonIconTemplate)}}const N9=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},L9=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function nX(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",11)(1,"button",12),s.NdJ("mousedown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onUpButtonMouseDown(r))})("mouseup",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onUpButtonMouseLeave())})("keydown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onUpButtonKeyDown(r))})("keyup",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onUpButtonKeyUp())}),s.YNc(2,ZJ,1,1,"span",13),s.YNc(3,KJ,3,2,"ng-container",3),s.qZA(),s.TgZ(4,"button",12),s.NdJ("mousedown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onDownButtonMouseDown(r))})("mouseup",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onDownButtonMouseLeave())})("keydown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onDownButtonKeyDown(r))})("keyup",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onDownButtonKeyUp())}),s.YNc(5,QJ,1,1,"span",13),s.YNc(6,tX,3,2,"ng-container",3),s.qZA()()}if(2&i){const n=s.oxw();s.xp6(1),s.Tol(n.incrementButtonClass),s.Q6J("ngClass",s.DdM(12,N9))("disabled",n.disabled),s.xp6(1),s.Q6J("ngIf",n.incrementButtonIcon),s.xp6(1),s.Q6J("ngIf",!n.incrementButtonIcon),s.xp6(1),s.Tol(n.decrementButtonClass),s.Q6J("ngClass",s.DdM(13,L9))("disabled",n.disabled),s.xp6(1),s.Q6J("ngIf",n.decrementButtonIcon),s.xp6(1),s.Q6J("ngIf",!n.decrementButtonIcon)}}function iX(i,e){if(1&i&&s._UZ(0,"span",14),2&i){const n=s.oxw(2);s.Q6J("ngClass",n.incrementButtonIcon)}}function rX(i,e){1&i&&s._UZ(0,"AngleUpIcon")}function sX(i,e){}function oX(i,e){1&i&&s.YNc(0,sX,0,0,"ng-template")}function aX(i,e){if(1&i&&(s.ynx(0),s.YNc(1,rX,1,0,"AngleUpIcon",3),s.YNc(2,oX,1,0,null,10),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!n.incrementButtonIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.incrementButtonIconTemplate)}}function lX(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",12),s.NdJ("mousedown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onUpButtonMouseDown(r))})("mouseup",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onUpButtonMouseLeave())})("keydown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onUpButtonKeyDown(r))})("keyup",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onUpButtonKeyUp())}),s.YNc(1,iX,1,1,"span",13),s.YNc(2,aX,3,2,"ng-container",3),s.qZA()}if(2&i){const n=s.oxw();s.Tol(n.incrementButtonClass),s.Q6J("ngClass",s.DdM(6,N9))("disabled",n.disabled),s.xp6(1),s.Q6J("ngIf",n.incrementButtonIcon),s.xp6(1),s.Q6J("ngIf",!n.incrementButtonIcon)}}function cX(i,e){if(1&i&&s._UZ(0,"span",14),2&i){const n=s.oxw(2);s.Q6J("ngClass",n.decrementButtonIcon)}}function uX(i,e){1&i&&s._UZ(0,"AngleDownIcon")}function dX(i,e){}function hX(i,e){1&i&&s.YNc(0,dX,0,0,"ng-template")}function pX(i,e){if(1&i&&(s.ynx(0),s.YNc(1,uX,1,0,"AngleDownIcon",3),s.YNc(2,hX,1,0,null,10),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!n.decrementButtonIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.decrementButtonIconTemplate)}}function fX(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",12),s.NdJ("mousedown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onDownButtonMouseDown(r))})("mouseup",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onDownButtonMouseLeave())})("keydown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onDownButtonKeyDown(r))})("keyup",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onDownButtonKeyUp())}),s.YNc(1,cX,1,1,"span",13),s.YNc(2,pX,3,2,"ng-container",3),s.qZA()}if(2&i){const n=s.oxw();s.Tol(n.decrementButtonClass),s.Q6J("ngClass",s.DdM(6,L9))("disabled",n.disabled),s.xp6(1),s.Q6J("ngIf",n.decrementButtonIcon),s.xp6(1),s.Q6J("ngIf",!n.decrementButtonIcon)}}const mX=function(i,e,n){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":i,"p-inputnumber-buttons-horizontal":e,"p-inputnumber-buttons-vertical":n}},gX={provide:Ui,useExisting:(0,s.Gpc)(()=>ZR),multi:!0};let ZR=(()=>{var i;class e{get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1),this._disabled=t,this.timer&&this.clearTimer()}constructor(t,r,o,c){m(this,"document",void 0),m(this,"el",void 0),m(this,"cd",void 0),m(this,"injector",void 0),m(this,"showButtons",!1),m(this,"format",!0),m(this,"buttonLayout","stacked"),m(this,"inputId",void 0),m(this,"styleClass",void 0),m(this,"style",void 0),m(this,"placeholder",void 0),m(this,"size",void 0),m(this,"maxlength",void 0),m(this,"tabindex",void 0),m(this,"title",void 0),m(this,"ariaLabel",void 0),m(this,"ariaRequired",void 0),m(this,"name",void 0),m(this,"required",void 0),m(this,"autocomplete",void 0),m(this,"min",void 0),m(this,"max",void 0),m(this,"incrementButtonClass",void 0),m(this,"decrementButtonClass",void 0),m(this,"incrementButtonIcon",void 0),m(this,"decrementButtonIcon",void 0),m(this,"readonly",!1),m(this,"step",1),m(this,"allowEmpty",!0),m(this,"locale",void 0),m(this,"localeMatcher",void 0),m(this,"mode","decimal"),m(this,"currency",void 0),m(this,"currencyDisplay",void 0),m(this,"useGrouping",!0),m(this,"minFractionDigits",void 0),m(this,"maxFractionDigits",void 0),m(this,"prefix",void 0),m(this,"suffix",void 0),m(this,"inputStyle",void 0),m(this,"inputStyleClass",void 0),m(this,"showClear",!1),m(this,"onInput",new s.vpe),m(this,"onFocus",new s.vpe),m(this,"onBlur",new s.vpe),m(this,"onKeyDown",new s.vpe),m(this,"onClear",new s.vpe),m(this,"input",void 0),m(this,"templates",void 0),m(this,"clearIconTemplate",void 0),m(this,"incrementButtonIconTemplate",void 0),m(this,"decrementButtonIconTemplate",void 0),m(this,"value",void 0),m(this,"onModelChange",()=>{}),m(this,"onModelTouched",()=>{}),m(this,"focused",void 0),m(this,"initialized",void 0),m(this,"groupChar",""),m(this,"prefixChar",""),m(this,"suffixChar",""),m(this,"isSpecialChar",void 0),m(this,"timer",void 0),m(this,"lastValue",void 0),m(this,"_numeral",void 0),m(this,"numberFormat",void 0),m(this,"_decimal",void 0),m(this,"_group",void 0),m(this,"_minusSign",void 0),m(this,"_currency",void 0),m(this,"_prefix",void 0),m(this,"_suffix",void 0),m(this,"_index",void 0),m(this,"_disabled",void 0),m(this,"ngControl",null),this.document=t,this.el=r,this.cd=o,this.injector=c}ngOnChanges(t){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(o=>!!t[o])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"clearicon":this.clearIconTemplate=t.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=t.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=t.template}})}ngOnInit(){this.ngControl=this.injector.get($a,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(t.map((o,c)=>[o,c]));this._numeral=new RegExp(`[${t.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=o=>r.get(o)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const t=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${t.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${t.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=t.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(t){if(null!=t){if("-"===t)return t;if(this.format){let o=new Intl.NumberFormat(this.locale,this.getOptions()).format(t);return this.prefix&&(o=this.prefix+o),this.suffix&&(o+=this.suffix),o}return t.toString()}return""}parseValue(t){let r=t.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(r){if("-"===r)return r;let o=+r;return isNaN(o)?null:o}return null}repeat(t,r,o){if(this.readonly)return;let c=r||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(t,40,o)},c),this.spin(t,o)}spin(t,r){let o=this.step*r,c=this.parseValue(this.input?.nativeElement.value)||0,d=this.validateValue(c+o);this.maxlength&&this.maxlength<this.formatValue(d).length||(this.updateInput(d,null,"spin",null),this.updateModel(t,d),this.handleOnInput(t,c,d))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(t){2!==t.button?(this.input?.nativeElement.focus(),this.repeat(t,null,1),t.preventDefault()):this.clearTimer()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(t){(32===t.keyCode||13===t.keyCode)&&this.repeat(t,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(t){2!==t.button?(this.input?.nativeElement.focus(),this.repeat(t,null,-1),t.preventDefault()):this.clearTimer()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(t){(32===t.keyCode||13===t.keyCode)&&this.repeat(t,null,-1)}onUserInput(t){this.readonly||(this.isSpecialChar&&(t.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(t){if(this.readonly)return;if(this.lastValue=t.target.value,t.shiftKey||t.altKey)return void(this.isSpecialChar=!0);let r=t.target.selectionStart,o=t.target.selectionEnd,c=t.target.value,d=null;switch(t.altKey&&t.preventDefault(),t.which){case 38:this.spin(t,1),t.preventDefault();break;case 40:this.spin(t,-1),t.preventDefault();break;case 37:this.isNumeralChar(c.charAt(r-1))||t.preventDefault();break;case 39:this.isNumeralChar(c.charAt(r))||t.preventDefault();break;case 13:d=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(d),this.input.nativeElement.setAttribute("aria-valuenow",d),this.updateModel(t,d);break;case 8:if(t.preventDefault(),r===o){const f=c.charAt(r-1),{decimalCharIndex:_,decimalCharIndexWithoutPrefix:b}=this.getDecimalCharIndexes(c);if(this.isNumeralChar(f)){const T=this.getDecimalLength(c);if(this._group.test(f))this._group.lastIndex=0,d=c.slice(0,r-2)+c.slice(r-1);else if(this._decimal.test(f))this._decimal.lastIndex=0,T?this.input?.nativeElement.setSelectionRange(r-1,r-1):d=c.slice(0,r-1)+c.slice(r);else if(_>0&&r>_){const M=this.isDecimalMode()&&(this.minFractionDigits||0)<T?"":"0";d=c.slice(0,r-1)+M+c.slice(r)}else 1===b?(d=c.slice(0,r-1)+"0"+c.slice(r),d=this.parseValue(d)>0?d:""):d=c.slice(0,r-1)+c.slice(r)}this.updateValue(t,d,null,"delete-single")}else d=this.deleteRange(c,r,o),this.updateValue(t,d,null,"delete-range");break;case 46:if(t.preventDefault(),r===o){const f=c.charAt(r),{decimalCharIndex:_,decimalCharIndexWithoutPrefix:b}=this.getDecimalCharIndexes(c);if(this.isNumeralChar(f)){const T=this.getDecimalLength(c);if(this._group.test(f))this._group.lastIndex=0,d=c.slice(0,r)+c.slice(r+2);else if(this._decimal.test(f))this._decimal.lastIndex=0,T?this.input?.nativeElement.setSelectionRange(r+1,r+1):d=c.slice(0,r)+c.slice(r+1);else if(_>0&&r>_){const M=this.isDecimalMode()&&(this.minFractionDigits||0)<T?"":"0";d=c.slice(0,r)+M+c.slice(r+1)}else 1===b?(d=c.slice(0,r)+"0"+c.slice(r+1),d=this.parseValue(d)>0?d:""):d=c.slice(0,r)+c.slice(r+1)}this.updateValue(t,d,null,"delete-back-single")}else d=this.deleteRange(c,r,o),this.updateValue(t,d,null,"delete-range")}this.onKeyDown.emit(t)}onInputKeyPress(t){if(this.readonly)return;let r=t.which||t.keyCode,o=String.fromCharCode(r);const c=this.isDecimalSign(o),d=this.isMinusSign(o);13!=r&&t.preventDefault();const f=this.parseValue(this.input.nativeElement.value+o),_=null!=f?f.toString():"";this.maxlength&&_.length>this.maxlength||(48<=r&&r<=57||d||c)&&this.insert(t,o,{isDecimalSign:c,isMinusSign:d})}onPaste(t){if(!this.disabled&&!this.readonly){t.preventDefault();let r=(t.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(r){let o=this.parseValue(r);null!=o&&this.insert(t,o.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(t){return!(!this._minusSign.test(t)&&"-"!==t||(this._minusSign.lastIndex=0,0))}isDecimalSign(t){return!!this._decimal.test(t)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(t){let r=t.search(this._decimal);this._decimal.lastIndex=0;const c=t.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:r,decimalCharIndexWithoutPrefix:c}}getCharIndexes(t){const r=t.search(this._decimal);this._decimal.lastIndex=0;const o=t.search(this._minusSign);this._minusSign.lastIndex=0;const c=t.search(this._suffix);this._suffix.lastIndex=0;const d=t.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:r,minusCharIndex:o,suffixCharIndex:c,currencyCharIndex:d}}insert(t,r,o={isDecimalSign:!1,isMinusSign:!1}){const c=r.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==c)return;let d=this.input?.nativeElement.selectionStart,f=this.input?.nativeElement.selectionEnd,_=this.input?.nativeElement.value.trim();const{decimalCharIndex:b,minusCharIndex:T,suffixCharIndex:M,currencyCharIndex:R}=this.getCharIndexes(_);let B;if(o.isMinusSign)0===d&&(B=_,(-1===T||0!==f)&&(B=this.insertText(_,r,0,f)),this.updateValue(t,B,r,"insert"));else if(o.isDecimalSign)b>0&&d===b?this.updateValue(t,_,r,"insert"):(b>d&&b<f||-1===b&&this.maxFractionDigits)&&(B=this.insertText(_,r,d,f),this.updateValue(t,B,r,"insert"));else{const K=this.numberFormat.resolvedOptions().maximumFractionDigits,te=d!==f?"range-insert":"insert";if(b>0&&d>b){if(d+r.length-(b+1)<=K){const _e=R>=d?R-1:M>=d?M:_.length;B=_.slice(0,d)+r+_.slice(d+r.length,_e)+_.slice(_e),this.updateValue(t,B,r,te)}}else B=this.insertText(_,r,d,f),this.updateValue(t,B,r,te)}}insertText(t,r,o,c){if(2===("."===r?r:r.split(".")).length){const f=t.slice(o,c).search(this._decimal);return this._decimal.lastIndex=0,f>0?t.slice(0,o)+this.formatValue(r)+t.slice(c):t||this.formatValue(r)}return c-o===t.length?this.formatValue(r):0===o?r+t.slice(c):c===t.length?t.slice(0,o)+r:t.slice(0,o)+r+t.slice(c)}deleteRange(t,r,o){let c;return c=o-r===t.length?"":0===r?t.slice(o):o===t.length?t.slice(0,r):t.slice(0,r)+t.slice(o),c}initCursor(){let t=this.input?.nativeElement.selectionStart,r=this.input?.nativeElement.value,o=r.length,c=null,d=(this.prefixChar||"").length;r=r.replace(this._prefix,""),t-=d;let f=r.charAt(t);if(this.isNumeralChar(f))return t+d;let _=t-1;for(;_>=0;){if(f=r.charAt(_),this.isNumeralChar(f)){c=_+d;break}_--}if(null!==c)this.input?.nativeElement.setSelectionRange(c+1,c+1);else{for(_=t;_<o;){if(f=r.charAt(_),this.isNumeralChar(f)){c=_+d;break}_++}null!==c&&this.input?.nativeElement.setSelectionRange(c,c)}return c||0}onInputClick(){const t=this.input?.nativeElement.value;!this.readonly&&t!==ee.getSelection()&&this.initCursor()}isNumeralChar(t){return!(1!==t.length||!(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(t,r,o,c){let d=this.input?.nativeElement.value,f=null;null!=r&&(f=this.parseValue(r),f=f||this.allowEmpty?f:0,this.updateInput(f,o,c,r),this.handleOnInput(t,d,f))}handleOnInput(t,r,o){this.isValueChanged(r,o)&&(this.input.nativeElement.value=this.formatValue(o),this.input?.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(t,o),this.onInput.emit({originalEvent:t,value:o,formattedValue:r}))}isValueChanged(t,r){return null===r&&null!==t||null!=r&&r!==("string"==typeof t?this.parseValue(t):t)}validateValue(t){return"-"===t||null==t?null:null!=this.min&&t<this.min?this.min:null!=this.max&&t>this.max?this.max:t}updateInput(t,r,o,c){r=r||"";let d=this.input?.nativeElement.value,f=this.formatValue(t),_=d.length;if(f!==c&&(f=this.concatValues(f,c)),0===_){this.input.nativeElement.value=f,this.input.nativeElement.setSelectionRange(0,0);const T=this.initCursor()+r.length;this.input.nativeElement.setSelectionRange(T,T)}else{let b=this.input.nativeElement.selectionStart,T=this.input.nativeElement.selectionEnd;if(this.maxlength&&f.length>this.maxlength&&(f=f.slice(0,this.maxlength),b=Math.min(b,this.maxlength),T=Math.min(T,this.maxlength)),this.maxlength&&this.maxlength<f.length)return;this.input.nativeElement.value=f;let M=f.length;if("range-insert"===o){const R=this.parseValue((d||"").slice(0,b)),K=(null!==R?R.toString():"").split("").join(`(${this.groupChar})?`),te=new RegExp(K,"g");te.test(f);const _e=r.split("").join(`(${this.groupChar})?`),Ne=new RegExp(_e,"g");Ne.test(f.slice(te.lastIndex)),T=te.lastIndex+Ne.lastIndex,this.input.nativeElement.setSelectionRange(T,T)}else if(M===_)"insert"===o||"delete-back-single"===o?this.input.nativeElement.setSelectionRange(T+1,T+1):"delete-single"===o?this.input.nativeElement.setSelectionRange(T-1,T-1):("delete-range"===o||"spin"===o)&&this.input.nativeElement.setSelectionRange(T,T);else if("delete-back-single"===o){let R=d.charAt(T-1),B=d.charAt(T),K=_-M,te=this._group.test(B);te&&1===K?T+=1:!te&&this.isNumeralChar(R)&&(T+=-1*K+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(T,T)}else if("-"===d&&"insert"===o){this.input.nativeElement.setSelectionRange(0,0);const B=this.initCursor()+r.length+1;this.input.nativeElement.setSelectionRange(B,B)}else T+=M-_,this.input.nativeElement.setSelectionRange(T,T)}this.input.nativeElement.setAttribute("aria-valuenow",t)}concatValues(t,r){if(t&&r){let o=r.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?t.replace(this.suffixChar,"").split(this._decimal)[0]+r.replace(this.suffixChar,"").slice(o)+this.suffixChar:-1!==o?t.split(this._decimal)[0]+r.slice(o):t}return t}getDecimalLength(t){if(t){const r=t.split(this._decimal);if(2===r.length)return r[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1;let r=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(r),this.input.nativeElement.setAttribute("aria-valuenow",r),this.updateModel(t,r),this.onBlur.emit(t)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(t,r){const o="blur"===this.ngControl?.control?.updateOn;this.value!==r?(this.value=r,o&&this.focused||this.onModelChange(r)):o&&this.onModelChange(r),this.onModelTouched()}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(ye),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.zs3))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-inputNumber"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&s.Gf(UJ,5),2&t){let o;s.iGM(o=s.CRH())&&(r.input=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,r){2&t&&s.ekj("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused)("p-inputnumber-clearable",r.showClear&&"vertical"!=r.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([gX]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"ngClass","click"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"ngClass","disabled","mousedown","mouseup","mouseleave","keydown","keyup"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(t,r){1&t&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(c){return r.onUserInput(c)})("keydown",function(c){return r.onInputKeyDown(c)})("keypress",function(c){return r.onInputKeyPress(c)})("paste",function(c){return r.onPaste(c)})("click",function(){return r.onInputClick()})("focus",function(c){return r.onInputFocus(c)})("blur",function(c){return r.onInputBlur(c)}),s.qZA(),s.YNc(3,GJ,3,2,"ng-container",3),s.YNc(4,nX,7,14,"span",4),s.YNc(5,lX,3,7,"button",5),s.YNc(6,fX,3,7,"button",5),s.qZA()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass",s.kEZ(28,mX,r.showButtons&&"stacked"===r.buttonLayout,r.showButtons&&"horizontal"===r.buttonLayout,r.showButtons&&"vertical"===r.buttonLayout))("ngStyle",r.style),s.xp6(1),s.Tol(r.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",r.inputStyle)("value",r.formattedValue())("disabled",r.disabled)("readonly",r.readonly),s.uIk("placeholder",r.placeholder)("title",r.title)("id",r.inputId)("size",r.size)("name",r.name)("autocomplete",r.autocomplete)("maxlength",r.maxlength)("tabindex",r.tabindex)("aria-label",r.ariaLabel)("aria-required",r.ariaRequired)("required",r.required)("min",r.min)("max",r.max),s.xp6(2),s.Q6J("ngIf","vertical"!=r.buttonLayout&&r.showClear&&r.value),s.xp6(1),s.Q6J("ngIf",r.showButtons&&"stacked"===r.buttonLayout),s.xp6(1),s.Q6J("ngIf",r.showButtons&&"stacked"!==r.buttonLayout),s.xp6(1),s.Q6J("ngIf",r.showButtons&&"stacked"!==r.buttonLayout))},dependencies:function(){return[Pn,An,Zn,Gn,HR,C0,zs,O9,iD]},styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0})),e})(),cD=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,zR,e_,zs,O9,iD,Kn]})),e})(),F9=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),V9=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),B9=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["AngleLeftIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})();function _X(i,e){1&i&&s.GkF(0)}const $R=function(i){return{$implicit:i}};function yX(i,e){if(1&i&&(s.TgZ(0,"div",15),s.YNc(1,_X,1,0,"ng-container",16),s.qZA()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",n.templateLeft)("ngTemplateOutletContext",s.VKq(2,$R,n.paginatorState))}}function vX(i,e){if(1&i&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&i){const n=s.oxw(2);s.xp6(1),s.Oqu(n.currentPageReport)}}function wX(i,e){1&i&&s._UZ(0,"AngleDoubleLeftIcon",19),2&i&&s.Q6J("styleClass","p-paginator-icon")}function bX(i,e){}function CX(i,e){1&i&&s.YNc(0,bX,0,0,"ng-template")}function IX(i,e){if(1&i&&(s.TgZ(0,"span",20),s.YNc(1,CX,1,0,null,21),s.qZA()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",n.firstPageLinkIconTemplate)}}const uD=function(i){return{"p-disabled":i}};function TX(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.changePageToFirst(r))}),s.YNc(1,wX,1,1,"AngleDoubleLeftIcon",6),s.YNc(2,IX,2,1,"span",7),s.qZA()}if(2&i){const n=s.oxw(2);s.Q6J("disabled",n.isFirstPage()||n.empty())("ngClass",s.VKq(4,uD,n.isFirstPage()||n.empty())),s.xp6(1),s.Q6J("ngIf",!n.firstPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.firstPageLinkIconTemplate)}}function EX(i,e){1&i&&s._UZ(0,"AngleLeftIcon",19),2&i&&s.Q6J("styleClass","p-paginator-icon")}function xX(i,e){}function SX(i,e){1&i&&s.YNc(0,xX,0,0,"ng-template")}function DX(i,e){if(1&i&&(s.TgZ(0,"span",20),s.YNc(1,SX,1,0,null,21),s.qZA()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",n.previousPageLinkIconTemplate)}}const AX=function(i){return{"p-highlight":i}};function MX(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",24),s.NdJ("click",function(r){const c=s.CHM(n).$implicit,d=s.oxw(3);return s.KtG(d.onPageLinkClick(r,c-1))}),s._uU(1),s.qZA()}if(2&i){const n=e.$implicit,t=s.oxw(3);s.Q6J("ngClass",s.VKq(2,AX,n-1==t.getPage())),s.xp6(1),s.hij(" ",n," ")}}function kX(i,e){if(1&i&&(s.TgZ(0,"span",22),s.YNc(1,MX,2,4,"button",23),s.qZA()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",n.pageLinks)}}function PX(i,e){if(1&i&&s._uU(0),2&i){const n=s.oxw(3);s.Oqu(n.currentPageReport)}}function RX(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-dropdown",25),s.NdJ("onChange",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onPageDropdownChange(r))}),s.YNc(1,PX,1,1,"ng-template",26),s.qZA()}if(2&i){const n=s.oxw(2);s.Q6J("options",n.pageItems)("ngModel",n.getPage())("disabled",n.empty())("appendTo",n.dropdownAppendTo)("scrollHeight",n.dropdownScrollHeight)}}function OX(i,e){1&i&&s._UZ(0,"AngleRightIcon",19),2&i&&s.Q6J("styleClass","p-paginator-icon")}function NX(i,e){}function LX(i,e){1&i&&s.YNc(0,NX,0,0,"ng-template")}function FX(i,e){if(1&i&&(s.TgZ(0,"span",20),s.YNc(1,LX,1,0,null,21),s.qZA()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",n.nextPageLinkIconTemplate)}}function VX(i,e){1&i&&s._UZ(0,"AngleDoubleRightIcon",19),2&i&&s.Q6J("styleClass","p-paginator-icon")}function BX(i,e){}function UX(i,e){1&i&&s.YNc(0,BX,0,0,"ng-template")}function HX(i,e){if(1&i&&(s.TgZ(0,"span",20),s.YNc(1,UX,1,0,null,21),s.qZA()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",n.lastPageLinkIconTemplate)}}function zX(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.changePageToLast(r))}),s.YNc(1,VX,1,1,"AngleDoubleRightIcon",6),s.YNc(2,HX,2,1,"span",7),s.qZA()}if(2&i){const n=s.oxw(2);s.Q6J("disabled",n.isLastPage()||n.empty())("ngClass",s.VKq(4,uD,n.isLastPage()||n.empty())),s.xp6(1),s.Q6J("ngIf",!n.lastPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.lastPageLinkIconTemplate)}}function jX(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-inputNumber",28),s.NdJ("ngModelChange",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.changePage(r-1))}),s.qZA()}if(2&i){const n=s.oxw(2);s.Q6J("ngModel",n.currentPage())("disabled",n.empty())}}function qX(i,e){1&i&&s.GkF(0)}function GX(i,e){if(1&i&&s.YNc(0,qX,1,0,"ng-container",16),2&i){const n=e.$implicit,t=s.oxw(4);s.Q6J("ngTemplateOutlet",t.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,$R,n))}}function ZX(i,e){1&i&&(s.ynx(0),s.YNc(1,GX,1,4,"ng-template",31),s.BQk())}function $X(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-dropdown",29),s.NdJ("ngModelChange",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.rows=r)})("onChange",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onRppChange(r))}),s.YNc(1,ZX,2,0,"ng-container",30),s.qZA()}if(2&i){const n=s.oxw(2);s.Q6J("options",n.rowsPerPageItems)("ngModel",n.rows)("disabled",n.empty())("appendTo",n.dropdownAppendTo)("scrollHeight",n.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",n.dropdownItemTemplate)}}function WX(i,e){1&i&&s.GkF(0)}function YX(i,e){if(1&i&&(s.TgZ(0,"div",32),s.YNc(1,WX,1,0,"ng-container",16),s.qZA()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",n.templateRight)("ngTemplateOutletContext",s.VKq(2,$R,n.paginatorState))}}function KX(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",1),s.YNc(1,yX,2,4,"div",2),s.YNc(2,vX,2,1,"span",3),s.YNc(3,TX,3,6,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.changePageToPrev(r))}),s.YNc(5,EX,1,1,"AngleLeftIcon",6),s.YNc(6,DX,2,1,"span",7),s.qZA(),s.YNc(7,kX,2,1,"span",8),s.YNc(8,RX,2,5,"p-dropdown",9),s.TgZ(9,"button",10),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.changePageToNext(r))}),s.YNc(10,OX,1,1,"AngleRightIcon",6),s.YNc(11,FX,2,1,"span",7),s.qZA(),s.YNc(12,zX,3,6,"button",11),s.YNc(13,jX,1,2,"p-inputNumber",12),s.YNc(14,$X,2,6,"p-dropdown",13),s.YNc(15,YX,2,4,"div",14),s.qZA()}if(2&i){const n=s.oxw();s.Tol(n.styleClass),s.Q6J("ngStyle",n.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",n.templateLeft),s.xp6(1),s.Q6J("ngIf",n.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",n.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",n.isFirstPage()||n.empty())("ngClass",s.VKq(21,uD,n.isFirstPage()||n.empty())),s.xp6(1),s.Q6J("ngIf",!n.previousPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.previousPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.showPageLinks),s.xp6(1),s.Q6J("ngIf",n.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",n.isLastPage()||n.empty())("ngClass",s.VKq(23,uD,n.isLastPage()||n.empty())),s.xp6(1),s.Q6J("ngIf",!n.nextPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.nextPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",n.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",n.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",n.templateRight)}}let U9=(()=>{var i;class e{get first(){return this._first}set first(t){this._first=t}constructor(t){m(this,"cd",void 0),m(this,"pageLinkSize",5),m(this,"style",void 0),m(this,"styleClass",void 0),m(this,"alwaysShow",!0),m(this,"dropdownAppendTo",void 0),m(this,"templateLeft",void 0),m(this,"templateRight",void 0),m(this,"appendTo",void 0),m(this,"dropdownScrollHeight","200px"),m(this,"currentPageReportTemplate","{currentPage} of {totalPages}"),m(this,"showCurrentPageReport",void 0),m(this,"showFirstLastIcon",!0),m(this,"totalRecords",0),m(this,"rows",0),m(this,"rowsPerPageOptions",void 0),m(this,"showJumpToPageDropdown",void 0),m(this,"showJumpToPageInput",void 0),m(this,"showPageLinks",!0),m(this,"dropdownItemTemplate",void 0),m(this,"onPageChange",new s.vpe),m(this,"templates",void 0),m(this,"firstPageLinkIconTemplate",void 0),m(this,"previousPageLinkIconTemplate",void 0),m(this,"lastPageLinkIconTemplate",void 0),m(this,"nextPageLinkIconTemplate",void 0),m(this,"pageLinks",void 0),m(this,"pageItems",void 0),m(this,"rowsPerPageItems",void 0),m(this,"paginatorState",void 0),m(this,"_first",0),m(this,"_page",0),this.cd=t}ngOnInit(){this.updatePaginatorState()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"firstpagelinkicon":this.firstPageLinkIconTemplate=t.template;break;case"previouspagelinkicon":this.previousPageLinkIconTemplate=t.template;break;case"lastpagelinkicon":this.lastPageLinkIconTemplate=t.template;break;case"nextpagelinkicon":this.nextPageLinkIconTemplate=t.template}})}ngOnChanges(t){t.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),t.first&&(this._first=t.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),t.rows&&(this.updatePageLinks(),this.updatePaginatorState()),t.rowsPerPageOptions&&this.updateRowsPerPageOptions()}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let t of this.rowsPerPageOptions)"object"==typeof t&&t.showAll?this.rowsPerPageItems.unshift({label:t.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(t),value:t})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let t=this.getPageCount(),r=Math.min(this.pageLinkSize,t),o=Math.max(0,Math.ceil(this.getPage()-r/2)),c=Math.min(t-1,o+r-1);return o=Math.max(0,o-(this.pageLinkSize-(c-o+1))),[o,c]}updatePageLinks(){this.pageLinks=[];let t=this.calculatePageLinkBoundaries(),o=t[1];for(let c=t[0];c<=o;c++)this.pageLinks.push(c+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let c=0;c<this.getPageCount();c++)this.pageItems.push({label:String(c+1),value:c})}}changePage(t){var r=this.getPageCount();if(t>=0&&t<r){this._first=this.rows*t;var o={page:t,first:this.first,rows:this.rows,pageCount:r};this.updatePageLinks(),this.onPageChange.emit(o),this.updatePaginatorState()}}updateFirst(){const t=this.getPage();t>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(t-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(t){this.isFirstPage()||this.changePage(0),t.preventDefault()}changePageToPrev(t){this.changePage(this.getPage()-1),t.preventDefault()}changePageToNext(t){this.changePage(this.getPage()+1),t.preventDefault()}changePageToLast(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()}onPageLinkClick(t,r){this.changePage(r),t.preventDefault()}onRppChange(t){this.changePage(this.getPage())}onPageDropdownChange(t){this.changePage(t.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.sBO))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-paginator"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",dropdownAppendTo:"dropdownAppendTo",templateLeft:"templateLeft",templateRight:"templateRight",appendTo:"appendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[3,"styleClass",4,"ngIf"],["class","p-paginator-icon",4,"ngIf"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[3,"styleClass"],[1,"p-paginator-icon"],[4,"ngTemplateOutlet"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(t,r){1&t&&s.YNc(0,KX,16,25,"div",0),2&t&&s.Q6J("ngIf",!!r.alwaysShow||r.pageLinks&&r.pageLinks.length>1)},dependencies:function(){return[Pn,ns,An,Zn,Gn,GR,ir,ZR,u1,im,Zd,F9,V9,B9,rD]},styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0})),e})(),H9=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,lD,cD,cm,Kn,hu,F9,V9,B9,rD,lD,cD,cm,Kn]})),e})(),z9=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["ThLargeIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.90909 6.36364H4.45455C4.96087 6.36364 5.44645 6.1625 5.80448 5.80448C6.1625 5.44645 6.36364 4.96087 6.36364 4.45455V1.90909C6.36364 1.40277 6.1625 0.917184 5.80448 0.55916C5.44645 0.201136 4.96087 0 4.45455 0H1.90909C1.40277 0 0.917184 0.201136 0.55916 0.55916C0.201136 0.917184 0 1.40277 0 1.90909V4.45455C0 4.96087 0.201136 5.44645 0.55916 5.80448C0.917184 6.1625 1.40277 6.36364 1.90909 6.36364ZM1.46154 1.46154C1.58041 1.34268 1.741 1.27492 1.90909 1.27273H4.45455C4.62264 1.27492 4.78322 1.34268 4.90209 1.46154C5.02096 1.58041 5.08871 1.741 5.09091 1.90909V4.45455C5.08871 4.62264 5.02096 4.78322 4.90209 4.90209C4.78322 5.02096 4.62264 5.08871 4.45455 5.09091H1.90909C1.741 5.08871 1.58041 5.02096 1.46154 4.90209C1.34268 4.78322 1.27492 4.62264 1.27273 4.45455V1.90909C1.27492 1.741 1.34268 1.58041 1.46154 1.46154ZM1.90909 14H4.45455C4.96087 14 5.44645 13.7989 5.80448 13.4408C6.1625 13.0828 6.36364 12.5972 6.36364 12.0909V9.54544C6.36364 9.03912 6.1625 8.55354 5.80448 8.19551C5.44645 7.83749 4.96087 7.63635 4.45455 7.63635H1.90909C1.40277 7.63635 0.917184 7.83749 0.55916 8.19551C0.201136 8.55354 0 9.03912 0 9.54544V12.0909C0 12.5972 0.201136 13.0828 0.55916 13.4408C0.917184 13.7989 1.40277 14 1.90909 14ZM1.46154 9.0979C1.58041 8.97903 1.741 8.91128 1.90909 8.90908H4.45455C4.62264 8.91128 4.78322 8.97903 4.90209 9.0979C5.02096 9.21677 5.08871 9.37735 5.09091 9.54544V12.0909C5.08871 12.259 5.02096 12.4196 4.90209 12.5384C4.78322 12.6573 4.62264 12.7251 4.45455 12.7273H1.90909C1.741 12.7251 1.58041 12.6573 1.46154 12.5384C1.34268 12.4196 1.27492 12.259 1.27273 12.0909V9.54544C1.27492 9.37735 1.34268 9.21677 1.46154 9.0979ZM12.0909 6.36364H9.54544C9.03912 6.36364 8.55354 6.1625 8.19551 5.80448C7.83749 5.44645 7.63635 4.96087 7.63635 4.45455V1.90909C7.63635 1.40277 7.83749 0.917184 8.19551 0.55916C8.55354 0.201136 9.03912 0 9.54544 0H12.0909C12.5972 0 13.0828 0.201136 13.4408 0.55916C13.7989 0.917184 14 1.40277 14 1.90909V4.45455C14 4.96087 13.7989 5.44645 13.4408 5.80448C13.0828 6.1625 12.5972 6.36364 12.0909 6.36364ZM9.54544 1.27273C9.37735 1.27492 9.21677 1.34268 9.0979 1.46154C8.97903 1.58041 8.91128 1.741 8.90908 1.90909V4.45455C8.91128 4.62264 8.97903 4.78322 9.0979 4.90209C9.21677 5.02096 9.37735 5.08871 9.54544 5.09091H12.0909C12.259 5.08871 12.4196 5.02096 12.5384 4.90209C12.6573 4.78322 12.7251 4.62264 12.7273 4.45455V1.90909C12.7251 1.741 12.6573 1.58041 12.5384 1.46154C12.4196 1.34268 12.259 1.27492 12.0909 1.27273H9.54544ZM9.54544 14H12.0909C12.5972 14 13.0828 13.7989 13.4408 13.4408C13.7989 13.0828 14 12.5972 14 12.0909V9.54544C14 9.03912 13.7989 8.55354 13.4408 8.19551C13.0828 7.83749 12.5972 7.63635 12.0909 7.63635H9.54544C9.03912 7.63635 8.55354 7.83749 8.19551 8.19551C7.83749 8.55354 7.63635 9.03912 7.63635 9.54544V12.0909C7.63635 12.5972 7.83749 13.0828 8.19551 13.4408C8.55354 13.7989 9.03912 14 9.54544 14ZM9.0979 9.0979C9.21677 8.97903 9.37735 8.91128 9.54544 8.90908H12.0909C12.259 8.91128 12.4196 8.97903 12.5384 9.0979C12.6573 9.21677 12.7251 9.37735 12.7273 9.54544V12.0909C12.7251 12.259 12.6573 12.4196 12.5384 12.5384C12.4196 12.6573 12.259 12.7251 12.0909 12.7273H9.54544C9.37735 12.7251 9.21677 12.6573 9.0979 12.5384C8.97903 12.4196 8.91128 12.259 8.90908 12.0909V9.54544C8.91128 9.37735 8.97903 9.21677 9.0979 9.0979Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})();function QX(i,e){if(1&i&&s._UZ(0,"i"),2&i){const n=s.oxw(2);s.Tol("p-dataview-loading-icon pi-spin "+n.loadingIcon)}}function JX(i,e){1&i&&s._UZ(0,"SpinnerIcon",16),2&i&&s.Q6J("spin",!0)("styleClass","p-dataview-loading-icon")}function XX(i,e){}function eee(i,e){1&i&&s.YNc(0,XX,0,0,"ng-template")}function tee(i,e){if(1&i&&(s.ynx(0),s.YNc(1,JX,1,2,"SpinnerIcon",14),s.YNc(2,eee,1,0,null,15),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!n.loadingIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.loadingIconTemplate)}}function nee(i,e){if(1&i&&(s.TgZ(0,"div",10)(1,"div",11),s.YNc(2,QX,1,2,"i",12),s.YNc(3,tee,3,2,"ng-container",13),s.qZA()()),2&i){const n=s.oxw();s.xp6(2),s.Q6J("ngIf",n.loadingIcon),s.xp6(1),s.Q6J("ngIf",!n.loadingIcon)}}function iee(i,e){1&i&&s.GkF(0)}function ree(i,e){if(1&i&&(s.TgZ(0,"div",17),s.Hsn(1),s.YNc(2,iee,1,0,"ng-container",15),s.qZA()),2&i){const n=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",n.headerTemplate)}}function see(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-paginator",18),s.NdJ("onPageChange",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.paginate(r))}),s.qZA()}if(2&i){const n=s.oxw();s.Q6J("rows",n.rows)("first",n.first)("totalRecords",n.totalRecords)("pageLinkSize",n.pageLinks)("alwaysShow",n.alwaysShowPaginator)("rowsPerPageOptions",n.rowsPerPageOptions)("dropdownAppendTo",n.paginatorDropdownAppendTo)("dropdownScrollHeight",n.paginatorDropdownScrollHeight)("templateLeft",n.paginatorLeftTemplate)("templateRight",n.paginatorRightTemplate)("currentPageReportTemplate",n.currentPageReportTemplate)("showFirstLastIcon",n.showFirstLastIcon)("dropdownItemTemplate",n.paginatorDropdownItemTemplate)("showCurrentPageReport",n.showCurrentPageReport)("showJumpToPageDropdown",n.showJumpToPageDropdown)("showPageLinks",n.showPageLinks)}}function oee(i,e){1&i&&s.GkF(0)}const aee=function(i,e){return{$implicit:i,rowIndex:e}};function lee(i,e){if(1&i&&s.YNc(0,oee,1,0,"ng-container",19),2&i){const n=e.$implicit,t=e.index,r=s.oxw();s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(2,aee,n,t))}}function cee(i,e){if(1&i&&(s.ynx(0),s._uU(1),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.hij(" ",n.emptyMessageLabel," ")}}function uee(i,e){1&i&&s.GkF(0,null,23)}function dee(i,e){if(1&i&&(s.TgZ(0,"div",20)(1,"div",21),s.YNc(2,cee,2,1,"ng-container",22),s.YNc(3,uee,2,0,"ng-container",15),s.qZA()()),2&i){const n=s.oxw();s.xp6(2),s.Q6J("ngIf",!n.emptyMessageTemplate)("ngIfElse",n.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",n.emptyMessageTemplate)}}function hee(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-paginator",24),s.NdJ("onPageChange",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.paginate(r))}),s.qZA()}if(2&i){const n=s.oxw();s.Q6J("rows",n.rows)("first",n.first)("totalRecords",n.totalRecords)("pageLinkSize",n.pageLinks)("alwaysShow",n.alwaysShowPaginator)("rowsPerPageOptions",n.rowsPerPageOptions)("dropdownAppendTo",n.paginatorDropdownAppendTo)("dropdownScrollHeight",n.paginatorDropdownScrollHeight)("templateLeft",n.paginatorLeftTemplate)("templateRight",n.paginatorRightTemplate)("currentPageReportTemplate",n.currentPageReportTemplate)("showFirstLastIcon",n.showFirstLastIcon)("dropdownItemTemplate",n.paginatorDropdownItemTemplate)("showCurrentPageReport",n.showCurrentPageReport)("showJumpToPageDropdown",n.showJumpToPageDropdown)("showPageLinks",n.showPageLinks)}}function pee(i,e){1&i&&s.GkF(0)}function fee(i,e){if(1&i&&(s.TgZ(0,"div",25),s.Hsn(1,1),s.YNc(2,pee,1,0,"ng-container",15),s.qZA()),2&i){const n=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",n.footerTemplate)}}const mee=[[["p-header"]],[["p-footer"]]],gee=function(i,e){return{"p-dataview p-component":!0,"p-dataview-list":i,"p-dataview-grid":e}},_ee=["p-header","p-footer"];function yee(i,e){1&i&&s._UZ(0,"BarsIcon")}function vee(i,e){}function wee(i,e){1&i&&s.YNc(0,vee,0,0,"ng-template")}function bee(i,e){1&i&&s._UZ(0,"ThLargeIcon")}function Cee(i,e){}function Iee(i,e){1&i&&s.YNc(0,Cee,0,0,"ng-template")}const j9=function(i){return{"p-highlight":i}};let q9=(()=>{var i;class e{get layout(){return this._layout}set layout(t){this._layout=t,this.initialized&&this.changeLayout(t)}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(So.EMPTY_MESSAGE)}constructor(t,r,o,c){m(this,"el",void 0),m(this,"cd",void 0),m(this,"filterService",void 0),m(this,"config",void 0),m(this,"paginator",void 0),m(this,"rows",void 0),m(this,"totalRecords",void 0),m(this,"pageLinks",5),m(this,"rowsPerPageOptions",void 0),m(this,"paginatorPosition","bottom"),m(this,"alwaysShowPaginator",!0),m(this,"paginatorDropdownAppendTo",void 0),m(this,"paginatorDropdownScrollHeight","200px"),m(this,"currentPageReportTemplate","{currentPage} of {totalPages}"),m(this,"showCurrentPageReport",void 0),m(this,"showJumpToPageDropdown",void 0),m(this,"showFirstLastIcon",!0),m(this,"showPageLinks",!0),m(this,"lazy",void 0),m(this,"emptyMessage",""),m(this,"style",void 0),m(this,"styleClass",void 0),m(this,"gridStyleClass",""),m(this,"trackBy",(d,f)=>f),m(this,"filterBy",void 0),m(this,"filterLocale",void 0),m(this,"loading",void 0),m(this,"loadingIcon",void 0),m(this,"first",0),m(this,"sortField",void 0),m(this,"sortOrder",void 0),m(this,"value",void 0),m(this,"onLazyLoad",new s.vpe),m(this,"onPage",new s.vpe),m(this,"onSort",new s.vpe),m(this,"onChangeLayout",new s.vpe),m(this,"header",void 0),m(this,"footer",void 0),m(this,"templates",void 0),m(this,"_value",void 0),m(this,"listItemTemplate",void 0),m(this,"gridItemTemplate",void 0),m(this,"itemTemplate",void 0),m(this,"headerTemplate",void 0),m(this,"emptyMessageTemplate",void 0),m(this,"footerTemplate",void 0),m(this,"paginatorLeftTemplate",void 0),m(this,"paginatorRightTemplate",void 0),m(this,"paginatorDropdownItemTemplate",void 0),m(this,"loadingIconTemplate",void 0),m(this,"listIconTemplate",void 0),m(this,"gridIconTemplate",void 0),m(this,"filteredValue",void 0),m(this,"filterValue",void 0),m(this,"initialized",void 0),m(this,"_layout","list"),m(this,"translationSubscription",void 0),this.el=t,this.cd=r,this.filterService=o,this.config=c}ngOnInit(){this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.initialized=!0}ngOnChanges(t){t.value&&(this._value=t.value.currentValue,this.updateTotalRecords(),!this.lazy&&this.hasFilter()&&this.filter(this.filterValue)),(t.sortField||t.sortOrder)&&(!this.lazy||this.initialized)&&this.sort()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"listItem":this.listItemTemplate=t.template;break;case"gridItem":this.gridItemTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"listicon":this.listIconTemplate=t.template;break;case"gridicon":this.gridIconTemplate=t.template}}),this.updateItemTemplate()}updateItemTemplate(){switch(this.layout){case"list":this.itemTemplate=this.listItemTemplate;break;case"grid":this.itemTemplate=this.gridItemTemplate}}changeLayout(t){this._layout=t,this.onChangeLayout.emit({layout:this.layout}),this.updateItemTemplate(),this.cd.markForCheck()}updateTotalRecords(){this.totalRecords=this.lazy?this.totalRecords:this._value?this._value.length:0}paginate(t){this.first=t.first,this.rows=t.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows})}sort(){this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.value.sort((t,r)=>{let o=et.resolveFieldData(t,this.sortField),c=et.resolveFieldData(r,this.sortField),d=null;return d=null==o&&null!=c?-1:null!=o&&null==c?1:null==o&&null==c?0:"string"==typeof o&&"string"==typeof c?o.localeCompare(c):o<c?-1:o>c?1:0,this.sortOrder*d}),this.hasFilter()&&this.filter(this.filterValue)),this.onSort.emit({sortField:this.sortField,sortOrder:this.sortOrder})}isEmpty(){let t=this.filteredValue||this.value;return null==t||0==t.length}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder}}getBlockableElement(){return this.el.nativeElement.children[0]}filter(t,r="contains"){if(this.filterValue=t,this.value&&this.value.length){let o=this.filterBy.split(",");this.filteredValue=this.filterService.filter(this.value,o,t,r,this.filterLocale),this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.first=0,this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0),this.cd.markForCheck()}}hasFilter(){return this.filterValue&&this.filterValue.trim().length>0}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(OR),s.Y36(dl))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-dataView"]],contentQueries:function(t,r,o){if(1&t&&(s.Suo(o,p9,5),s.Suo(o,FR,5),s.Suo(o,ir,4)),2&t){let c;s.iGM(c=s.CRH())&&(r.header=c.first),s.iGM(c=s.CRH())&&(r.footer=c.first),s.iGM(c=s.CRH())&&(r.templates=c)}},hostAttrs:[1,"p-element"],inputs:{paginator:"paginator",rows:"rows",totalRecords:"totalRecords",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",paginatorPosition:"paginatorPosition",alwaysShowPaginator:"alwaysShowPaginator",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",lazy:"lazy",emptyMessage:"emptyMessage",style:"style",styleClass:"styleClass",gridStyleClass:"gridStyleClass",trackBy:"trackBy",filterBy:"filterBy",filterLocale:"filterLocale",loading:"loading",loadingIcon:"loadingIcon",first:"first",sortField:"sortField",sortOrder:"sortOrder",value:"value",layout:"layout"},outputs:{onLazyLoad:"onLazyLoad",onPage:"onPage",onSort:"onSort",onChangeLayout:"onChangeLayout"},features:[s.TTD],ngContentSelectors:_ee,decls:11,vars:20,consts:[[3,"ngClass","ngStyle"],["class","p-dataview-loading",4,"ngIf"],["class","p-dataview-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],[1,"p-dataview-content"],[1,"p-grid","p-nogutter","grid","grid-nogutter",3,"ngClass"],["ngFor","",3,"ngForOf","ngForTrackBy"],["class","p-col col",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-dataview-footer",4,"ngIf"],[1,"p-dataview-loading"],[1,"p-dataview-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"spin","styleClass"],[1,"p-dataview-header"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-col","col"],[1,"p-dataview-emptymessage"],[4,"ngIf","ngIfElse"],["emptyFilter",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-dataview-footer"]],template:function(t,r){1&t&&(s.F$t(mee),s.TgZ(0,"div",0),s.YNc(1,nee,4,2,"div",1),s.YNc(2,ree,3,1,"div",2),s.YNc(3,see,1,16,"p-paginator",3),s.TgZ(4,"div",4)(5,"div",5),s.YNc(6,lee,1,5,"ng-template",6),s.ALo(7,"slice"),s.YNc(8,dee,4,3,"div",7),s.qZA()(),s.YNc(9,hee,1,16,"p-paginator",8),s.YNc(10,fee,3,1,"div",9),s.qZA()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass",s.WLB(17,gee,"list"===r.layout,"grid"===r.layout))("ngStyle",r.style),s.xp6(1),s.Q6J("ngIf",r.loading),s.xp6(1),s.Q6J("ngIf",r.header||r.headerTemplate),s.xp6(1),s.Q6J("ngIf",r.paginator&&("top"===r.paginatorPosition||"both"==r.paginatorPosition)),s.xp6(2),s.Q6J("ngClass",r.gridStyleClass),s.xp6(1),s.Q6J("ngForOf",r.paginator?s.Dn7(7,13,r.filteredValue||r.value,r.lazy?0:r.first,(r.lazy?0:r.first)+r.rows):r.filteredValue||r.value)("ngForTrackBy",r.trackBy),s.xp6(2),s.Q6J("ngIf",r.isEmpty()&&!r.loading),s.xp6(1),s.Q6J("ngIf",r.paginator&&("bottom"===r.paginatorPosition||"both"==r.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",r.footer||r.footerTemplate))},dependencies:function(){return[Pn,ns,An,Zn,Gn,U9,Jp,Wi]},styles:[".p-dataview{position:relative}.p-dataview .p-dataview-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}\n"],encapsulation:2,changeDetection:0})),e})(),Tee=(()=>{var i;class e{constructor(t){m(this,"dv",void 0),m(this,"style",void 0),m(this,"styleClass",void 0),this.dv=t}changeLayout(t,r){this.dv.changeLayout(r),t.preventDefault()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(q9))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-dataViewLayoutOptions"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass"},decls:7,vars:14,consts:[[3,"ngClass","ngStyle"],["type","button",1,"p-button","p-button-icon-only",3,"ngClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(c){return r.changeLayout(c,"list")})("keydown.enter",function(c){return r.changeLayout(c,"list")}),s.YNc(2,yee,1,0,"BarsIcon",2),s.YNc(3,wee,1,0,null,3),s.qZA(),s.TgZ(4,"button",1),s.NdJ("click",function(c){return r.changeLayout(c,"grid")})("keydown.enter",function(c){return r.changeLayout(c,"grid")}),s.YNc(5,bee,1,0,"ThLargeIcon",2),s.YNc(6,Iee,1,0,null,3),s.qZA()()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass","p-dataview-layout-options p-selectbutton p-buttonset")("ngStyle",r.style),s.xp6(1),s.Q6J("ngClass",s.VKq(10,j9,"list"===r.dv.layout)),s.xp6(1),s.Q6J("ngIf",!r.dv.listIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.dv.listIconTemplate),s.xp6(1),s.Q6J("ngClass",s.VKq(12,j9,"grid"===r.dv.layout)),s.xp6(1),s.Q6J("ngIf",!r.dv.gridIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.dv.gridIconTemplate))},dependencies:function(){return[Pn,An,Zn,Gn,sD,z9]},encapsulation:2})),e})(),Eee=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,Kn,H9,Jp,sD,z9,Kn]})),e})(),G9=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["StarFillIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),Z9=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["StarIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),$9=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["BanIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7 0C5.61553 0 4.26215 0.410543 3.11101 1.17971C1.95987 1.94888 1.06266 3.04213 0.532846 4.32122C0.00303296 5.6003 -0.13559 7.00776 0.134506 8.36563C0.404603 9.7235 1.07129 10.9708 2.05026 11.9497C3.02922 12.9287 4.2765 13.5954 5.63437 13.8655C6.99224 14.1356 8.3997 13.997 9.67879 13.4672C10.9579 12.9373 12.0511 12.0401 12.8203 10.889C13.5895 9.73785 14 8.38447 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0ZM1.16667 7C1.16549 5.65478 1.63303 4.35118 2.48889 3.31333L10.6867 11.5111C9.83309 12.2112 8.79816 12.6544 7.70243 12.789C6.60669 12.9236 5.49527 12.744 4.49764 12.2713C3.50001 11.7986 2.65724 11.0521 2.06751 10.1188C1.47778 9.18558 1.16537 8.10397 1.16667 7ZM11.5111 10.6867L3.31334 2.48889C4.43144 1.57388 5.84966 1.10701 7.29265 1.1789C8.73565 1.2508 10.1004 1.85633 11.1221 2.87795C12.1437 3.89956 12.7492 5.26435 12.8211 6.70735C12.893 8.15034 12.4261 9.56856 11.5111 10.6867Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})();function xee(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",7),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.clear(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.clear(r))}),s.qZA()}if(2&i){const n=s.oxw(3);s.Q6J("ngClass",n.iconCancelClass)("ngStyle",n.iconCancelStyle),s.uIk("tabindex",n.disabled||n.readonly?null:"0")}}function See(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"BanIcon",8),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.clear(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.clear(r))}),s.qZA()}if(2&i){const n=s.oxw(3);s.Q6J("styleClass","p-rating-icon p-rating-cancel")("ngStyle",n.iconCancelStyle),s.uIk("tabindex",n.disabled||n.readonly?null:"0")}}function Dee(i,e){if(1&i&&(s.ynx(0),s.YNc(1,xee,1,3,"span",5),s.YNc(2,See,1,3,"BanIcon",6),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",n.iconCancelClass),s.xp6(1),s.Q6J("ngIf",!n.iconCancelClass)}}function Aee(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",11),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(2).index,c=s.oxw(2);return s.KtG(c.rate(r,o))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(2).index,c=s.oxw(2);return s.KtG(c.rate(r,o))}),s.qZA()}if(2&i){const n=s.oxw(4);s.Q6J("ngStyle",n.iconOffStyle)("ngClass",n.iconOffClass)}}function Mee(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"StarIcon",12),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(2).index,c=s.oxw(2);return s.KtG(c.rate(r,o))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(2).index,c=s.oxw(2);return s.KtG(c.rate(r,o))}),s.qZA()}if(2&i){const n=s.oxw(4);s.Q6J("ngStyle",n.iconOffStyle)("styleClass","p-rating-icon"),s.uIk("tabindex",n.disabled||n.readonly?null:"0")}}function kee(i,e){if(1&i&&(s.ynx(0),s.YNc(1,Aee,1,2,"span",9),s.YNc(2,Mee,1,3,"StarIcon",10),s.BQk()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngIf",n.iconOffClass),s.xp6(1),s.Q6J("ngIf",!n.iconOffClass)}}function Pee(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",14),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(2).index,c=s.oxw(2);return s.KtG(c.rate(r,o))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(2).index,c=s.oxw(2);return s.KtG(c.rate(r,o))}),s.qZA()}if(2&i){const n=s.oxw(4);s.Q6J("ngStyle",n.iconOnStyle)("ngClass",n.iconOnClass)}}function Ree(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"StarFillIcon",12),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(2).index,c=s.oxw(2);return s.KtG(c.rate(r,o))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(2).index,c=s.oxw(2);return s.KtG(c.rate(r,o))}),s.qZA()}if(2&i){const n=s.oxw(4);s.Q6J("ngStyle",n.iconOnStyle)("styleClass","p-rating-icon p-rating-icon-active"),s.uIk("tabindex",n.disabled||n.readonly?null:"0")}}function Oee(i,e){if(1&i&&(s.ynx(0),s.YNc(1,Pee,1,2,"span",13),s.YNc(2,Ree,1,3,"StarFillIcon",10),s.BQk()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngIf",n.iconOnClass),s.xp6(1),s.Q6J("ngIf",!n.iconOnClass)}}function Nee(i,e){if(1&i&&(s.TgZ(0,"span"),s.YNc(1,kee,3,2,"ng-container",3),s.YNc(2,Oee,3,2,"ng-container",3),s.qZA()),2&i){const n=e.index,t=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!t.value||n>=t.value),s.xp6(1),s.Q6J("ngIf",t.value&&n<t.value)}}function Lee(i,e){if(1&i&&(s.ynx(0),s.YNc(1,Dee,3,2,"ng-container",3),s.YNc(2,Nee,3,2,"span",4),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.cancel),s.xp6(1),s.Q6J("ngForOf",n.starsArray)}}function Fee(i,e){1&i&&s.GkF(0)}function Vee(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",17),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.clear(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.clear(r))}),s.YNc(1,Fee,1,0,"ng-container",18),s.qZA()}if(2&i){const n=s.oxw(2);s.Q6J("ngStyle",n.iconCancelStyle),s.uIk("tabindex",n.disabled||n.readonly?null:"0"),s.xp6(1),s.Q6J("ngTemplateOutlet",n.cancelIconTemplate)}}function Bee(i,e){1&i&&s.GkF(0)}function Uee(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"span",19),s.NdJ("click",function(r){const c=s.CHM(n).index,d=s.oxw(2);return s.KtG(d.rate(r,c))})("keydown.enter",function(r){const c=s.CHM(n).index,d=s.oxw(2);return s.KtG(d.rate(r,c))}),s.YNc(1,Bee,1,0,"ng-container",18),s.qZA()}if(2&i){const n=e.index,t=s.oxw(2);s.uIk("tabindex",t.disabled||t.readonly?null:"0"),s.xp6(1),s.Q6J("ngTemplateOutlet",t.getIconTemplate(n))}}function Hee(i,e){if(1&i&&(s.YNc(0,Vee,2,3,"span",15),s.YNc(1,Uee,2,2,"span",16)),2&i){const n=s.oxw();s.Q6J("ngIf",n.cancel),s.xp6(1),s.Q6J("ngForOf",n.starsArray)}}const zee=function(i,e){return{"p-readonly":i,"p-disabled":e}},jee={provide:Ui,useExisting:(0,s.Gpc)(()=>qee),multi:!0};let qee=(()=>{var i;class e{constructor(t){m(this,"cd",void 0),m(this,"disabled",void 0),m(this,"readonly",void 0),m(this,"stars",5),m(this,"cancel",!0),m(this,"iconOnClass",void 0),m(this,"iconOnStyle",void 0),m(this,"iconOffClass",void 0),m(this,"iconOffStyle",void 0),m(this,"iconCancelClass",void 0),m(this,"iconCancelStyle",void 0),m(this,"onRate",new s.vpe),m(this,"onCancel",new s.vpe),m(this,"templates",void 0),m(this,"onIconTemplate",void 0),m(this,"offIconTemplate",void 0),m(this,"cancelIconTemplate",void 0),m(this,"value",void 0),m(this,"onModelChange",()=>{}),m(this,"onModelTouched",()=>{}),m(this,"starsArray",void 0),this.cd=t}ngOnInit(){this.starsArray=[];for(let t=0;t<this.stars;t++)this.starsArray[t]=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"onicon":this.onIconTemplate=t.template;break;case"officon":this.offIconTemplate=t.template;break;case"cancelicon":this.cancelIconTemplate=t.template}})}getIconTemplate(t){return!this.value||t>=this.value?this.offIconTemplate:this.onIconTemplate}rate(t,r){!this.readonly&&!this.disabled&&(this.value=r+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:t,value:r+1})),t.preventDefault()}clear(t){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(t)),t.preventDefault()}writeValue(t){this.value=t,this.cd.detectChanges()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.sBO))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-rating"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[s._Bn([jee])],decls:4,vars:6,consts:[[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["customTemplate",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[3,"styleClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[3,"styleClass","ngStyle","click","keydown.enter"],["class","p-rating-icon",3,"ngStyle","ngClass","click","keydown.enter",4,"ngIf"],[3,"ngStyle","styleClass","click","keydown.enter",4,"ngIf"],[1,"p-rating-icon",3,"ngStyle","ngClass","click","keydown.enter"],[3,"ngStyle","styleClass","click","keydown.enter"],["class","p-rating-icon p-rating-icon-active",3,"ngStyle","ngClass","click","keydown.enter",4,"ngIf"],[1,"p-rating-icon","p-rating-icon-active",3,"ngStyle","ngClass","click","keydown.enter"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngStyle","click","keydown.enter"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click","keydown.enter"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0),s.YNc(1,Lee,3,2,"ng-container",1),s.YNc(2,Hee,2,2,"ng-template",null,2,s.W1O),s.qZA()),2&t){const o=s.MAs(3);s.Q6J("ngClass",s.WLB(3,zee,r.readonly,r.disabled)),s.xp6(1),s.Q6J("ngIf",!r.isCustomIcon)("ngIfElse",o)}},dependencies:function(){return[Pn,ns,An,Zn,Gn,G9,Z9,$9]},styles:[".p-rating{display:inline-flex}.p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0})),e})(),Gee=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,G9,Z9,$9,Kn]})),e})(),W9=(()=>{var i;class e{constructor(t){m(this,"el",void 0),m(this,"pFocusTrapDisabled",!1),this.el=t}onkeydown(t){if(!0!==this.pFocusTrapDisabled){t.preventDefault();const r=ee.getNextFocusableElement(this.el.nativeElement,t.shiftKey);r&&(r.focus(),r.select?.())}}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.SBq))}),m(e,"\u0275dir",s.lG2({type:i,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,r){1&t&&s.NdJ("keydown.tab",function(c){return r.onkeydown(c)})("keydown.shift.tab",function(c){return r.onkeydown(c)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}})),e})(),Y9=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht]})),e})(),K9=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),Q9=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})();const Zee=["titlebar"],$ee=["content"],Wee=["footer"];function Yee(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",11),s.NdJ("mousedown",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.initResize(r))}),s.qZA()}}function Kee(i,e){if(1&i&&(s.TgZ(0,"span",18),s._uU(1),s.qZA()),2&i){const n=s.oxw(4);s.Q6J("id",n.getAriaLabelledBy()),s.xp6(1),s.Oqu(n.header)}}function Qee(i,e){if(1&i&&(s.TgZ(0,"span",18),s.Hsn(1,1),s.qZA()),2&i){const n=s.oxw(4);s.Q6J("id",n.getAriaLabelledBy())}}function Jee(i,e){1&i&&s.GkF(0)}function Xee(i,e){if(1&i&&s._UZ(0,"span",22),2&i){const n=s.oxw(5);s.Q6J("ngClass",n.maximized?n.minimizeIcon:n.maximizeIcon)}}function ete(i,e){1&i&&s._UZ(0,"WindowMaximizeIcon",24),2&i&&s.Q6J("styleClass","p-dialog-header-maximize-icon")}function tte(i,e){1&i&&s._UZ(0,"WindowMinimizeIcon",24),2&i&&s.Q6J("styleClass","p-dialog-header-maximize-icon")}function nte(i,e){if(1&i&&(s.ynx(0),s.YNc(1,ete,1,1,"WindowMaximizeIcon",23),s.YNc(2,tte,1,1,"WindowMinimizeIcon",23),s.BQk()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngIf",!n.maximized&&!n.maximizeIconTemplate),s.xp6(1),s.Q6J("ngIf",n.maximized&&!n.minimizeIconTemplate)}}function ite(i,e){}function rte(i,e){1&i&&s.YNc(0,ite,0,0,"ng-template")}function ste(i,e){if(1&i&&(s.ynx(0),s.YNc(1,rte,1,0,null,9),s.BQk()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngTemplateOutlet",n.maximizeIconTemplate)}}function ote(i,e){}function ate(i,e){1&i&&s.YNc(0,ote,0,0,"ng-template")}function lte(i,e){if(1&i&&(s.ynx(0),s.YNc(1,ate,1,0,null,9),s.BQk()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngTemplateOutlet",n.minimizeIconTemplate)}}const cte=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function ute(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(n);const r=s.oxw(4);return s.KtG(r.maximize())})("keydown.enter",function(){s.CHM(n);const r=s.oxw(4);return s.KtG(r.maximize())}),s.YNc(1,Xee,1,1,"span",20),s.YNc(2,nte,3,2,"ng-container",21),s.YNc(3,ste,2,1,"ng-container",21),s.YNc(4,lte,2,1,"ng-container",21),s.qZA()}if(2&i){const n=s.oxw(4);s.Q6J("ngClass",s.DdM(5,cte)),s.xp6(1),s.Q6J("ngIf",n.maximizeIcon&&!n.maximizeIconTemplate&&!n.minimizeIconTemplate),s.xp6(1),s.Q6J("ngIf",!n.maximizeIcon),s.xp6(1),s.Q6J("ngIf",!n.maximized),s.xp6(1),s.Q6J("ngIf",n.maximized)}}function dte(i,e){if(1&i&&s._UZ(0,"span",27),2&i){const n=s.oxw(6);s.Q6J("ngClass",n.closeIcon)}}function hte(i,e){1&i&&s._UZ(0,"TimesIcon",24),2&i&&s.Q6J("styleClass","p-dialog-header-close-icon")}function pte(i,e){if(1&i&&(s.ynx(0),s.YNc(1,dte,1,1,"span",26),s.YNc(2,hte,1,1,"TimesIcon",23),s.BQk()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngIf",n.closeIcon),s.xp6(1),s.Q6J("ngIf",!n.closeIcon)}}function fte(i,e){}function mte(i,e){1&i&&s.YNc(0,fte,0,0,"ng-template")}function gte(i,e){if(1&i&&(s.TgZ(0,"span"),s.YNc(1,mte,1,0,null,9),s.qZA()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngTemplateOutlet",n.closeIconTemplate)}}const _te=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function yte(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.close(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.close(r))}),s.YNc(1,pte,3,2,"ng-container",21),s.YNc(2,gte,2,1,"span",21),s.qZA()}if(2&i){const n=s.oxw(4);s.Q6J("ngClass",s.DdM(5,_te)),s.uIk("aria-label",n.closeAriaLabel)("tabindex",n.closeTabindex),s.xp6(1),s.Q6J("ngIf",!n.closeIconTemplate),s.xp6(1),s.Q6J("ngIf",n.closeIconTemplate)}}function vte(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",12,13),s.NdJ("mousedown",function(r){s.CHM(n);const o=s.oxw(3);return s.KtG(o.initDrag(r))}),s.YNc(2,Kee,2,2,"span",14),s.YNc(3,Qee,2,1,"span",14),s.YNc(4,Jee,1,0,"ng-container",9),s.TgZ(5,"div",15),s.YNc(6,ute,5,6,"button",16),s.YNc(7,yte,3,6,"button",17),s.qZA()()}if(2&i){const n=s.oxw(3);s.xp6(2),s.Q6J("ngIf",!n.headerFacet&&!n.headerTemplate),s.xp6(1),s.Q6J("ngIf",n.headerFacet),s.xp6(1),s.Q6J("ngTemplateOutlet",n.headerTemplate),s.xp6(2),s.Q6J("ngIf",n.maximizable),s.xp6(1),s.Q6J("ngIf",n.closable)}}function wte(i,e){1&i&&s.GkF(0)}function bte(i,e){1&i&&s.GkF(0)}function Cte(i,e){if(1&i&&(s.TgZ(0,"div",28,29),s.Hsn(2,2),s.YNc(3,bte,1,0,"ng-container",9),s.qZA()),2&i){const n=s.oxw(3);s.xp6(3),s.Q6J("ngTemplateOutlet",n.footerTemplate)}}const Ite=function(i,e,n,t){return{"p-dialog p-component":!0,"p-dialog-rtl":i,"p-dialog-draggable":e,"p-dialog-resizable":n,"p-dialog-maximized":t}},Tte=function(i,e){return{transform:i,transition:e}},Ete=function(i){return{value:"visible",params:i}};function xte(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",3,4),s.NdJ("@animation.start",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onAnimationStart(r))})("@animation.done",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onAnimationEnd(r))}),s.YNc(2,Yee,1,0,"div",5),s.YNc(3,vte,8,5,"div",6),s.TgZ(4,"div",7,8),s.Hsn(6),s.YNc(7,wte,1,0,"ng-container",9),s.qZA(),s.YNc(8,Cte,4,1,"div",10),s.qZA()}if(2&i){const n=s.oxw(2);s.Tol(n.styleClass),s.Q6J("ngClass",s.l5B(16,Ite,n.rtl,n.draggable,n.resizable,n.maximized))("ngStyle",n.style)("pFocusTrapDisabled",!1===n.focusTrap)("@animation",s.VKq(24,Ete,s.WLB(21,Tte,n.transformOptions,n.transitionOptions))),s.uIk("aria-labelledby",n.getAriaLabelledBy())("aria-modal",!0),s.xp6(2),s.Q6J("ngIf",n.resizable),s.xp6(1),s.Q6J("ngIf",n.showHeader),s.xp6(1),s.Tol(n.contentStyleClass),s.Q6J("ngClass","p-dialog-content")("ngStyle",n.contentStyle),s.xp6(3),s.Q6J("ngTemplateOutlet",n.contentTemplate),s.xp6(1),s.Q6J("ngIf",n.footerFacet||n.footerTemplate)}}const Ste=function(i,e,n,t,r,o,c,d,f,_){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":i,"p-dialog-mask-scrollblocker":e,"p-dialog-left":n,"p-dialog-right":t,"p-dialog-top":r,"p-dialog-top-left":o,"p-dialog-top-right":c,"p-dialog-bottom":d,"p-dialog-bottom-left":f,"p-dialog-bottom-right":_}};function Dte(i,e){if(1&i&&(s.TgZ(0,"div",1),s.YNc(1,xte,9,26,"div",2),s.qZA()),2&i){const n=s.oxw();s.Tol(n.maskStyleClass),s.Q6J("ngClass",s.rFY(4,Ste,[n.modal,n.modal||n.blockScroll,"left"===n.position,"right"===n.position,"top"===n.position,"topleft"===n.position||"top-left"===n.position,"topright"===n.position||"top-right"===n.position,"bottom"===n.position,"bottomleft"===n.position||"bottom-left"===n.position,"bottomright"===n.position||"bottom-right"===n.position])),s.xp6(1),s.Q6J("ngIf",n.visible)}}const Ate=["*",[["p-header"]],[["p-footer"]]],Mte=["*","p-header","p-footer"],kte=dr([oi({transform:"{{transform}}",opacity:0}),Hn("{{transition}}")]),Pte=dr([Hn("{{transition}}",oi({transform:"{{transform}}",opacity:0}))]);let Rte=(()=>{var i;class e{get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style={...t},this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}constructor(t,r,o,c,d,f,_){m(this,"document",void 0),m(this,"platformId",void 0),m(this,"el",void 0),m(this,"renderer",void 0),m(this,"zone",void 0),m(this,"cd",void 0),m(this,"config",void 0),m(this,"header",void 0),m(this,"draggable",!0),m(this,"resizable",!0),m(this,"contentStyle",void 0),m(this,"contentStyleClass",void 0),m(this,"modal",!1),m(this,"closeOnEscape",!0),m(this,"dismissableMask",!1),m(this,"rtl",!1),m(this,"closable",!0),m(this,"appendTo",void 0),m(this,"breakpoints",void 0),m(this,"styleClass",void 0),m(this,"maskStyleClass",void 0),m(this,"showHeader",!0),m(this,"blockScroll",!1),m(this,"autoZIndex",!0),m(this,"baseZIndex",0),m(this,"minX",0),m(this,"minY",0),m(this,"focusOnShow",!0),m(this,"maximizable",!1),m(this,"keepInViewport",!0),m(this,"focusTrap",!0),m(this,"transitionOptions","150ms cubic-bezier(0, 0, 0.2, 1)"),m(this,"closeIcon",void 0),m(this,"closeAriaLabel",void 0),m(this,"closeTabindex","-1"),m(this,"minimizeIcon",void 0),m(this,"maximizeIcon",void 0),m(this,"onShow",new s.vpe),m(this,"onHide",new s.vpe),m(this,"visibleChange",new s.vpe),m(this,"onResizeInit",new s.vpe),m(this,"onResizeEnd",new s.vpe),m(this,"onDragEnd",new s.vpe),m(this,"onMaximize",new s.vpe),m(this,"headerFacet",void 0),m(this,"footerFacet",void 0),m(this,"templates",void 0),m(this,"headerViewChild",void 0),m(this,"contentViewChild",void 0),m(this,"footerViewChild",void 0),m(this,"headerTemplate",void 0),m(this,"contentTemplate",void 0),m(this,"footerTemplate",void 0),m(this,"maximizeIconTemplate",void 0),m(this,"closeIconTemplate",void 0),m(this,"minimizeIconTemplate",void 0),m(this,"_visible",!1),m(this,"maskVisible",void 0),m(this,"container",void 0),m(this,"wrapper",void 0),m(this,"dragging",void 0),m(this,"documentDragListener",void 0),m(this,"documentDragEndListener",void 0),m(this,"resizing",void 0),m(this,"documentResizeListener",void 0),m(this,"documentResizeEndListener",void 0),m(this,"documentEscapeListener",void 0),m(this,"maskClickListener",void 0),m(this,"lastPageX",void 0),m(this,"lastPageY",void 0),m(this,"preventVisibleChangePropagation",void 0),m(this,"maximized",void 0),m(this,"preMaximizeContentHeight",void 0),m(this,"preMaximizeContainerWidth",void 0),m(this,"preMaximizeContainerHeight",void 0),m(this,"preMaximizePageX",void 0),m(this,"preMaximizePageY",void 0),m(this,"id",jn()),m(this,"_style",{}),m(this,"_position","center"),m(this,"originalStyle",void 0),m(this,"transformOptions","scale(0.7)"),m(this,"styleElement",void 0),m(this,"window",void 0),this.document=t,this.platformId=r,this.el=o,this.renderer=c,this.zone=d,this.cd=f,this.config=_,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"maximizeicon":this.maximizeIconTemplate=t.template;break;case"minimizeicon":this.minimizeIconTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return null!==this.header?jn()+"_header":null}focus(){let t=ee.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&ee.addClass(this.document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&ee.removeClass(this.document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?ee.addClass(this.document.body,"p-overflow-hidden"):ee.removeClass(this.document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(mr.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(si(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let r in this.breakpoints)t+=`\n                        @media screen and (max-width: ${r}) {\n                            .p-dialog[${this.id}] {\n                                width: ${this.breakpoints[r]} !important;\n                            }\n                        }\n                    `;this.renderer.setProperty(this.styleElement,"innerHTML",t)}}initDrag(t){ee.hasClass(t.target,"p-dialog-header-icon")||ee.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",ee.addClass(this.document.body,"p-unselectable-text"))}onKeydown(t){if(this.focusTrap&&9===t.which){t.preventDefault();let r=ee.getFocusableElements(this.container);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let o=r.indexOf(r[0].ownerDocument.activeElement);t.shiftKey?-1==o||0===o?r[r.length-1].focus():r[o-1].focus():-1==o||o===r.length-1?r[0].focus():r[o+1].focus()}else r[0].focus()}}onDrag(t){if(this.dragging){let r=ee.getOuterWidth(this.container),o=ee.getOuterHeight(this.container),c=t.pageX-this.lastPageX,d=t.pageY-this.lastPageY,f=this.container.getBoundingClientRect(),_=f.left+c,b=f.top+d,T=ee.getViewport();this.container.style.position="fixed",this.keepInViewport?(_>=this.minX&&_+r<T.width&&(this._style.left=_+"px",this.lastPageX=t.pageX,this.container.style.left=_+"px"),b>=this.minY&&b+o<T.height&&(this._style.top=b+"px",this.lastPageY=t.pageY,this.container.style.top=b+"px")):(this.lastPageX=t.pageX,this.container.style.left=_+"px",this.lastPageY=t.pageY,this.container.style.top=b+"px")}}endDrag(t){this.dragging&&(this.dragging=!1,ee.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,ee.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let r=t.pageX-this.lastPageX,o=t.pageY-this.lastPageY,c=ee.getOuterWidth(this.container),d=ee.getOuterHeight(this.container),f=ee.getOuterHeight(this.contentViewChild?.nativeElement),_=c+r,b=d+o,T=this.container.style.minWidth,M=this.container.style.minHeight,R=this.container.getBoundingClientRect(),B=ee.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(_+=r,b+=o),(!T||_>parseInt(T))&&R.left+_<B.width&&(this._style.width=_+"px",this.container.style.width=this._style.width),(!M||b>parseInt(M))&&R.top+b<B.height&&(this.contentViewChild.nativeElement.style.height=f+b-d+"px",this._style.height&&(this._style.height=b+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,ee.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",r=>{27==r.which&&this.close(r)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.wrapper):ee.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&ee.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&ee.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(ee.removeClass(this.document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&ee.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&mr.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?{...this.originalStyle}:{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(ye),s.Y36(s.Lbi),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(dl))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-dialog"]],contentQueries:function(t,r,o){if(1&t&&(s.Suo(o,p9,5),s.Suo(o,FR,5),s.Suo(o,ir,4)),2&t){let c;s.iGM(c=s.CRH())&&(r.headerFacet=c.first),s.iGM(c=s.CRH())&&(r.footerFacet=c.first),s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&(s.Gf(Zee,5),s.Gf($ee,5),s.Gf(Wee,5)),2&t){let o;s.iGM(o=s.CRH())&&(r.headerViewChild=o.first),s.iGM(o=s.CRH())&&(r.contentViewChild=o.first),s.iGM(o=s.CRH())&&(r.footerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:Mte,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""]],template:function(t,r){1&t&&(s.F$t(Ate),s.YNc(0,Dte,2,15,"div",0)),2&t&&s.Q6J("ngIf",r.maskVisible)},dependencies:function(){return[Pn,An,Zn,Gn,W9,Zd,zs,K9,Q9]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[ls("animation",[ur("void => visible",[Ms(kte)]),ur("visible => void",[Ms(Pte)])])]},changeDetection:0})),e})(),Ote=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,Y9,hu,zs,K9,Q9,Kn]})),e})();function Nte(i,e){if(1&i&&s._UZ(0,"span",5),2&i){const n=s.oxw(2);s.Q6J("ngClass",n.icon)}}function Lte(i,e){if(1&i&&(s.ynx(0),s.YNc(1,Nte,1,1,"span",4),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.icon)}}function Fte(i,e){}function Vte(i,e){1&i&&s.YNc(0,Fte,0,0,"ng-template")}function Bte(i,e){if(1&i&&(s.TgZ(0,"span",6),s.YNc(1,Vte,1,0,null,7),s.qZA()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",n.iconTemplate)}}const Ute=["*"];let Hte=(()=>{var i;class e{constructor(){m(this,"style",void 0),m(this,"styleClass",void 0),m(this,"severity",void 0),m(this,"value",void 0),m(this,"icon",void 0),m(this,"rounded",void 0),m(this,"templates",void 0),m(this,"iconTemplate",void 0)}ngAfterContentInit(){this.templates?.forEach(t=>{"icon"===t.getType()&&(this.iconTemplate=t.template)})}containerClass(){return{"p-tag p-component":!0,"p-tag-info":"info"===this.severity,"p-tag-success":"success"===this.severity,"p-tag-warning":"warning"===this.severity,"p-tag-danger":"danger"===this.severity,"p-tag-rounded":this.rounded}}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-tag"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:"rounded"},ngContentSelectors:Ute,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.YNc(2,Lte,2,1,"ng-container",1),s.YNc(3,Bte,2,1,"span",2),s.TgZ(4,"span",3),s._uU(5),s.qZA()()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass",r.containerClass())("ngStyle",r.style),s.xp6(2),s.Q6J("ngIf",!r.iconTemplate),s.xp6(1),s.Q6J("ngIf",r.iconTemplate),s.xp6(2),s.Oqu(r.value))},dependencies:[Pn,An,Zn,Gn],styles:[".p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}\n"],encapsulation:2,changeDetection:0})),e})(),zte=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,Kn,Kn]})),e})();function jte(i,e){if(1&i&&s._UZ(0,"span",8),2&i){const n=s.oxw(2).$implicit;s.Tol(n.icon),s.Q6J("ngClass","p-button-icon p-button-icon-left")}}function qte(i,e){if(1&i&&(s.ynx(0),s.YNc(1,jte,1,3,"span",6),s.TgZ(2,"span",7),s._uU(3),s.qZA(),s.BQk()),2&i){const n=s.oxw().$implicit,t=s.oxw();s.xp6(1),s.Q6J("ngIf",n.icon),s.xp6(2),s.Oqu(t.getOptionLabel(n))}}function Gte(i,e){1&i&&s.GkF(0)}const Zte=function(i,e){return{$implicit:i,index:e}};function $te(i,e){if(1&i&&s.YNc(0,Gte,1,0,"ng-container",9),2&i){const n=s.oxw(),t=n.$implicit,r=n.index,o=s.oxw();s.Q6J("ngTemplateOutlet",o.selectButtonTemplate)("ngTemplateOutletContext",s.WLB(2,Zte,t,r))}}const Wte=function(i,e,n){return{"p-highlight":i,"p-disabled":e,"p-button-icon-only":n}};function Yte(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",2,3),s.NdJ("click",function(r){const o=s.CHM(n),c=o.$implicit,d=o.index,f=s.oxw();return s.KtG(f.onItemClick(r,c,d))})("keydown.enter",function(r){const o=s.CHM(n),c=o.$implicit,d=o.index,f=s.oxw();return s.KtG(f.onItemClick(r,c,d))})("blur",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onBlur())}),s.YNc(2,qte,4,2,"ng-container",4),s.YNc(3,$te,1,5,"ng-template",null,5,s.W1O),s.qZA()}if(2&i){const n=e.$implicit,t=s.MAs(4),r=s.oxw();s.Tol(n.styleClass),s.Q6J("ngClass",s.kEZ(10,Wte,r.isSelected(n),r.disabled||r.isOptionDisabled(n),n.icon&&!r.getOptionLabel(n))),s.uIk("aria-pressed",r.isSelected(n))("title",n.title)("aria-label",n.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(n)),s.xp6(2),s.Q6J("ngIf",!r.itemTemplate)("ngIfElse",t)}}const Kte={provide:Ui,useExisting:(0,s.Gpc)(()=>Qte),multi:!0};let Qte=(()=>{var i;class e{get selectButtonTemplate(){return this.itemTemplate?.template}constructor(t){m(this,"cd",void 0),m(this,"options",void 0),m(this,"optionLabel",void 0),m(this,"optionValue",void 0),m(this,"optionDisabled",void 0),m(this,"tabindex",0),m(this,"multiple",void 0),m(this,"style",void 0),m(this,"styleClass",void 0),m(this,"ariaLabelledBy",void 0),m(this,"disabled",void 0),m(this,"dataKey",void 0),m(this,"onOptionClick",new s.vpe),m(this,"onChange",new s.vpe),m(this,"itemTemplate",void 0),m(this,"value",void 0),m(this,"onModelChange",()=>{}),m(this,"onModelTouched",()=>{}),this.cd=t}getOptionLabel(t){return this.optionLabel?et.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?et.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}isOptionDisabled(t){return this.optionDisabled?et.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onItemClick(t,r,o){if(!this.disabled&&!this.isOptionDisabled(r)){if(this.multiple)this.isSelected(r)?this.removeOption(r):this.value=[...this.value||[],this.getOptionValue(r)],this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value});else{let c=this.getOptionValue(r);this.value!==c&&(this.value=this.getOptionValue(r),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}this.onOptionClick.emit({originalEvent:t,option:r,index:o})}}onBlur(){this.onModelTouched()}removeOption(t){this.value=this.value.filter(r=>!et.equals(r,this.getOptionValue(t),this.dataKey))}isSelected(t){let r=!1,o=this.getOptionValue(t);if(this.multiple){if(this.value&&Array.isArray(this.value))for(let c of this.value)if(et.equals(c,o,this.dataKey)){r=!0;break}}else r=et.equals(this.getOptionValue(t),this.value,this.dataKey);return r}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.sBO))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-selectButton"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,5),2&t){let c;s.iGM(c=s.CRH())&&(r.itemTemplate=c.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[s._Bn([Kte])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,Yte,5,14,"div",1),s.qZA()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",r.style),s.xp6(1),s.Q6J("ngForOf",r.options))},dependencies:[Pn,ns,An,Zn,Gn,Zd],styles:['.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}p-button[iconpos=right] spinnericon{order:1}\n'],encapsulation:2,changeDetection:0})),e})(),Jte=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,hu,Kn,Kn]})),e})(),ef=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["CheckIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})();function Xte(i,e){if(1&i&&s._UZ(0,"span",8),2&i){const n=s.oxw(2);s.Q6J("ngClass",n.checkboxTrueIcon)}}function ene(i,e){1&i&&s._UZ(0,"CheckIcon",11),2&i&&s.Q6J("styleClass","p-checkbox-icon")}function tne(i,e){}function nne(i,e){1&i&&s.YNc(0,tne,0,0,"ng-template")}function ine(i,e){if(1&i&&(s.TgZ(0,"span",12),s.YNc(1,nne,1,0,null,13),s.qZA()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",n.checkIconTemplate)}}function rne(i,e){if(1&i&&(s.ynx(0),s.YNc(1,ene,1,1,"CheckIcon",9),s.YNc(2,ine,2,1,"span",10),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!n.checkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.checkIconTemplate)}}function sne(i,e){if(1&i&&(s.ynx(0),s.YNc(1,Xte,1,1,"span",7),s.YNc(2,rne,3,2,"ng-container",5),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.checkboxTrueIcon),s.xp6(1),s.Q6J("ngIf",!n.checkboxTrueIcon)}}function one(i,e){if(1&i&&s._UZ(0,"span",8),2&i){const n=s.oxw(2);s.Q6J("ngClass",n.checkboxFalseIcon)}}function ane(i,e){1&i&&s._UZ(0,"TimesIcon",11),2&i&&s.Q6J("styleClass","p-checkbox-icon")}function lne(i,e){}function cne(i,e){1&i&&s.YNc(0,lne,0,0,"ng-template")}function une(i,e){if(1&i&&(s.TgZ(0,"span",12),s.YNc(1,cne,1,0,null,13),s.qZA()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",n.uncheckIconTemplate)}}function dne(i,e){if(1&i&&(s.ynx(0),s.YNc(1,ane,1,1,"TimesIcon",9),s.YNc(2,une,2,1,"span",10),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!n.uncheckIconTemplate),s.xp6(1),s.Q6J("ngIf",n.uncheckIconTemplate)}}function hne(i,e){if(1&i&&(s.ynx(0),s.YNc(1,one,1,1,"span",7),s.YNc(2,dne,3,2,"ng-container",5),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.checkboxFalseIcon),s.xp6(1),s.Q6J("ngIf",!n.checkboxFalseIcon)}}const pne=function(i,e,n){return{"p-checkbox-label-active":i,"p-disabled":e,"p-checkbox-label-focus":n}};function fne(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"label",14),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(),c=s.MAs(3);return s.KtG(o.onClick(r,c))}),s._uU(1),s.qZA()}if(2&i){const n=s.oxw();s.Q6J("ngClass",s.kEZ(3,pne,null!=n.value,n.disabled,n.focused)),s.uIk("for",n.inputId),s.xp6(1),s.Oqu(n.label)}}const mne=function(i,e){return{"p-checkbox p-component":!0,"p-checkbox-disabled":i,"p-checkbox-focused":e}},gne=function(i,e,n){return{"p-highlight":i,"p-disabled":e,"p-focus":n}},_ne={provide:Ui,useExisting:(0,s.Gpc)(()=>yne),multi:!0};let yne=(()=>{var i;class e{constructor(t){m(this,"cd",void 0),m(this,"disabled",void 0),m(this,"name",void 0),m(this,"ariaLabelledBy",void 0),m(this,"tabindex",void 0),m(this,"inputId",void 0),m(this,"style",void 0),m(this,"styleClass",void 0),m(this,"label",void 0),m(this,"readonly",void 0),m(this,"checkboxTrueIcon",void 0),m(this,"checkboxFalseIcon",void 0),m(this,"onChange",new s.vpe),m(this,"templates",void 0),m(this,"checkIconTemplate",void 0),m(this,"uncheckIconTemplate",void 0),m(this,"focused",void 0),m(this,"value",void 0),m(this,"onModelChange",()=>{}),m(this,"onModelTouched",()=>{}),this.cd=t}onClick(t,r){!this.disabled&&!this.readonly&&(this.toggle(t),this.focused=!0,r.focus())}onKeydown(t){32==t.keyCode&&t.preventDefault()}onKeyup(t){32==t.keyCode&&!this.readonly&&(this.toggle(t),t.preventDefault())}toggle(t){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"checkicon":this.checkIconTemplate=t.template;break;case"uncheckicon":this.uncheckIconTemplate=t.template}})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}writeValue(t){this.value=t,this.cd.markForCheck()}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.sBO))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-triStateCheckbox"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[s._Bn([_ne])],decls:8,vars:22,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[4,"ngIf"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(t,r){if(1&t){const o=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),s.NdJ("keyup",function(d){return r.onKeyup(d)})("keydown",function(d){return r.onKeydown(d)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),s.qZA()(),s.TgZ(4,"div",4),s.NdJ("click",function(d){s.CHM(o);const f=s.MAs(3);return s.KtG(r.onClick(d,f))}),s.YNc(5,sne,3,2,"ng-container",5),s.YNc(6,hne,3,2,"ng-container",5),s.qZA()(),s.YNc(7,fne,2,7,"label",6)}2&t&&(s.Tol(r.styleClass),s.Q6J("ngStyle",r.style)("ngClass",s.WLB(15,mne,r.disabled,r.focused)),s.xp6(2),s.Q6J("name",r.name)("readonly",r.readonly)("disabled",r.disabled),s.uIk("id",r.inputId)("tabindex",r.tabindex)("aria-labelledby",r.ariaLabelledBy),s.xp6(2),s.Q6J("ngClass",s.kEZ(18,gne,null!=r.value,r.disabled,r.focused)),s.uIk("aria-checked",!0===r.value),s.xp6(1),s.Q6J("ngIf",!0===r.value),s.xp6(1),s.Q6J("ngIf",!1===r.value),s.xp6(1),s.Q6J("ngIf",r.label))},dependencies:function(){return[Pn,An,Zn,Gn,ef,zs]},encapsulation:2,changeDetection:0})),e})(),vne=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,Kn,ef,zs,Kn]})),e})(),J9=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["ArrowDownIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),X9=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["ArrowUpIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),wne=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["FilterIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),e8=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["SortAltIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:9,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4),s.qZA(),s.TgZ(6,"defs")(7,"clipPath",5),s._UZ(8,"rect",6),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(6),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),t8=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["SortAmountDownIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:11,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M2.59836 13.2009C2.44634 13.2009 2.29432 13.1449 2.1743 13.0248L0.174024 11.0246C-0.0580081 10.7925 -0.0580081 10.4085 0.174024 10.1764C0.406057 9.94441 0.79011 9.94441 1.02214 10.1764L2.59836 11.7527L4.17458 10.1764C4.40662 9.94441 4.79067 9.94441 5.0227 10.1764C5.25473 10.4085 5.25473 10.7925 5.0227 11.0246L3.02242 13.0248C2.90241 13.1449 2.75038 13.2009 2.59836 13.2009Z","fill","currentColor"],["d","M2.59836 13.2009C2.27032 13.2009 1.99833 12.9288 1.99833 12.6008V1.39922C1.99833 1.07117 2.27036 0.799133 2.59841 0.799133C2.92646 0.799133 3.19849 1.07117 3.19849 1.39922V12.6008C3.19849 12.9288 2.92641 13.2009 2.59836 13.2009Z","fill","currentColor"],["d","M13.3999 11.2006H6.99902C6.67098 11.2006 6.39894 10.9285 6.39894 10.6005C6.39894 10.2725 6.67098 10.0004 6.99902 10.0004H13.3999C13.728 10.0004 14 10.2725 14 10.6005C14 10.9285 13.728 11.2006 13.3999 11.2006Z","fill","currentColor"],["d","M10.1995 6.39991H6.99902C6.67098 6.39991 6.39894 6.12788 6.39894 5.79983C6.39894 5.47179 6.67098 5.19975 6.99902 5.19975H10.1995C10.5275 5.19975 10.7996 5.47179 10.7996 5.79983C10.7996 6.12788 10.5275 6.39991 10.1995 6.39991Z","fill","currentColor"],["d","M8.59925 3.99958H6.99902C6.67098 3.99958 6.39894 3.72754 6.39894 3.3995C6.39894 3.07145 6.67098 2.79941 6.99902 2.79941H8.59925C8.92729 2.79941 9.19933 3.07145 9.19933 3.3995C9.19933 3.72754 8.92729 3.99958 8.59925 3.99958Z","fill","currentColor"],["d","M11.7997 8.80025H6.99902C6.67098 8.80025 6.39894 8.52821 6.39894 8.20017C6.39894 7.87212 6.67098 7.60008 6.99902 7.60008H11.7997C12.1277 7.60008 12.3998 7.87212 12.3998 8.20017C12.3998 8.52821 12.1277 8.80025 11.7997 8.80025Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4)(6,"path",5)(7,"path",6),s.qZA(),s.TgZ(8,"defs")(9,"clipPath",7),s._UZ(10,"rect",8),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(8),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),n8=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["SortAmountUpAltIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:11,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.59864 3.99958C4.44662 3.99958 4.2946 3.94357 4.17458 3.82356L2.59836 2.24734L1.02214 3.82356C0.79011 4.05559 0.406057 4.05559 0.174024 3.82356C-0.0580081 3.59152 -0.0580081 3.20747 0.174024 2.97544L2.1743 0.97516C2.40634 0.743127 2.79039 0.743127 3.02242 0.97516L5.0227 2.97544C5.25473 3.20747 5.25473 3.59152 5.0227 3.82356C4.90268 3.94357 4.75066 3.99958 4.59864 3.99958Z","fill","currentColor"],["d","M2.59841 13.2009C2.27036 13.2009 1.99833 12.9288 1.99833 12.6008V1.39922C1.99833 1.07117 2.27036 0.799133 2.59841 0.799133C2.92646 0.799133 3.19849 1.07117 3.19849 1.39922V12.6008C3.19849 12.9288 2.92646 13.2009 2.59841 13.2009Z","fill","currentColor"],["d","M13.3999 11.2006H6.99902C6.67098 11.2006 6.39894 10.9285 6.39894 10.6005C6.39894 10.2725 6.67098 10.0004 6.99902 10.0004H13.3999C13.728 10.0004 14 10.2725 14 10.6005C14 10.9285 13.728 11.2006 13.3999 11.2006Z","fill","currentColor"],["d","M10.1995 6.39991H6.99902C6.67098 6.39991 6.39894 6.12788 6.39894 5.79983C6.39894 5.47179 6.67098 5.19975 6.99902 5.19975H10.1995C10.5275 5.19975 10.7996 5.47179 10.7996 5.79983C10.7996 6.12788 10.5275 6.39991 10.1995 6.39991Z","fill","currentColor"],["d","M8.59925 3.99958H6.99902C6.67098 3.99958 6.39894 3.72754 6.39894 3.3995C6.39894 3.07145 6.67098 2.79941 6.99902 2.79941H8.59925C8.92729 2.79941 9.19933 3.07145 9.19933 3.3995C9.19933 3.72754 8.92729 3.99958 8.59925 3.99958Z","fill","currentColor"],["d","M11.7997 8.80025H6.99902C6.67098 8.80025 6.39894 8.52821 6.39894 8.20017C6.39894 7.87212 6.67098 7.60008 6.99902 7.60008H11.7997C12.1277 7.60008 12.3998 7.87212 12.3998 8.20017C12.3998 8.52821 12.1277 8.80025 11.7997 8.80025Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4)(6,"path",5)(7,"path",6),s.qZA(),s.TgZ(8,"defs")(9,"clipPath",7),s._UZ(10,"rect",8),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(8),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),bne=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["FilterSlashIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})();const Cne=["container"],Ine=["resizeHelper"],Tne=["reorderIndicatorUp"],Ene=["reorderIndicatorDown"],xne=["wrapper"],Sne=["table"],Dne=["thead"],Ane=["tfoot"],Mne=["scroller"];function kne(i,e){if(1&i&&s._UZ(0,"i"),2&i){const n=s.oxw(2);s.Tol("p-datatable-loading-icon "+n.loadingIcon)}}function Pne(i,e){1&i&&s._UZ(0,"SpinnerIcon",19),2&i&&s.Q6J("spin",!0)("styleClass","p-datatable-loading-icon")}function Rne(i,e){}function One(i,e){1&i&&s.YNc(0,Rne,0,0,"ng-template")}function Nne(i,e){if(1&i&&(s.TgZ(0,"span",20),s.YNc(1,One,1,0,null,21),s.qZA()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",n.loadingIconTemplate)}}function Lne(i,e){if(1&i&&(s.ynx(0),s.YNc(1,Pne,1,2,"SpinnerIcon",17),s.YNc(2,Nne,2,1,"span",18),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!n.loadingIconTemplate),s.xp6(1),s.Q6J("ngIf",n.loadingIconTemplate)}}function Fne(i,e){if(1&i&&(s.TgZ(0,"div",15),s.YNc(1,kne,1,2,"i",16),s.YNc(2,Lne,3,2,"ng-container",8),s.qZA()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.loadingIcon),s.xp6(1),s.Q6J("ngIf",!n.loadingIcon)}}function Vne(i,e){1&i&&s.GkF(0)}function Bne(i,e){if(1&i&&(s.TgZ(0,"div",22),s.YNc(1,Vne,1,0,"ng-container",21),s.qZA()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",n.captionTemplate)}}function Une(i,e){1&i&&s.GkF(0)}function Hne(i,e){if(1&i&&s.YNc(0,Une,1,0,"ng-container",21),2&i){const n=s.oxw(3);s.Q6J("ngTemplateOutlet",n.paginatorFirstPageLinkIconTemplate)}}function zne(i,e){1&i&&s.YNc(0,Hne,1,1,"ng-template",24)}function jne(i,e){1&i&&s.GkF(0)}function qne(i,e){if(1&i&&s.YNc(0,jne,1,0,"ng-container",21),2&i){const n=s.oxw(3);s.Q6J("ngTemplateOutlet",n.paginatorPreviousPageLinkIconTemplate)}}function Gne(i,e){1&i&&s.YNc(0,qne,1,1,"ng-template",25)}function Zne(i,e){1&i&&s.GkF(0)}function $ne(i,e){if(1&i&&s.YNc(0,Zne,1,0,"ng-container",21),2&i){const n=s.oxw(3);s.Q6J("ngTemplateOutlet",n.paginatorLastPageLinkIconTemplate)}}function Wne(i,e){1&i&&s.YNc(0,$ne,1,1,"ng-template",26)}function Yne(i,e){1&i&&s.GkF(0)}function Kne(i,e){if(1&i&&s.YNc(0,Yne,1,0,"ng-container",21),2&i){const n=s.oxw(3);s.Q6J("ngTemplateOutlet",n.paginatorNextPageLinkIconTemplate)}}function Qne(i,e){1&i&&s.YNc(0,Kne,1,1,"ng-template",27)}function Jne(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-paginator",23),s.NdJ("onPageChange",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onPageChange(r))}),s.YNc(1,zne,1,0,null,8),s.YNc(2,Gne,1,0,null,8),s.YNc(3,Wne,1,0,null,8),s.YNc(4,Qne,1,0,null,8),s.qZA()}if(2&i){const n=s.oxw();s.Q6J("rows",n.rows)("first",n.first)("totalRecords",n.totalRecords)("pageLinkSize",n.pageLinks)("alwaysShow",n.alwaysShowPaginator)("rowsPerPageOptions",n.rowsPerPageOptions)("templateLeft",n.paginatorLeftTemplate)("templateRight",n.paginatorRightTemplate)("dropdownAppendTo",n.paginatorDropdownAppendTo)("dropdownScrollHeight",n.paginatorDropdownScrollHeight)("currentPageReportTemplate",n.currentPageReportTemplate)("showFirstLastIcon",n.showFirstLastIcon)("dropdownItemTemplate",n.paginatorDropdownItemTemplate)("showCurrentPageReport",n.showCurrentPageReport)("showJumpToPageDropdown",n.showJumpToPageDropdown)("showJumpToPageInput",n.showJumpToPageInput)("showPageLinks",n.showPageLinks),s.xp6(1),s.Q6J("ngIf",n.paginatorFirstPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.paginatorPreviousPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.paginatorLastPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.paginatorNextPageLinkIconTemplate)}}function Xne(i,e){1&i&&s.GkF(0)}const r8=function(i,e){return{$implicit:i,options:e}};function eie(i,e){if(1&i&&s.YNc(0,Xne,1,0,"ng-container",31),2&i){const n=e.$implicit,t=e.options;s.oxw(2);const r=s.MAs(10);s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(2,r8,n,t))}}const tie=function(i){return{height:i}};function nie(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-scroller",28,29),s.NdJ("onLazyLoad",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onLazyItemLoad(r))}),s.YNc(2,eie,1,5,"ng-template",30),s.qZA()}if(2&i){const n=s.oxw();s.Akn(s.VKq(15,tie,"flex"!==n.scrollHeight?n.scrollHeight:void 0)),s.Q6J("items",n.processedData)("columns",n.columns)("scrollHeight","flex"!==n.scrollHeight?void 0:"100%")("itemSize",n.virtualScrollItemSize||n._virtualRowHeight)("step",n.rows)("delay",n.lazy?n.virtualScrollDelay:0)("inline",!0)("lazy",n.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",n.loadingBodyTemplate)("options",n.virtualScrollOptions)("autoSize",!0)}}function iie(i,e){1&i&&s.GkF(0)}const rie=function(i){return{columns:i}};function sie(i,e){if(1&i&&(s.ynx(0),s.YNc(1,iie,1,0,"ng-container",31),s.BQk()),2&i){const n=s.oxw(),t=s.MAs(10);s.xp6(1),s.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",s.WLB(4,r8,n.processedData,s.VKq(2,rie,n.columns)))}}function oie(i,e){1&i&&s.GkF(0)}function aie(i,e){1&i&&s.GkF(0)}function lie(i,e){if(1&i&&s._UZ(0,"tbody",40),2&i){const n=s.oxw().options,t=s.oxw();s.Q6J("value",t.frozenValue)("frozenRows",!0)("pTableBody",n.columns)("pTableBodyTemplate",t.frozenBodyTemplate)("frozen",!0)}}function cie(i,e){if(1&i&&s._UZ(0,"tbody",41),2&i){const n=s.oxw().options;s.Akn("height: calc("+n.spacerStyle.height+" - "+n.rows.length*n.itemSize+"px);")}}function uie(i,e){1&i&&s.GkF(0)}const tf=function(i){return{$implicit:i}};function die(i,e){if(1&i&&(s.TgZ(0,"tfoot",42,43),s.YNc(2,uie,1,0,"ng-container",31),s.qZA()),2&i){const n=s.oxw().options,t=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",t.footerGroupedTemplate||t.footerTemplate)("ngTemplateOutletContext",s.VKq(2,tf,n.columns))}}const hie=function(i,e,n){return{"p-datatable-table":!0,"p-datatable-scrollable-table":i,"p-datatable-resizable-table":e,"p-datatable-resizable-table-fit":n}};function pie(i,e){if(1&i&&(s.TgZ(0,"table",32,33),s.YNc(2,oie,1,0,"ng-container",31),s.TgZ(3,"thead",34,35),s.YNc(5,aie,1,0,"ng-container",31),s.qZA(),s.YNc(6,lie,1,5,"tbody",36),s._UZ(7,"tbody",37),s.YNc(8,cie,1,2,"tbody",38),s.YNc(9,die,3,4,"tfoot",39),s.qZA()),2&i){const n=e.options,t=s.oxw();s.Akn(t.tableStyle),s.Tol(t.tableStyleClass),s.Q6J("ngClass",s.kEZ(20,hie,t.scrollable,t.resizableColumns,t.resizableColumns&&"fit"===t.columnResizeMode)),s.uIk("id",t.id+"-table"),s.xp6(2),s.Q6J("ngTemplateOutlet",t.colGroupTemplate)("ngTemplateOutletContext",s.VKq(24,tf,n.columns)),s.xp6(3),s.Q6J("ngTemplateOutlet",t.headerGroupedTemplate||t.headerTemplate)("ngTemplateOutletContext",s.VKq(26,tf,n.columns)),s.xp6(1),s.Q6J("ngIf",t.frozenValue||t.frozenBodyTemplate),s.xp6(1),s.Akn(n.contentStyle),s.Q6J("ngClass",n.contentStyleClass)("value",t.dataToRender(n.rows))("pTableBody",n.columns)("pTableBodyTemplate",t.bodyTemplate)("scrollerOptions",n),s.xp6(1),s.Q6J("ngIf",n.spacerStyle),s.xp6(1),s.Q6J("ngIf",t.footerGroupedTemplate||t.footerTemplate)}}function fie(i,e){1&i&&s.GkF(0)}function mie(i,e){if(1&i&&s.YNc(0,fie,1,0,"ng-container",21),2&i){const n=s.oxw(3);s.Q6J("ngTemplateOutlet",n.paginatorFirstPageLinkIconTemplate)}}function gie(i,e){1&i&&s.YNc(0,mie,1,1,"ng-template",24)}function _ie(i,e){1&i&&s.GkF(0)}function yie(i,e){if(1&i&&s.YNc(0,_ie,1,0,"ng-container",21),2&i){const n=s.oxw(3);s.Q6J("ngTemplateOutlet",n.paginatorPreviousPageLinkIconTemplate)}}function vie(i,e){1&i&&s.YNc(0,yie,1,1,"ng-template",25)}function wie(i,e){1&i&&s.GkF(0)}function bie(i,e){if(1&i&&s.YNc(0,wie,1,0,"ng-container",21),2&i){const n=s.oxw(3);s.Q6J("ngTemplateOutlet",n.paginatorLastPageLinkIconTemplate)}}function Cie(i,e){1&i&&s.YNc(0,bie,1,1,"ng-template",26)}function Iie(i,e){1&i&&s.GkF(0)}function Tie(i,e){if(1&i&&s.YNc(0,Iie,1,0,"ng-container",21),2&i){const n=s.oxw(3);s.Q6J("ngTemplateOutlet",n.paginatorNextPageLinkIconTemplate)}}function Eie(i,e){1&i&&s.YNc(0,Tie,1,1,"ng-template",27)}function xie(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-paginator",44),s.NdJ("onPageChange",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onPageChange(r))}),s.YNc(1,gie,1,0,null,8),s.YNc(2,vie,1,0,null,8),s.YNc(3,Cie,1,0,null,8),s.YNc(4,Eie,1,0,null,8),s.qZA()}if(2&i){const n=s.oxw();s.Q6J("rows",n.rows)("first",n.first)("totalRecords",n.totalRecords)("pageLinkSize",n.pageLinks)("alwaysShow",n.alwaysShowPaginator)("rowsPerPageOptions",n.rowsPerPageOptions)("templateLeft",n.paginatorLeftTemplate)("templateRight",n.paginatorRightTemplate)("dropdownAppendTo",n.paginatorDropdownAppendTo)("dropdownScrollHeight",n.paginatorDropdownScrollHeight)("currentPageReportTemplate",n.currentPageReportTemplate)("showFirstLastIcon",n.showFirstLastIcon)("dropdownItemTemplate",n.paginatorDropdownItemTemplate)("showCurrentPageReport",n.showCurrentPageReport)("showJumpToPageDropdown",n.showJumpToPageDropdown)("showJumpToPageInput",n.showJumpToPageInput)("showPageLinks",n.showPageLinks),s.xp6(1),s.Q6J("ngIf",n.paginatorFirstPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.paginatorPreviousPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.paginatorLastPageLinkIconTemplate),s.xp6(1),s.Q6J("ngIf",n.paginatorNextPageLinkIconTemplate)}}function Sie(i,e){1&i&&s.GkF(0)}function Die(i,e){if(1&i&&(s.TgZ(0,"div",45),s.YNc(1,Sie,1,0,"ng-container",21),s.qZA()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",n.summaryTemplate)}}function Aie(i,e){1&i&&s._UZ(0,"div",46,47)}function Mie(i,e){1&i&&s._UZ(0,"ArrowDownIcon")}function kie(i,e){}function Pie(i,e){1&i&&s.YNc(0,kie,0,0,"ng-template")}function Rie(i,e){if(1&i&&(s.TgZ(0,"span",48,49),s.YNc(2,Mie,1,0,"ArrowDownIcon",8),s.YNc(3,Pie,1,0,null,21),s.qZA()),2&i){const n=s.oxw();s.xp6(2),s.Q6J("ngIf",!n.reorderIndicatorUpIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.reorderIndicatorUpIconTemplate)}}function Oie(i,e){1&i&&s._UZ(0,"ArrowUpIcon")}function Nie(i,e){}function Lie(i,e){1&i&&s.YNc(0,Nie,0,0,"ng-template")}function Fie(i,e){if(1&i&&(s.TgZ(0,"span",50,51),s.YNc(2,Oie,1,0,"ArrowUpIcon",8),s.YNc(3,Lie,1,0,null,21),s.qZA()),2&i){const n=s.oxw();s.xp6(2),s.Q6J("ngIf",!n.reorderIndicatorDownIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.reorderIndicatorDownIconTemplate)}}const Vie=function(i,e,n){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":i,"p-datatable-scrollable":e,"p-datatable-flex-scrollable":n}},Bie=function(i){return{maxHeight:i}},Uie=["pTableBody",""];function Hie(i,e){1&i&&s.GkF(0)}const WR=function(i,e,n,t,r){return{$implicit:i,rowIndex:e,columns:n,editing:t,frozen:r}};function zie(i,e){if(1&i&&(s.ynx(0,3),s.YNc(1,Hie,1,0,"ng-container",4),s.BQk()),2&i){const n=s.oxw(),t=n.$implicit,r=n.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.qbA(2,WR,t,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}function jie(i,e){1&i&&s.GkF(0)}function qie(i,e){if(1&i&&(s.ynx(0),s.YNc(1,jie,1,0,"ng-container",4),s.BQk()),2&i){const n=s.oxw(),t=n.$implicit,r=n.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",t?o.template:o.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.qbA(2,WR,t,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}function Gie(i,e){1&i&&s.GkF(0)}const Zie=function(i,e,n,t,r,o,c){return{$implicit:i,rowIndex:e,columns:n,editing:t,frozen:r,rowgroup:o,rowspan:c}};function $ie(i,e){if(1&i&&(s.ynx(0),s.YNc(1,Gie,1,0,"ng-container",4),s.BQk()),2&i){const n=s.oxw(),t=n.$implicit,r=n.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",t?o.template:o.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.Hh0(2,Zie,t,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen,o.shouldRenderRowspan(o.value,t,r),o.calculateRowGroupSize(o.value,t,r)))}}function Wie(i,e){1&i&&s.GkF(0)}function Yie(i,e){if(1&i&&(s.ynx(0,3),s.YNc(1,Wie,1,0,"ng-container",4),s.BQk()),2&i){const n=s.oxw(),t=n.$implicit,r=n.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.qbA(2,WR,t,o.getRowIndex(r),o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}function Kie(i,e){if(1&i&&(s.YNc(0,zie,2,8,"ng-container",2),s.YNc(1,qie,2,8,"ng-container",0),s.YNc(2,$ie,2,10,"ng-container",0),s.YNc(3,Yie,2,8,"ng-container",2)),2&i){const n=e.$implicit,t=e.index,r=s.oxw(2);s.Q6J("ngIf",r.dt.groupHeaderTemplate&&!r.dt.virtualScroll&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,n,t)),s.xp6(1),s.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),s.xp6(1),s.Q6J("ngIf",r.dt.groupFooterTemplate&&!r.dt.virtualScroll&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,n,t))}}function Qie(i,e){if(1&i&&(s.ynx(0),s.YNc(1,Kie,4,4,"ng-template",1),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngForOf",n.value)("ngForTrackBy",n.dt.rowTrackBy)}}function Jie(i,e){1&i&&s.GkF(0)}const dD=function(i,e,n,t,r,o){return{$implicit:i,rowIndex:e,columns:n,expanded:t,editing:r,frozen:o}};function Xie(i,e){if(1&i&&(s.ynx(0),s.YNc(1,Jie,1,0,"ng-container",4),s.BQk()),2&i){const n=s.oxw(),t=n.$implicit,r=n.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",s.HTZ(2,dD,t,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(t),"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}function ere(i,e){1&i&&s.GkF(0)}function tre(i,e){if(1&i&&(s.ynx(0,3),s.YNc(1,ere,1,0,"ng-container",4),s.BQk()),2&i){const n=s.oxw(),t=n.$implicit,r=n.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",s.HTZ(2,dD,t,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(t),"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}function nre(i,e){1&i&&s.GkF(0)}function ire(i,e){1&i&&s.GkF(0)}function rre(i,e){if(1&i&&(s.ynx(0,3),s.YNc(1,ire,1,0,"ng-container",4),s.BQk()),2&i){const n=s.oxw(2),t=n.$implicit,r=n.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",s.HTZ(2,dD,t,o.getRowIndex(r),o.columns,o.dt.isRowExpanded(t),"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}const s8=function(i,e,n,t){return{$implicit:i,rowIndex:e,columns:n,frozen:t}};function sre(i,e){if(1&i&&(s.ynx(0),s.YNc(1,nre,1,0,"ng-container",4),s.YNc(2,rre,2,9,"ng-container",2),s.BQk()),2&i){const n=s.oxw(),t=n.$implicit,r=n.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",s.l5B(3,s8,t,o.getRowIndex(r),o.columns,o.frozen)),s.xp6(1),s.Q6J("ngIf",o.dt.groupFooterTemplate&&"subheader"===o.dt.rowGroupMode&&o.shouldRenderRowGroupFooter(o.value,t,o.getRowIndex(r)))}}function ore(i,e){if(1&i&&(s.YNc(0,Xie,2,9,"ng-container",0),s.YNc(1,tre,2,9,"ng-container",2),s.YNc(2,sre,3,8,"ng-container",0)),2&i){const n=e.$implicit,t=e.index,r=s.oxw(2);s.Q6J("ngIf",!r.dt.groupHeaderTemplate),s.xp6(1),s.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,n,r.getRowIndex(t))),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(n))}}function are(i,e){if(1&i&&(s.ynx(0),s.YNc(1,ore,3,3,"ng-template",1),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngForOf",n.value)("ngForTrackBy",n.dt.rowTrackBy)}}function lre(i,e){1&i&&s.GkF(0)}function cre(i,e){1&i&&s.GkF(0)}function ure(i,e){if(1&i&&(s.ynx(0),s.YNc(1,cre,1,0,"ng-container",4),s.BQk()),2&i){const n=s.oxw(),t=n.$implicit,r=n.index,o=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",s.l5B(2,s8,t,o.getRowIndex(r),o.columns,o.frozen))}}function dre(i,e){if(1&i&&(s.YNc(0,lre,1,0,"ng-container",4),s.YNc(1,ure,2,7,"ng-container",0)),2&i){const n=e.$implicit,t=e.index,r=s.oxw(2);s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.HTZ(3,dD,n,r.getRowIndex(t),r.columns,r.dt.isRowExpanded(n),"row"===r.dt.editMode&&r.dt.isRowEditing(n),r.frozen)),s.xp6(1),s.Q6J("ngIf",r.dt.isRowExpanded(n))}}function hre(i,e){if(1&i&&(s.ynx(0),s.YNc(1,dre,2,10,"ng-template",1),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngForOf",n.value)("ngForTrackBy",n.dt.rowTrackBy)}}function pre(i,e){1&i&&s.GkF(0)}const o8=function(i,e){return{$implicit:i,frozen:e}};function fre(i,e){if(1&i&&(s.ynx(0),s.YNc(1,pre,1,0,"ng-container",4),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",n.dt.loadingBodyTemplate)("ngTemplateOutletContext",s.WLB(2,o8,n.columns,n.frozen))}}function mre(i,e){1&i&&s.GkF(0)}function gre(i,e){if(1&i&&(s.ynx(0),s.YNc(1,mre,1,0,"ng-container",4),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",n.dt.emptyMessageTemplate)("ngTemplateOutletContext",s.WLB(2,o8,n.columns,n.frozen))}}function _re(i,e){1&i&&s._UZ(0,"SortAltIcon",4),2&i&&s.Q6J("styleClass","p-sortable-column-icon")}function yre(i,e){1&i&&s._UZ(0,"SortAmountUpAltIcon",4),2&i&&s.Q6J("styleClass","p-sortable-column-icon")}function vre(i,e){1&i&&s._UZ(0,"SortAmountDownIcon",4),2&i&&s.Q6J("styleClass","p-sortable-column-icon")}function wre(i,e){if(1&i&&(s.ynx(0),s.YNc(1,_re,1,1,"SortAltIcon",3),s.YNc(2,yre,1,1,"SortAmountUpAltIcon",3),s.YNc(3,vre,1,1,"SortAmountDownIcon",3),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",0===n.sortOrder),s.xp6(1),s.Q6J("ngIf",1===n.sortOrder),s.xp6(1),s.Q6J("ngIf",-1===n.sortOrder)}}function bre(i,e){}function Cre(i,e){1&i&&s.YNc(0,bre,0,0,"ng-template")}function Ire(i,e){if(1&i&&(s.TgZ(0,"span",5),s.YNc(1,Cre,1,0,null,6),s.qZA()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",n.dt.sortIconTemplate)("ngTemplateOutletContext",s.VKq(2,tf,n.sortOrder))}}function Tre(i,e){if(1&i&&(s.TgZ(0,"span",7),s._uU(1),s.qZA()),2&i){const n=s.oxw();s.xp6(1),s.Oqu(n.getBadgeValue())}}let YR=(()=>{var i;class e{constructor(){m(this,"sortSource",new pr.x),m(this,"selectionSource",new pr.x),m(this,"contextMenuSource",new pr.x),m(this,"valueSource",new pr.x),m(this,"totalRecordsSource",new pr.x),m(this,"columnsSource",new pr.x),m(this,"sortSource$",this.sortSource.asObservable()),m(this,"selectionSource$",this.selectionSource.asObservable()),m(this,"contextMenuSource$",this.contextMenuSource.asObservable()),m(this,"valueSource$",this.valueSource.asObservable()),m(this,"totalRecordsSource$",this.totalRecordsSource.asObservable()),m(this,"columnsSource$",this.columnsSource.asObservable())}onSort(t){this.sortSource.next(t)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(t){this.contextMenuSource.next(t)}onValueChange(t){this.valueSource.next(t)}onTotalRecordsChange(t){this.totalRecordsSource.next(t)}onColumnsChange(t){this.columnsSource.next(t)}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275prov",s.Yz7({token:i,factory:i.\u0275fac})),e})(),hD=(()=>{var i;class e{get responsive(){return this._responsive}set responsive(t){this._responsive=t,console.warn("responsive property is deprecated as table is always responsive with scrollable behavior.")}get value(){return this._value}set value(t){this._value=t}get columns(){return this._columns}set columns(t){this._columns=t}get first(){return this._first}set first(t){this._first=t}get rows(){return this._rows}set rows(t){this._rows=t}get totalRecords(){return this._totalRecords}set totalRecords(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(t){this._multiSortMeta=t}get selection(){return this._selection}set selection(t){this._selection=t}get selectAll(){return this._selection}set selectAll(t){this._selection=t}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(t){this._virtualRowHeight=t,console.warn("The virtualRowHeight property is deprecated.")}constructor(t,r,o,c,d,f,_,b,T){m(this,"document",void 0),m(this,"platformId",void 0),m(this,"renderer",void 0),m(this,"el",void 0),m(this,"zone",void 0),m(this,"tableService",void 0),m(this,"cd",void 0),m(this,"filterService",void 0),m(this,"overlayService",void 0),m(this,"frozenColumns",void 0),m(this,"frozenValue",void 0),m(this,"style",void 0),m(this,"styleClass",void 0),m(this,"tableStyle",void 0),m(this,"tableStyleClass",void 0),m(this,"paginator",void 0),m(this,"pageLinks",5),m(this,"rowsPerPageOptions",void 0),m(this,"alwaysShowPaginator",!0),m(this,"paginatorPosition","bottom"),m(this,"paginatorDropdownAppendTo",void 0),m(this,"paginatorDropdownScrollHeight","200px"),m(this,"currentPageReportTemplate","{currentPage} of {totalPages}"),m(this,"showCurrentPageReport",void 0),m(this,"showJumpToPageDropdown",void 0),m(this,"showJumpToPageInput",void 0),m(this,"showFirstLastIcon",!0),m(this,"showPageLinks",!0),m(this,"defaultSortOrder",1),m(this,"sortMode","single"),m(this,"resetPageOnSort",!0),m(this,"selectionMode",void 0),m(this,"selectionPageOnly",void 0),m(this,"contextMenuSelection",void 0),m(this,"contextMenuSelectionChange",new s.vpe),m(this,"contextMenuSelectionMode","separate"),m(this,"dataKey",void 0),m(this,"metaKeySelection",void 0),m(this,"rowSelectable",void 0),m(this,"rowTrackBy",(M,R)=>R),m(this,"lazy",!1),m(this,"lazyLoadOnInit",!0),m(this,"compareSelectionBy","deepEquals"),m(this,"csvSeparator",","),m(this,"exportFilename","download"),m(this,"filters",{}),m(this,"globalFilterFields",void 0),m(this,"filterDelay",300),m(this,"filterLocale",void 0),m(this,"expandedRowKeys",{}),m(this,"editingRowKeys",{}),m(this,"rowExpandMode","multiple"),m(this,"scrollable",void 0),m(this,"scrollDirection","vertical"),m(this,"rowGroupMode",void 0),m(this,"scrollHeight",void 0),m(this,"virtualScroll",void 0),m(this,"virtualScrollItemSize",void 0),m(this,"virtualScrollOptions",void 0),m(this,"virtualScrollDelay",250),m(this,"frozenWidth",void 0),m(this,"_responsive",void 0),m(this,"contextMenu",void 0),m(this,"resizableColumns",void 0),m(this,"columnResizeMode","fit"),m(this,"reorderableColumns",void 0),m(this,"loading",void 0),m(this,"loadingIcon",void 0),m(this,"showLoader",!0),m(this,"rowHover",void 0),m(this,"customSort",void 0),m(this,"showInitialSortBadge",!0),m(this,"autoLayout",void 0),m(this,"exportFunction",void 0),m(this,"exportHeader",void 0),m(this,"stateKey",void 0),m(this,"stateStorage","session"),m(this,"editMode","cell"),m(this,"groupRowsBy",void 0),m(this,"groupRowsByOrder",1),m(this,"responsiveLayout","scroll"),m(this,"breakpoint","960px"),m(this,"selectAllChange",new s.vpe),m(this,"selectionChange",new s.vpe),m(this,"onRowSelect",new s.vpe),m(this,"onRowUnselect",new s.vpe),m(this,"onPage",new s.vpe),m(this,"onSort",new s.vpe),m(this,"onFilter",new s.vpe),m(this,"onLazyLoad",new s.vpe),m(this,"onRowExpand",new s.vpe),m(this,"onRowCollapse",new s.vpe),m(this,"onContextMenuSelect",new s.vpe),m(this,"onColResize",new s.vpe),m(this,"onColReorder",new s.vpe),m(this,"onRowReorder",new s.vpe),m(this,"onEditInit",new s.vpe),m(this,"onEditComplete",new s.vpe),m(this,"onEditCancel",new s.vpe),m(this,"onHeaderCheckboxToggle",new s.vpe),m(this,"sortFunction",new s.vpe),m(this,"firstChange",new s.vpe),m(this,"rowsChange",new s.vpe),m(this,"onStateSave",new s.vpe),m(this,"onStateRestore",new s.vpe),m(this,"containerViewChild",void 0),m(this,"resizeHelperViewChild",void 0),m(this,"reorderIndicatorUpViewChild",void 0),m(this,"reorderIndicatorDownViewChild",void 0),m(this,"wrapperViewChild",void 0),m(this,"tableViewChild",void 0),m(this,"tableHeaderViewChild",void 0),m(this,"tableFooterViewChild",void 0),m(this,"scroller",void 0),m(this,"templates",void 0),m(this,"_virtualRowHeight",28),m(this,"_value",[]),m(this,"_columns",void 0),m(this,"_totalRecords",0),m(this,"_first",0),m(this,"_rows",void 0),m(this,"filteredValue",void 0),m(this,"headerTemplate",void 0),m(this,"headerGroupedTemplate",void 0),m(this,"bodyTemplate",void 0),m(this,"loadingBodyTemplate",void 0),m(this,"captionTemplate",void 0),m(this,"footerTemplate",void 0),m(this,"footerGroupedTemplate",void 0),m(this,"summaryTemplate",void 0),m(this,"colGroupTemplate",void 0),m(this,"expandedRowTemplate",void 0),m(this,"groupHeaderTemplate",void 0),m(this,"groupFooterTemplate",void 0),m(this,"frozenExpandedRowTemplate",void 0),m(this,"frozenHeaderTemplate",void 0),m(this,"frozenBodyTemplate",void 0),m(this,"frozenFooterTemplate",void 0),m(this,"frozenColGroupTemplate",void 0),m(this,"emptyMessageTemplate",void 0),m(this,"paginatorLeftTemplate",void 0),m(this,"paginatorRightTemplate",void 0),m(this,"paginatorDropdownItemTemplate",void 0),m(this,"loadingIconTemplate",void 0),m(this,"reorderIndicatorUpIconTemplate",void 0),m(this,"reorderIndicatorDownIconTemplate",void 0),m(this,"sortIconTemplate",void 0),m(this,"checkboxIconTemplate",void 0),m(this,"headerCheckboxIconTemplate",void 0),m(this,"paginatorFirstPageLinkIconTemplate",void 0),m(this,"paginatorLastPageLinkIconTemplate",void 0),m(this,"paginatorPreviousPageLinkIconTemplate",void 0),m(this,"paginatorNextPageLinkIconTemplate",void 0),m(this,"selectionKeys",{}),m(this,"lastResizerHelperX",void 0),m(this,"reorderIconWidth",void 0),m(this,"reorderIconHeight",void 0),m(this,"draggedColumn",void 0),m(this,"draggedRowIndex",void 0),m(this,"droppedRowIndex",void 0),m(this,"rowDragging",void 0),m(this,"dropPosition",void 0),m(this,"editingCell",void 0),m(this,"editingCellData",void 0),m(this,"editingCellField",void 0),m(this,"editingCellRowIndex",void 0),m(this,"selfClick",void 0),m(this,"documentEditListener",void 0),m(this,"_multiSortMeta",void 0),m(this,"_sortField",void 0),m(this,"_sortOrder",1),m(this,"preventSelectionSetterPropagation",void 0),m(this,"_selection",void 0),m(this,"_selectAll",null),m(this,"anchorRowIndex",void 0),m(this,"rangeRowIndex",void 0),m(this,"filterTimeout",void 0),m(this,"initialized",void 0),m(this,"rowTouched",void 0),m(this,"restoringSort",void 0),m(this,"restoringFilter",void 0),m(this,"stateRestored",void 0),m(this,"columnOrderStateRestored",void 0),m(this,"columnWidthsState",void 0),m(this,"tableWidthState",void 0),m(this,"overlaySubscription",void 0),m(this,"resizeColumnElement",void 0),m(this,"columnResizing",!1),m(this,"rowGroupHeaderStyleObject",{}),m(this,"id",jn()),m(this,"styleElement",void 0),m(this,"responsiveStyleElement",void 0),m(this,"window",void 0),m(this,"_initialColWidths",void 0),this.document=t,this.platformId=r,this.renderer=o,this.el=c,this.zone=d,this.tableService=f,this.cd=_,this.filterService=b,this.overlayService=T,this.window=this.document.defaultView}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"caption":this.captionTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"headergrouped":this.headerGroupedTemplate=t.template;break;case"body":this.bodyTemplate=t.template;break;case"loadingbody":this.loadingBodyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"footergrouped":this.footerGroupedTemplate=t.template;break;case"summary":this.summaryTemplate=t.template;break;case"colgroup":this.colGroupTemplate=t.template;break;case"rowexpansion":this.expandedRowTemplate=t.template;break;case"groupheader":this.groupHeaderTemplate=t.template;break;case"groupfooter":this.groupFooterTemplate=t.template;break;case"frozenheader":this.frozenHeaderTemplate=t.template;break;case"frozenbody":this.frozenBodyTemplate=t.template;break;case"frozenfooter":this.frozenFooterTemplate=t.template;break;case"frozencolgroup":this.frozenColGroupTemplate=t.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=t.template;break;case"emptymessage":this.emptyMessageTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=t.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=t.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=t.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=t.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=t.template;break;case"sorticon":this.sortIconTemplate=t.template;break;case"checkboxicon":this.checkboxIconTemplate=t.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=t.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(t){t.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(t.value.currentValue)),t.columns&&(this._columns=t.columns.currentValue,this.tableService.onColumnsChange(t.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),t.sortField&&(this._sortField=t.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),t.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),t.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),t.selectAll&&(this._selectAll=t.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get processedData(){return this.filteredValue||this.value||[]}dataToRender(t){const r=t||this.processedData;if(r&&this.paginator){const o=this.lazy?0:this.first;return r.slice(o,o+this.rows)}return r}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let t of this._selection)this.selectionKeys[String(et.resolveFieldData(t,this.dataKey))]=1;else this.selectionKeys[String(et.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(t){this.first=t.first,this.rows=t.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(t){let r=t.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===t.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=t.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let o=r.metaKey||r.ctrlKey,c=this.getSortMeta(t.field);c?o?c.order=-1*c.order:(this._multiSortMeta=[{field:t.field,order:-1*c.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!o||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let t=this.sortField||this.groupRowsBy,r=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(t&&r){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:t,order:r}):(this.value.sort((c,d)=>{let f=et.resolveFieldData(c,t),_=et.resolveFieldData(d,t),b=null;return b=null==f&&null!=_?-1:null!=f&&null==_?1:null==f&&null==_?0:"string"==typeof f&&"string"==typeof _?f.localeCompare(_):f<_?-1:f>_?1:0,r*b}),this._value=[...this.value]),this.hasFilter()&&this._filter());let o={field:t,order:r};this.onSort.emit(o),this.tableService.onSort(o)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((t,r)=>this.multisortField(t,r,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(t,r,o,c){const d=et.resolveFieldData(t,o[c].field),f=et.resolveFieldData(r,o[c].field);return 0===et.compare(d,f,this.filterLocale)?o.length-1>c?this.multisortField(t,r,o,c+1):0:this.compareValuesOnSort(d,f,o[c].order)}compareValuesOnSort(t,r,o){return et.sort(t,r,o,this.filterLocale,this.sortOrder)}getSortMeta(t){if(this.multiSortMeta&&this.multiSortMeta.length)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field===t)return this.multiSortMeta[r];return null}isSorted(t){if("single"===this.sortMode)return this.sortField&&this.sortField===t;if("multiple"===this.sortMode){let r=!1;if(this.multiSortMeta)for(let o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field==t){r=!0;break}return r}}handleRowClick(t){let r=t.originalEvent.target,o=r.nodeName,c=r.parentElement&&r.parentElement.nodeName;if("INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&"INPUT"!=c&&"BUTTON"!=c&&"A"!=c&&!ee.hasClass(t.originalEvent.target,"p-clickable")){if(this.selectionMode){let d=t.rowData,f=t.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&t.originalEvent.shiftKey&&null!=this.anchorRowIndex)ee.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(t.originalEvent),this.rangeRowIndex=f,this.selectRange(t.originalEvent,f);else{let _=this.isSelected(d);if(!_&&!this.isRowSelectable(d,f))return;let b=!this.rowTouched&&this.metaKeySelection,T=this.dataKey?String(et.resolveFieldData(d,this.dataKey)):null;if(this.anchorRowIndex=f,this.rangeRowIndex=f,b){let M=t.originalEvent.metaKey||t.originalEvent.ctrlKey;if(_&&M){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let R=this.findIndexInSelection(d);this._selection=this.selection.filter((B,K)=>K!=R),this.selectionChange.emit(this.selection),T&&delete this.selectionKeys[T]}this.onRowUnselect.emit({originalEvent:t.originalEvent,data:d,type:"row"})}else this.isSingleSelectionMode()?(this._selection=d,this.selectionChange.emit(d),T&&(this.selectionKeys={},this.selectionKeys[T]=1)):this.isMultipleSelectionMode()&&(M?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,d],this.selectionChange.emit(this.selection),T&&(this.selectionKeys[T]=1)),this.onRowSelect.emit({originalEvent:t.originalEvent,data:d,type:"row",index:f})}else if("single"===this.selectionMode)_?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:d,type:"row",index:f})):(this._selection=d,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:d,type:"row",index:f}),T&&(this.selectionKeys={},this.selectionKeys[T]=1));else if("multiple"===this.selectionMode)if(_){let M=this.findIndexInSelection(d);this._selection=this.selection.filter((R,B)=>B!=M),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:d,type:"row",index:f}),T&&delete this.selectionKeys[T]}else this._selection=this.selection?[...this.selection,d]:[d],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:d,type:"row",index:f}),T&&(this.selectionKeys[T]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(t){this.rowTouched=!0}handleRowRightClick(t){if(this.contextMenu){const r=t.rowData,o=t.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=r,this.contextMenuSelectionChange.emit(r),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,data:r,index:t.rowIndex}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(r);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let c=this.isSelected(r),d=this.dataKey?String(et.resolveFieldData(r,this.dataKey)):null;if(!c){if(!this.isRowSelectable(r,o))return;this.isSingleSelectionMode()?(this.selection=r,this.selectionChange.emit(r),d&&(this.selectionKeys={},this.selectionKeys[d]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,r]:[r],this.selectionChange.emit(this.selection),d&&(this.selectionKeys[d]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t,data:r,index:t.rowIndex})}}}selectRange(t,r){let o,c;this.anchorRowIndex>r?(o=r,c=this.anchorRowIndex):this.anchorRowIndex<r?(o=this.anchorRowIndex,c=r):(o=r,c=r),this.lazy&&this.paginator&&(o-=this.first,o-=this.first);let d=[];for(let f=o;f<=c;f++){let _=this.filteredValue?this.filteredValue[f]:this.value[f];if(!this.isSelected(_)){if(!this.isRowSelectable(_,r))continue;d.push(_),this._selection=[...this.selection,_];let b=this.dataKey?String(et.resolveFieldData(_,this.dataKey)):null;b&&(this.selectionKeys[b]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t,data:d,type:"row"})}clearSelectionRange(t){let r,o,c=this.rangeRowIndex,d=this.anchorRowIndex;c>d?(r=this.anchorRowIndex,o=this.rangeRowIndex):c<d?(r=this.rangeRowIndex,o=this.anchorRowIndex):(r=this.rangeRowIndex,o=this.rangeRowIndex);for(let f=r;f<=o;f++){let _=this.value[f],b=this.findIndexInSelection(_);this._selection=this.selection.filter((M,R)=>R!=b);let T=this.dataKey?String(et.resolveFieldData(_,this.dataKey)):null;T&&delete this.selectionKeys[T],this.onRowUnselect.emit({originalEvent:t,data:_,type:"row"})}}isSelected(t){return!(!t||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[et.resolveFieldData(t,this.dataKey)]:Array.isArray(this.selection)?this.findIndexInSelection(t)>-1:this.equals(t,this.selection))}findIndexInSelection(t){let r=-1;if(this.selection&&this.selection.length)for(let o=0;o<this.selection.length;o++)if(this.equals(t,this.selection[o])){r=o;break}return r}isRowSelectable(t,r){return!(this.rowSelectable&&!this.rowSelectable({data:t,index:r}))}toggleRowWithRadio(t,r){if(this.preventSelectionSetterPropagation=!0,this.selection!=r){if(!this.isRowSelectable(r,t.rowIndex))return;this._selection=r,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:r,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(et.resolveFieldData(r,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:r,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(t,r){this.selection=this.selection||[];let o=this.isSelected(r),c=this.dataKey?String(et.resolveFieldData(r,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,o){let d=this.findIndexInSelection(r);this._selection=this.selection.filter((f,_)=>_!=d),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:r,type:"checkbox"}),c&&delete this.selectionKeys[c]}else{if(!this.isRowSelectable(r,t.rowIndex))return;this._selection=this.selection?[...this.selection,r]:[r],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:r,type:"checkbox"}),c&&(this.selectionKeys[c]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(t,r){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:t,checked:r});else{const o=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData;let c=this.selectionPageOnly&&this._selection?this._selection.filter(d=>!o.some(f=>this.equals(d,f))):[];r&&(c=this.frozenValue?[...c,...this.frozenValue,...o]:[...c,...o],c=this.rowSelectable?c.filter((d,f)=>this.rowSelectable({data:d,index:f})):c),this._selection=c,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:r}),this.isStateful()&&this.saveState()}}equals(t,r){return"equals"===this.compareSelectionBy?t===r:et.equals(t,r,this.dataKey)}filter(t,r,o){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[r]&&delete this.filters[r]:this.filters[r]={value:t,matchMode:o},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(t,r){this.filter(t,"global",r)}isFilterBlank(t){return null==t||!!("string"==typeof t&&0==t.trim().length||Array.isArray(t)&&0==t.length)}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredValue=[];for(let r=0;r<this.value.length;r++){let f,o=!0,c=!1,d=!1;for(let _ in this.filters)if(this.filters.hasOwnProperty(_)&&"global"!==_){d=!0;let b=_,T=this.filters[b];if(Array.isArray(T)){for(let M of T)if(o=this.executeLocalFilter(b,this.value[r],M),M.operator===h9.OR&&o||M.operator===h9.AND&&!o)break}else o=this.executeLocalFilter(b,this.value[r],T);if(!o)break}if(this.filters.global&&!c&&t)for(let _=0;_<t.length&&(c=this.filterService.filters[this.filters.global.matchMode](et.resolveFieldData(this.value[r],t[_].field||t[_]),this.filters.global.value,this.filterLocale),!c);_++);f=this.filters.global?d?d&&o&&c:c:d&&o,f&&this.filteredValue.push(this.value[r])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(t,r,o){let c=o.value,d=o.matchMode||Hs.STARTS_WITH,f=et.resolveFieldData(r,t);return(0,this.filterService.filters[d])(f,c,this.filterLocale)}hasFilter(){let t=!0;for(let r in this.filters)if(this.filters.hasOwnProperty(r)){t=!1;break}return!t}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.clearFilterValues(),this.filteredValue=null,this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}clearFilterValues(){for(const[,t]of Object.entries(this.filters))if(Array.isArray(t))for(let r of t)r.value=null;else t&&(t.value=null)}reset(){this.clear()}getExportHeader(t){return t[this.exportHeader]||t.header||t.field}exportCSV(t){let r,o="",c=this.columns;t&&t.selectionOnly?r=this.selection||[]:t&&t.allValues?r=this.value||[]:(r=this.filteredValue||this.value,this.frozenValue&&(r=r?[...this.frozenValue,...r]:this.frozenValue));for(let _=0;_<c.length;_++){let b=c[_];!1!==b.exportable&&b.field&&(o+='"'+this.getExportHeader(b)+'"',_<c.length-1&&(o+=this.csvSeparator))}r.forEach((_,b)=>{o+="\n";for(let T=0;T<c.length;T++){let M=c[T];if(!1!==M.exportable&&M.field){let R=et.resolveFieldData(_,M.field);R=null!=R?this.exportFunction?this.exportFunction({data:R,field:M.field}):String(R).replace(/"/g,'""'):"",o+='"'+R+'"',T<c.length-1&&(o+=this.csvSeparator)}}});let d=new Blob([o],{type:"text/csv;charset=utf-8;"}),f=this.renderer.createElement("a");f.style.display="none",this.renderer.appendChild(this.document.body,f),void 0!==f.download?(f.setAttribute("href",URL.createObjectURL(d)),f.setAttribute("download",this.exportFilename+".csv"),f.click()):(o="data:text/csv;charset=utf-8,"+o,this.window.open(encodeURI(o))),this.renderer.removeChild(this.document.body,f)}onLazyItemLoad(t){this.onLazyLoad.emit({...this.createLazyLoadMetadata(),...t,rows:t.last-t.first})}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(t){this.scroller&&this.scroller.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller?.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}updateEditingCell(t,r,o,c){this.editingCell=t,this.editingCellData=r,this.editingCellField=o,this.editingCellRowIndex=c,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===ee.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",t=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(ee.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:t,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}initRowEdit(t){let r=String(et.resolveFieldData(t,this.dataKey));this.editingRowKeys[r]=!0}saveRowEdit(t,r){if(0===ee.find(r,".ng-invalid.ng-dirty").length){let o=String(et.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[o]}}cancelRowEdit(t){let r=String(et.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[r]}toggleRow(t,r){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let o=String(et.resolveFieldData(t,this.dataKey));null!=this.expandedRowKeys[o]?(delete this.expandedRowKeys[o],this.onRowCollapse.emit({originalEvent:r,data:t})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[o]=!0,this.onRowExpand.emit({originalEvent:r,data:t})),r&&r.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(t){return!0===this.expandedRowKeys[String(et.resolveFieldData(t,this.dataKey))]}isRowEditing(t){return!0===this.editingRowKeys[String(et.resolveFieldData(t,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(t){let r=ee.getOffset(this.containerViewChild?.nativeElement).left;this.resizeColumnElement=t.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=t.pageX-r+this.containerViewChild?.nativeElement.scrollLeft,this.onColumnResize(t),t.preventDefault()}onColumnResize(t){let r=ee.getOffset(this.containerViewChild?.nativeElement).left;ee.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=t.pageX-r+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let t=this.resizeHelperViewChild?.nativeElement.offsetLeft-this.lastResizerHelperX,o=this.resizeColumnElement.offsetWidth+t;if(o>=(this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15)){if("fit"===this.columnResizeMode){let f=this.resizeColumnElement.nextElementSibling.offsetWidth-t;o>15&&f>15&&this.resizeTableCells(o,f)}else"expand"===this.columnResizeMode&&(this._initialColWidths=this._totalTableWidth(),this.setResizeTableWidth(this.tableViewChild?.nativeElement.offsetWidth+t+"px"),this.resizeTableCells(o,null));this.onColResize.emit({element:this.resizeColumnElement,delta:t}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",ee.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}_totalTableWidth(){let t=[];const r=ee.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");return ee.find(r,"tr > th").forEach(c=>t.push(ee.getOuterWidth(c))),t}resizeTableCells(t,r){let o=ee.index(this.resizeColumnElement),c="expand"===this.columnResizeMode?this._initialColWidths:this._totalTableWidth();this.destroyStyleElement(),this.createStyleElement();let d="";c.forEach((f,_)=>{let b=_===o?t:r&&_===o+1?r:f;d+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${_+1}),\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${_+1}),\n                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${_+1}) {\n                    width: ${b}px !important; max-width: ${b}px !important;\n                }\n            `}),this.renderer.setProperty(this.styleElement,"innerHTML",d)}onColumnDragStart(t,r){this.reorderIconWidth=ee.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=ee.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=r,t.dataTransfer.setData("text","b")}onColumnDragEnter(t,r){if(this.reorderableColumns&&this.draggedColumn&&r){t.preventDefault();let o=ee.getOffset(this.containerViewChild?.nativeElement),c=ee.getOffset(r);if(this.draggedColumn!=r){ee.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),ee.indexWithinGroup(r,"preorderablecolumn");let _=c.left-o.left,T=c.left+r.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=c.top-o.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=c.top-o.top+r.offsetHeight+"px",t.pageX>T?(this.reorderIndicatorUpViewChild.nativeElement.style.left=_+r.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=_+r.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=_-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=_-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else t.dataTransfer.dropEffect="none"}}onColumnDragLeave(t){this.reorderableColumns&&this.draggedColumn&&t.preventDefault()}onColumnDrop(t,r){if(t.preventDefault(),this.draggedColumn){let o=ee.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),c=ee.indexWithinGroup(r,"preorderablecolumn"),d=o!=c;d&&(c-o==1&&-1===this.dropPosition||o-c==1&&1===this.dropPosition)&&(d=!1),d&&c<o&&1===this.dropPosition&&(c+=1),d&&c>o&&-1===this.dropPosition&&(c-=1),d&&(et.reorderArray(this.columns,o,c),this.onColReorder.emit({dragIndex:o,dropIndex:c,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(t,r){this.rowDragging=!0,this.draggedRowIndex=r,t.dataTransfer.setData("text","b")}onRowDragOver(t,r,o){if(this.rowDragging&&this.draggedRowIndex!==r){let c=ee.getOffset(o).top,d=t.pageY,f=c+ee.getOuterHeight(o)/2,_=o.previousElementSibling;d<f?(ee.removeClass(o,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=r,_?ee.addClass(_,"p-datatable-dragpoint-bottom"):ee.addClass(o,"p-datatable-dragpoint-top")):(_?ee.removeClass(_,"p-datatable-dragpoint-bottom"):ee.addClass(o,"p-datatable-dragpoint-top"),this.droppedRowIndex=r+1,ee.addClass(o,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(t,r){let o=r.previousElementSibling;o&&ee.removeClass(o,"p-datatable-dragpoint-bottom"),ee.removeClass(r,"p-datatable-dragpoint-bottom"),ee.removeClass(r,"p-datatable-dragpoint-top")}onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(t,r){if(null!=this.droppedRowIndex){let o=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;et.reorderArray(this.value,this.draggedRowIndex,o),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:o})}this.onRowDragLeave(t,r),this.onRowDragEnd(t)}isEmpty(){let t=this.filteredValue||this.value;return null==t||0==t.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){if(!si(this.platformId))throw new Error("Browser storage is not available in the server side.");switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const t=this.getStorage();let r={};this.paginator&&(r.first=this.first,r.rows=this.rows),this.sortField&&(r.sortField=this.sortField,r.sortOrder=this.sortOrder),this.multiSortMeta&&(r.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(r.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(r),this.reorderableColumns&&this.saveColumnOrder(r),this.selection&&(r.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(r.expandedRowKeys=this.expandedRowKeys),t.setItem(this.stateKey,JSON.stringify(r)),this.onStateSave.emit(r)}clearState(){const t=this.getStorage();this.stateKey&&t.removeItem(this.stateKey)}restoreState(){const r=this.getStorage().getItem(this.stateKey),o=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(r){let d=JSON.parse(r,function(d,f){return"string"==typeof f&&o.test(f)?new Date(f):f});this.paginator&&(void 0!==this.first&&(this.first=d.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=d.rows,this.rowsChange.emit(this.rows))),d.sortField&&(this.restoringSort=!0,this._sortField=d.sortField,this._sortOrder=d.sortOrder),d.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=d.multiSortMeta),d.filters&&(this.restoringFilter=!0,this.filters=d.filters),this.resizableColumns&&(this.columnWidthsState=d.columnWidths,this.tableWidthState=d.tableWidth),d.expandedRowKeys&&(this.expandedRowKeys=d.expandedRowKeys),d.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(d.selection)),this.stateRestored=!0,this.onStateRestore.emit(d)}}saveColumnWidths(t){let r=[];ee.find(this.containerViewChild?.nativeElement,".p-datatable-thead > tr > th").forEach(c=>r.push(ee.getOuterWidth(c))),t.columnWidths=r.join(","),"expand"===this.columnResizeMode&&(t.tableWidth=ee.getOuterWidth(this.tableViewChild?.nativeElement))}setResizeTableWidth(t){this.tableViewChild.nativeElement.style.width=t,this.tableViewChild.nativeElement.style.minWidth=t}restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),et.isNotEmpty(t)){this.createStyleElement();let r="";t.forEach((o,c)=>{r+=`\n                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${c+1}),\n                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${c+1}),\n                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${c+1}) {\n                            width: ${o}px !important; max-width: ${o}px !important\n                        }\n                    `}),this.styleElement.innerHTML=r}}}saveColumnOrder(t){if(this.columns){let r=[];this.columns.map(o=>{r.push(o.field||o.key)}),t.columnOrder=r}}restoreColumnOrder(){const r=this.getStorage().getItem(this.stateKey);if(r){let c=JSON.parse(r).columnOrder;if(c){let d=[];c.map(f=>{let _=this.findColumnByKey(f);_&&d.push(_)}),this.columnOrderStateRestored=!0,this.columns=d}}}findColumnByKey(t){if(!this.columns)return null;for(let r of this.columns)if(r.key===t||r.field===t)return r}createStyleElement(){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){si(this.platformId)&&!this.responsiveStyleElement&&(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",this.renderer.appendChild(this.document.head,this.responsiveStyleElement),this.renderer.setProperty(this.responsiveStyleElement,"innerHTML",`\n    @media screen and (max-width: ${this.breakpoint}) {\n        #${this.id}-table > .p-datatable-thead > tr > th,\n        #${this.id}-table > .p-datatable-tfoot > tr > td {\n            display: none !important;\n        }\n    \n        #${this.id}-table > .p-datatable-tbody > tr > td {\n            display: flex;\n            width: 100% !important;\n            align-items: center;\n            justify-content: space-between;\n        }\n    \n        #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {\n            border: 0 none;\n        }\n    \n        #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {\n            border-top: 0;\n            border-right: 0;\n            border-left: 0;\n        }\n    \n        #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {\n            display: block;\n        }\n    }\n    `))}destroyResponsiveStyle(){this.responsiveStyleElement&&(this.renderer.removeChild(this.document.head,this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(ye),s.Y36(s.Lbi),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(YR),s.Y36(s.sBO),s.Y36(OR),s.Y36(LR))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-table"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&(s.Gf(Cne,5),s.Gf(Ine,5),s.Gf(Tne,5),s.Gf(Ene,5),s.Gf(xne,5),s.Gf(Sne,5),s.Gf(Dne,5),s.Gf(Ane,5),s.Gf(Mne,5)),2&t){let o;s.iGM(o=s.CRH())&&(r.containerViewChild=o.first),s.iGM(o=s.CRH())&&(r.resizeHelperViewChild=o.first),s.iGM(o=s.CRH())&&(r.reorderIndicatorUpViewChild=o.first),s.iGM(o=s.CRH())&&(r.reorderIndicatorDownViewChild=o.first),s.iGM(o=s.CRH())&&(r.wrapperViewChild=o.first),s.iGM(o=s.CRH())&&(r.tableViewChild=o.first),s.iGM(o=s.CRH())&&(r.tableHeaderViewChild=o.first),s.iGM(o=s.CRH())&&(r.tableFooterViewChild=o.first),s.iGM(o=s.CRH())&&(r.scroller=o.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:"virtualScrollDelay",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll",virtualRowHeight:"virtualRowHeight"},outputs:{contextMenuSelectionChange:"contextMenuSelectionChange",selectAllChange:"selectAllChange",selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[s._Bn([YR]),s.TTD],decls:16,vars:22,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInTable",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","p-datatable-reorder-indicator-up","style","display: none;",4,"ngIf"],["class","p-datatable-reorder-indicator-down","style","display: none;",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-datatable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-datatable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-datatable-header"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[3,"items","columns","scrollHeight","itemSize","step","delay","inline","lazy","loaderDisabled","showSpacer","showLoader","options","autoSize","onLazyLoad"],["scroller",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass"],["table",""],[1,"p-datatable-thead"],["thead",""],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"ngClass","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["class","p-datatable-scroller-spacer",3,"style",4,"ngIf"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-scroller-spacer"],[1,"p-datatable-tfoot"],["tfoot",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(t,r){1&t&&(s.TgZ(0,"div",0,1),s.YNc(2,Fne,3,2,"div",2),s.YNc(3,Bne,2,1,"div",3),s.YNc(4,Jne,5,21,"p-paginator",4),s.TgZ(5,"div",5,6),s.YNc(7,nie,3,17,"p-scroller",7),s.YNc(8,sie,2,7,"ng-container",8),s.YNc(9,pie,10,28,"ng-template",null,9,s.W1O),s.qZA(),s.YNc(11,xie,5,21,"p-paginator",10),s.YNc(12,Die,2,1,"div",11),s.YNc(13,Aie,2,0,"div",12),s.YNc(14,Rie,4,2,"span",13),s.YNc(15,Fie,4,2,"span",14),s.qZA()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngStyle",r.style)("ngClass",s.kEZ(16,Vie,r.rowHover||r.selectionMode,r.scrollable,r.scrollable&&"flex"===r.scrollHeight)),s.uIk("id",r.id),s.xp6(2),s.Q6J("ngIf",r.loading&&r.showLoader),s.xp6(1),s.Q6J("ngIf",r.captionTemplate),s.xp6(1),s.Q6J("ngIf",r.paginator&&("top"===r.paginatorPosition||"both"==r.paginatorPosition)),s.xp6(1),s.Q6J("ngStyle",s.VKq(20,Bie,r.virtualScroll?"":r.scrollHeight)),s.xp6(2),s.Q6J("ngIf",r.virtualScroll),s.xp6(1),s.Q6J("ngIf",!r.virtualScroll),s.xp6(3),s.Q6J("ngIf",r.paginator&&("bottom"===r.paginatorPosition||"both"==r.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",r.summaryTemplate),s.xp6(1),s.Q6J("ngIf",r.resizableColumns),s.xp6(1),s.Q6J("ngIf",r.reorderableColumns),s.xp6(1),s.Q6J("ngIf",r.reorderableColumns))},dependencies:function(){return[Pn,An,Zn,Gn,U9,ir,A9,J9,X9,Jp,fse]},styles:[".p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-icon-wrapper{display:inline}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:1}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}\n"],encapsulation:2})),e})(),fse=(()=>{var i;class e{get value(){return this._value}set value(t){this._value=t,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}constructor(t,r,o,c){m(this,"dt",void 0),m(this,"tableService",void 0),m(this,"cd",void 0),m(this,"el",void 0),m(this,"columns",void 0),m(this,"template",void 0),m(this,"frozen",void 0),m(this,"frozenRows",void 0),m(this,"scrollerOptions",void 0),m(this,"subscription",void 0),m(this,"_value",void 0),this.dt=t,this.tableService=r,this.cd=o,this.el=c,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}shouldRenderRowGroupHeader(t,r,o){let c=et.resolveFieldData(r,this.dt.groupRowsBy),d=t[o-1];return!d||c!==et.resolveFieldData(d,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(t,r,o){let c=et.resolveFieldData(r,this.dt.groupRowsBy),d=t[o+1];return!d||c!==et.resolveFieldData(d,this.dt.groupRowsBy)}shouldRenderRowspan(t,r,o){let c=et.resolveFieldData(r,this.dt.groupRowsBy),d=t[o-1];return!d||c!==et.resolveFieldData(d,this.dt.groupRowsBy)}calculateRowGroupSize(t,r,o){let c=et.resolveFieldData(r,this.dt.groupRowsBy),d=c,f=0;for(;c===d;){f++;let _=t[++o];if(!_)break;d=et.resolveFieldData(_,this.dt.groupRowsBy)}return 1===f?null:f}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=ee.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let t=ee.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=t+"px"}}getScrollerOption(t,r){return this.dt.virtualScroll&&(r=r||this.scrollerOptions)?r[t]:null}getRowIndex(t){const r=this.dt.paginator?this.dt.first+t:t,o=this.getScrollerOption("getItemOptions");return o?o(r).index:r}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(hD),s.Y36(YR),s.Y36(s.sBO),s.Y36(s.SBq))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows",scrollerOptions:"scrollerOptions"},attrs:Uie,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(s.YNc(0,Qie,2,2,"ng-container",0),s.YNc(1,are,2,2,"ng-container",0),s.YNc(2,hre,2,2,"ng-container",0),s.YNc(3,fre,2,5,"ng-container",0),s.YNc(4,gre,2,5,"ng-container",0)),2&t&&(s.Q6J("ngIf",!r.dt.expandedRowTemplate),s.xp6(1),s.Q6J("ngIf",r.dt.expandedRowTemplate&&!(r.frozen&&r.dt.frozenExpandedRowTemplate)),s.xp6(1),s.Q6J("ngIf",r.dt.frozenExpandedRowTemplate&&r.frozen),s.xp6(1),s.Q6J("ngIf",r.dt.loading),s.xp6(1),s.Q6J("ngIf",r.dt.isEmpty()&&!r.dt.loading))},dependencies:[ns,An,Zn],encapsulation:2})),e})(),mse=(()=>{var i;class e{constructor(t){m(this,"dt",void 0),m(this,"field",void 0),m(this,"pSortableColumnDisabled",void 0),m(this,"sorted",void 0),m(this,"sortOrder",void 0),m(this,"subscription",void 0),this.dt=t,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(r=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(t){this.isEnabled()&&!this.isFilterElement(t.target)&&(this.updateSortState(),this.dt.sort({originalEvent:t,field:this.field}),ee.clearSelection())}onEnterKey(t){this.onClick(t)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(t){return ee.hasClass(t,"pi-filter-icon")||ee.hasClass(t,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(hD))}),m(e,"\u0275dir",s.lG2({type:i,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(t,r){1&t&&s.NdJ("click",function(c){return r.onClick(c)})("keydown.enter",function(c){return r.onEnterKey(c)}),2&t&&(s.uIk("tabindex",r.isEnabled()?"0":null)("role","columnheader")("aria-sort",r.sortOrder),s.ekj("p-sortable-column",r.isEnabled())("p-highlight",r.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}})),e})(),gse=(()=>{var i;class e{constructor(t,r){m(this,"dt",void 0),m(this,"cd",void 0),m(this,"field",void 0),m(this,"subscription",void 0),m(this,"sortOrder",void 0),this.dt=t,this.cd=r,this.subscription=this.dt.tableService.sortSource$.subscribe(o=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(t){t.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let t=this.dt.getSortMeta(this.field);this.sortOrder=t?t.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let t=this.dt._multiSortMeta,r=-1;if(t&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||t.length>1))for(let o=0;o<t.length;o++){let c=t[o];if(c.field===this.field||c.field===this.field){r=o;break}}return r}getBadgeValue(){let t=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&t>-1?t:t+1}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(hD),s.Y36(s.sBO))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:3,vars:3,consts:[[4,"ngIf"],["class","p-sortable-column-icon",4,"ngIf"],["class","p-sortable-column-badge",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-sortable-column-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-sortable-column-badge"]],template:function(t,r){1&t&&(s.YNc(0,wre,4,3,"ng-container",0),s.YNc(1,Ire,2,4,"span",1),s.YNc(2,Tre,2,1,"span",2)),2&t&&(s.Q6J("ngIf",!r.dt.sortIconTemplate),s.xp6(1),s.Q6J("ngIf",r.dt.sortIconTemplate),s.xp6(1),s.Q6J("ngIf",r.isMultiSorted()))},dependencies:function(){return[An,Zn,e8,n8,t8]},encapsulation:2,changeDetection:0})),e})(),_se=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,H9,zR,lD,cm,e_,Jte,E9,cD,vne,aD,J9,X9,Jp,e8,n8,t8,ef,wne,bne,Kn,aD]})),e})(),KR=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1)(3,"path",2)(4,"path",3),s.qZA(),s.TgZ(5,"defs")(6,"clipPath",4),s._UZ(7,"rect",5),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(5),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),QR=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["InfoCircleIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),JR=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["TimesCircleIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})();const a8=["container"];function yse(i,e){if(1&i&&s._UZ(0,"span"),2&i){const n=s.oxw(2);s.Tol("p-toast-message-icon pi "+n.message.icon)}}function vse(i,e){1&i&&s._UZ(0,"CheckIcon"),2&i&&s.uIk("aria-hidden",!0)("data-pc-section","icon")}function wse(i,e){1&i&&s._UZ(0,"InfoCircleIcon"),2&i&&s.uIk("aria-hidden",!0)("data-pc-section","icon")}function bse(i,e){1&i&&s._UZ(0,"TimesCircleIcon"),2&i&&s.uIk("aria-hidden",!0)("data-pc-section","icon")}function Cse(i,e){1&i&&s._UZ(0,"ExclamationTriangleIcon"),2&i&&s.uIk("aria-hidden",!0)("data-pc-section","icon")}function Ise(i,e){if(1&i&&(s.TgZ(0,"span",11),s.ynx(1),s.YNc(2,vse,1,2,"CheckIcon",3),s.YNc(3,wse,1,2,"InfoCircleIcon",3),s.YNc(4,bse,1,2,"TimesCircleIcon",3),s.YNc(5,Cse,1,2,"ExclamationTriangleIcon",3),s.BQk(),s.qZA()),2&i){const n=s.oxw(2);s.uIk("aria-hidden",!0)("data-pc-section","icon"),s.xp6(2),s.Q6J("ngIf","success"===n.message.severity),s.xp6(1),s.Q6J("ngIf","info"===n.message.severity),s.xp6(1),s.Q6J("ngIf","error"===n.message.severity),s.xp6(1),s.Q6J("ngIf","warn"===n.message.severity)}}function Tse(i,e){if(1&i&&(s.ynx(0),s.YNc(1,yse,1,2,"span",5),s.YNc(2,Ise,6,6,"span",7),s.TgZ(3,"div",8)(4,"div",9),s._uU(5),s.qZA(),s.TgZ(6,"div",10),s._uU(7),s.qZA()(),s.BQk()),2&i){const n=s.oxw();s.xp6(1),s.Q6J("ngIf",n.message.icon),s.xp6(1),s.Q6J("ngIf",!n.message.icon),s.xp6(1),s.uIk("data-pc-section","text"),s.xp6(1),s.uIk("data-pc-section","summary"),s.xp6(1),s.Oqu(n.message.summary),s.xp6(1),s.uIk("data-pc-section","detail"),s.xp6(1),s.Oqu(n.message.detail)}}function Ese(i,e){1&i&&s.GkF(0)}function xse(i,e){if(1&i&&s._UZ(0,"span"),2&i){const n=s.oxw();s.Tol("p-toast-message-icon pi "+n.message.closeIcon)}}function Sse(i,e){1&i&&s._UZ(0,"TimesIcon",14),2&i&&(s.Q6J("styleClass","p-toast-icon-close-icon"),s.uIk("aria-hidden",!0)("data-pc-section","closeicon"))}function Dse(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",12),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onCloseIconClick(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onCloseIconClick(r))}),s.YNc(1,Sse,1,3,"TimesIcon",13),s.qZA()}if(2&i){const n=s.oxw();s.uIk("aria-label","Close")("data-pc-section","closebutton"),s.xp6(1),s.Q6J("ngIf",!n.message.closeIcon)}}const Ase=function(i){return[i,"p-toast-message"]},Mse=function(i,e,n,t){return{showTransformParams:i,hideTransformParams:e,showTransitionParams:n,hideTransitionParams:t}},kse=function(i){return{value:"visible",params:i}},Pse=function(i){return{$implicit:i}};function Rse(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-toastItem",3),s.NdJ("onClose",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onMessageClose(r))})("@toastAnimation.start",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onAnimationStart(r))})("@toastAnimation.done",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onAnimationEnd(r))}),s.qZA()}if(2&i){const n=e.$implicit,t=e.index,r=s.oxw();s.Q6J("message",n)("index",t)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let Ose=(()=>{var i;class e{constructor(t){m(this,"zone",void 0),m(this,"message",void 0),m(this,"index",void 0),m(this,"template",void 0),m(this,"showTransformOptions",void 0),m(this,"hideTransformOptions",void 0),m(this,"showTransitionOptions",void 0),m(this,"hideTransitionOptions",void 0),m(this,"onClose",new s.vpe),m(this,"containerViewChild",void 0),m(this,"timeout",void 0),this.zone=t}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(t){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.R0b))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-toastItem"]],viewQuery:function(t,r){if(1&t&&s.Gf(a8,5),2&t){let o;s.iGM(o=s.CRH())&&(r.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:7,vars:25,consts:[["role","alert","aria-live","assertive","aria-atomic","true",3,"ngClass","mouseenter","mouseleave"],["container",""],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0,1),s.NdJ("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),s.TgZ(2,"div",2),s.YNc(3,Tse,8,7,"ng-container",3),s.YNc(4,Ese,1,0,"ng-container",4),s.YNc(5,xse,1,2,"span",5),s.YNc(6,Dse,2,3,"button",6),s.qZA()()),2&t&&(s.Tol(null==r.message?null:r.message.styleClass),s.Q6J("ngClass",s.VKq(14,Ase,"p-toast-message-"+(null==r.message?null:r.message.severity)))("@messageState",s.VKq(21,kse,s.l5B(16,Mse,r.showTransformOptions,r.hideTransformOptions,r.showTransitionOptions,r.hideTransitionOptions))),s.uIk("id",null==r.message?null:r.message.id)("data-pc-name","toast")("data-pc-section","root"),s.xp6(2),s.Q6J("ngClass",null==r.message?null:r.message.contentStyleClass),s.uIk("data-pc-section","content"),s.xp6(1),s.Q6J("ngIf",!r.template),s.xp6(1),s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.VKq(23,Pse,r.message)),s.xp6(1),s.Q6J("ngIf",r.message.closeIcon),s.xp6(1),s.Q6J("ngIf",!1!==(null==r.message?null:r.message.closable)))},dependencies:function(){return[Pn,An,Zn,Zd,ef,QR,JR,KR,zs]},encapsulation:2,data:{animation:[ls("messageState",[Ba("visible",oi({transform:"translateY(0)",opacity:1})),ur("void => *",[oi({transform:"{{showTransformParams}}",opacity:0}),Hn("{{showTransitionParams}}")]),ur("* => void",[Hn("{{hideTransitionParams}}",oi({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})),e})(),Nse=(()=>{var i;class e{constructor(t,r,o,c,d){m(this,"document",void 0),m(this,"renderer",void 0),m(this,"messageService",void 0),m(this,"cd",void 0),m(this,"config",void 0),m(this,"key",void 0),m(this,"autoZIndex",!0),m(this,"baseZIndex",0),m(this,"style",void 0),m(this,"styleClass",void 0),m(this,"position","top-right"),m(this,"preventOpenDuplicates",!1),m(this,"preventDuplicates",!1),m(this,"showTransformOptions","translateY(100%)"),m(this,"hideTransformOptions","translateY(-100%)"),m(this,"showTransitionOptions","300ms ease-out"),m(this,"hideTransitionOptions","250ms ease-in"),m(this,"breakpoints",void 0),m(this,"onClose",new s.vpe),m(this,"containerViewChild",void 0),m(this,"templates",void 0),m(this,"messageSubscription",void 0),m(this,"clearSubscription",void 0),m(this,"messages",void 0),m(this,"messagesArchieve",void 0),m(this,"template",void 0),m(this,"styleElement",void 0),m(this,"id",jn()),this.document=t,this.renderer=r,this.messageService=o,this.cd=c,this.config=d}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(Array.isArray(t)){const r=t.filter(o=>this.canAdd(o));this.add(r)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let r=this.key===t.key;return r&&this.preventOpenDuplicates&&(r=!this.containsMessage(this.messages,t)),r&&this.preventDuplicates&&(r=!this.containsMessage(this.messagesArchieve,t)),r}containsMessage(t,r){return!!t&&null!=t.find(o=>o.summary===r.summary&&o.detail==r.detail&&o.severity===r.severity)}ngAfterContentInit(){this.templates?.forEach(t=>{t.getType(),this.template=t.template})}onMessageClose(t){this.messages?.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){"void"===t.fromState&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&""===this.containerViewChild?.nativeElement.style.zIndex&&mr.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(t){"void"===t.toState&&this.autoZIndex&&et.isEmpty(this.messages)&&mr.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let r in this.breakpoints){let o="";for(let c in this.breakpoints[r])o+=c+":"+this.breakpoints[r][c]+" !important;";t+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-toast[${this.id}] {\n                           ${o}\n                        }\n                    }\n                `}this.renderer.setProperty(this.styleElement,"innerHTML",t)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&mr.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(ye),s.Y36(s.Qsj),s.Y36(NR),s.Y36(s.sBO),s.Y36(dl))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-toast"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&s.Gf(a8,5),2&t){let o;s.iGM(o=s.CRH())&&(r.containerViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0,1),s.YNc(2,Rse,1,8,"p-toastItem",2),s.qZA()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass","p-toast p-component p-toast-"+r.position)("ngStyle",r.style),s.xp6(2),s.Q6J("ngForOf",r.messages))},dependencies:[Pn,ns,Gn,Ose],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[ls("toastAnimation",[ur(":enter, :leave",[oa("@*",gh())])])]},changeDetection:0})),e})(),Lse=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,hu,ef,QR,JR,KR,zs,Kn]})),e})();const Fse=["content"];function Vse(i,e){1&i&&s.GkF(0)}function Bse(i,e){if(1&i&&(s.TgZ(0,"div",10),s.YNc(1,Vse,1,0,"ng-container",11),s.qZA()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",n.headerTemplate)}}function Use(i,e){if(1&i&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&i){const n=s.oxw(4);s.Q6J("id",n.getAriaLabelledBy()),s.xp6(1),s.Oqu(n.option("header"))}}const Hse=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function zse(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.close(r))})("keydown.enter",function(r){s.CHM(n);const o=s.oxw(4);return s.KtG(o.close(r))}),s._UZ(1,"TimesIcon"),s.qZA()}if(2&i){const n=s.oxw(4);s.Q6J("ngClass",s.DdM(2,Hse)),s.uIk("aria-label",n.closeAriaLabel)}}function jse(i,e){if(1&i&&(s.TgZ(0,"div",10),s.YNc(1,Use,2,2,"span",12),s.TgZ(2,"div",13),s.YNc(3,zse,2,3,"button",14),s.qZA()()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngIf",n.option("header")),s.xp6(2),s.Q6J("ngIf",n.closable)}}function qse(i,e){if(1&i&&s._UZ(0,"i",1),2&i){const n=s.oxw(3);s.Tol(n.option("icon")),s.Q6J("ngClass","p-confirm-dialog-icon")}}function Gse(i,e){1&i&&s.GkF(0)}function Zse(i,e){if(1&i&&(s.TgZ(0,"div",17),s.Hsn(1),s.YNc(2,Gse,1,0,"ng-container",11),s.qZA()),2&i){const n=s.oxw(3);s.xp6(2),s.Q6J("ngTemplateOutlet",n.footerTemplate)}}function $se(i,e){if(1&i&&s._UZ(0,"i"),2&i){const n=s.oxw(6);s.Tol(n.option("rejectIcon"))}}function Wse(i,e){1&i&&s._UZ(0,"TimesIcon",24),2&i&&s.Q6J("styleClass","p-button-icon-left")}function Yse(i,e){if(1&i&&(s.ynx(0),s.YNc(1,$se,1,2,"i",22),s.YNc(2,Wse,1,1,"TimesIcon",23),s.BQk()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngIf",n.option("rejectIcon")),s.xp6(1),s.Q6J("ngIf",!n.option("rejectIcon"))}}function Kse(i,e){}function Qse(i,e){1&i&&s.YNc(0,Kse,0,0,"ng-template")}function Jse(i,e){if(1&i&&(s.TgZ(0,"span",25),s.YNc(1,Qse,1,0,null,11),s.qZA()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngTemplateOutlet",n.rejectIconTemplate)}}function Xse(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(n);const r=s.oxw(4);return s.KtG(r.reject())}),s.YNc(1,Yse,3,2,"ng-container",20),s.YNc(2,Jse,2,1,"span",21),s.qZA()}if(2&i){const n=s.oxw(4);s.Tol(n.option("rejectButtonStyleClass")),s.Q6J("label",n.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),s.uIk("aria-label",n.rejectAriaLabel),s.xp6(1),s.Q6J("ngIf",!n.rejectIconTemplate),s.xp6(1),s.Q6J("ngIf",n.rejectIconTemplate)}}function eoe(i,e){if(1&i&&s._UZ(0,"i"),2&i){const n=s.oxw(6);s.Tol(n.option("acceptIcon"))}}function toe(i,e){1&i&&s._UZ(0,"CheckIcon",24),2&i&&s.Q6J("styleClass","p-button-icon-left")}function noe(i,e){if(1&i&&(s.ynx(0),s.YNc(1,eoe,1,2,"i",22),s.YNc(2,toe,1,1,"CheckIcon",23),s.BQk()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngIf",n.option("acceptIcon")),s.xp6(1),s.Q6J("ngIf",!n.option("acceptIcon"))}}function ioe(i,e){}function roe(i,e){1&i&&s.YNc(0,ioe,0,0,"ng-template")}function soe(i,e){if(1&i&&(s.TgZ(0,"span",25),s.YNc(1,roe,1,0,null,11),s.qZA()),2&i){const n=s.oxw(5);s.xp6(1),s.Q6J("ngTemplateOutlet",n.acceptIconTemplate)}}function ooe(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(n);const r=s.oxw(4);return s.KtG(r.accept())}),s.YNc(1,noe,3,2,"ng-container",20),s.YNc(2,soe,2,1,"span",21),s.qZA()}if(2&i){const n=s.oxw(4);s.Tol(n.option("acceptButtonStyleClass")),s.Q6J("label",n.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),s.uIk("aria-label",n.acceptAriaLabel),s.xp6(1),s.Q6J("ngIf",!n.acceptIconTemplate),s.xp6(1),s.Q6J("ngIf",n.acceptIconTemplate)}}function aoe(i,e){if(1&i&&(s.TgZ(0,"div",17),s.YNc(1,Xse,3,7,"button",18),s.YNc(2,ooe,3,7,"button",18),s.qZA()),2&i){const n=s.oxw(3);s.xp6(1),s.Q6J("ngIf",n.option("rejectVisible")),s.xp6(1),s.Q6J("ngIf",n.option("acceptVisible"))}}const loe=function(i){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":i}},coe=function(i,e){return{transform:i,transition:e}},uoe=function(i){return{value:"visible",params:i}};function doe(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",3),s.NdJ("@animation.start",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onAnimationStart(r))})("@animation.done",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onAnimationEnd(r))}),s.YNc(1,Bse,2,1,"div",4),s.YNc(2,jse,4,2,"div",4),s.TgZ(3,"div",5,6),s.YNc(5,qse,1,3,"i",7),s._UZ(6,"span",8),s.qZA(),s.YNc(7,Zse,3,1,"div",9),s.YNc(8,aoe,3,2,"div",9),s.qZA()}if(2&i){const n=s.oxw(2);s.Tol(n.styleClass),s.Q6J("ngClass",s.VKq(13,loe,n.rtl))("ngStyle",n.style)("@animation",s.VKq(18,uoe,s.WLB(15,coe,n.transformOptions,n.transitionOptions))),s.uIk("aria-labelledby",n.getAriaLabelledBy())("aria-modal",!0),s.xp6(1),s.Q6J("ngIf",n.headerTemplate),s.xp6(1),s.Q6J("ngIf",!n.headerTemplate),s.xp6(3),s.Q6J("ngIf",n.option("icon")),s.xp6(1),s.Q6J("innerHTML",n.option("message"),s.oJD),s.xp6(1),s.Q6J("ngIf",n.footer||n.footerTemplate),s.xp6(1),s.Q6J("ngIf",!n.footer&&!n.footerTemplate)}}function hoe(i,e){if(1&i&&(s.TgZ(0,"div",1),s.YNc(1,doe,9,20,"div",2),s.qZA()),2&i){const n=s.oxw();s.Tol(n.maskStyleClass),s.Q6J("ngClass",n.getMaskClass()),s.xp6(1),s.Q6J("ngIf",n.visible)}}const poe=[[["p-footer"]]],foe=["p-footer"],moe=dr([oi({transform:"{{transform}}",opacity:0}),Hn("{{transition}}",oi({transform:"none",opacity:1}))]),goe=dr([Hn("{{transition}}",oi({transform:"{{transform}}",opacity:0}))]);let _oe=(()=>{var i;class e{get style(){return this._style}set style(t){this._style=t,this.cd.markForCheck()}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(t){switch(this._position=t,t){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"rejecticon":this.rejectIconTemplate=t.template;break;case"accepticon":this.acceptIconTemplate=t.template}})}constructor(t,r,o,c,d,f,_){m(this,"el",void 0),m(this,"renderer",void 0),m(this,"confirmationService",void 0),m(this,"zone",void 0),m(this,"cd",void 0),m(this,"config",void 0),m(this,"document",void 0),m(this,"header",void 0),m(this,"icon",void 0),m(this,"message",void 0),m(this,"styleClass",void 0),m(this,"maskStyleClass",void 0),m(this,"acceptIcon",void 0),m(this,"acceptLabel",void 0),m(this,"closeAriaLabel",void 0),m(this,"acceptAriaLabel",void 0),m(this,"acceptVisible",!0),m(this,"rejectIcon",void 0),m(this,"rejectLabel",void 0),m(this,"rejectAriaLabel",void 0),m(this,"rejectVisible",!0),m(this,"acceptButtonStyleClass",void 0),m(this,"rejectButtonStyleClass",void 0),m(this,"closeOnEscape",!0),m(this,"dismissableMask",void 0),m(this,"blockScroll",!0),m(this,"rtl",!1),m(this,"closable",!0),m(this,"appendTo",void 0),m(this,"key",void 0),m(this,"autoZIndex",!0),m(this,"baseZIndex",0),m(this,"transitionOptions","150ms cubic-bezier(0, 0, 0.2, 1)"),m(this,"focusTrap",!0),m(this,"defaultFocus","accept"),m(this,"breakpoints",void 0),m(this,"onHide",new s.vpe),m(this,"footer",void 0),m(this,"contentViewChild",void 0),m(this,"templates",void 0),m(this,"headerTemplate",void 0),m(this,"footerTemplate",void 0),m(this,"rejectIconTemplate",void 0),m(this,"acceptIconTemplate",void 0),m(this,"confirmation",void 0),m(this,"_visible",void 0),m(this,"_style",void 0),m(this,"maskVisible",void 0),m(this,"documentEscapeListener",void 0),m(this,"container",void 0),m(this,"wrapper",void 0),m(this,"contentContainer",void 0),m(this,"subscription",void 0),m(this,"maskClickListener",void 0),m(this,"preWidth",void 0),m(this,"_position","center"),m(this,"transformOptions","scale(0.7)"),m(this,"styleElement",void 0),m(this,"id",jn()),m(this,"confirmationOptions",void 0),m(this,"translationSubscription",void 0),this.el=t,this.renderer=r,this.confirmationService=o,this.zone=c,this.cd=d,this.config=f,this.document=_,this.subscription=this.confirmationService.requireConfirmation$.subscribe(b=>{b?b.key===this.key&&(this.confirmation=b,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new s.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new s.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}getAriaLabelledBy(){return null!==this.header?jn()+"_header":null}option(t){const r=this.confirmationOptions||this;if(r.hasOwnProperty(t))return r[t]}onAnimationStart(t){if("visible"===t.toState){this.container=t.element,this.wrapper=this.container?.parentElement,this.contentContainer=ee.findSingle(this.container,".p-dialog-content"),this.container?.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const r=this.getElementToFocus();r&&r.focus()}}onAnimationEnd(t){"void"===t.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return ee.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return ee.findSingle(this.container,".p-confirm-dialog-reject");case"close":return ee.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?this.document.body.appendChild(this.wrapper):ee.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&ee.addClass(this.document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&ee.removeClass(this.document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",this.document.head.appendChild(this.styleElement);let t="";for(let r in this.breakpoints)t+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[r]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}close(t){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(so.CANCEL),this.hide(so.CANCEL),t.preventDefault()}hide(t){this.onHide.emit(t),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(mr.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let t={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return t[this.getPositionClass().toString()]=!0,t}getPositionClass(){const r=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(o=>o===this.position);return r?`p-dialog-${r}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",r=>{if(27==r.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===mr.get(this.container)&&this.visible&&this.close(r),9===r.which&&this.focusTrap){r.preventDefault();let o=ee.getFocusableElements(this.container);if(o&&o.length>0)if(o[0].ownerDocument.activeElement){let c=o.indexOf(o[0].ownerDocument.activeElement);r.shiftKey?-1==c||0===c?o[o.length-1].focus():o[c-1].focus():-1==c||c===o.length-1?o[0].focus():o[c+1].focus()}else o[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&mr.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(so.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(so.REJECT),this.hide(so.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(So.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(So.REJECT)}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(RR),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(dl),s.Y36(ye))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-confirmDialog"]],contentQueries:function(t,r,o){if(1&t&&(s.Suo(o,FR,5),s.Suo(o,ir,4)),2&t){let c;s.iGM(c=s.CRH())&&(r.footer=c.first),s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&s.Gf(Fse,5),2&t){let o;s.iGM(o=s.CRH())&&(r.contentViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:foe,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["role","alertdialog",3,"ngClass","ngStyle","class",4,"ngIf"],["role","alertdialog",3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["type","button","role","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"label","ngClass","click"],[4,"ngIf"],["class","p-button-icon-left",4,"ngIf"],[3,"class",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon-left"]],template:function(t,r){1&t&&(s.F$t(poe),s.YNc(0,hoe,2,4,"div",0)),2&t&&s.Q6J("ngIf",r.maskVisible)},dependencies:function(){return[Pn,An,Zn,Gn,C0,Zd,zs,ef]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[ls("animation",[ur("void => visible",[Ms(moe)]),ur("visible => void",[Ms(goe)])])]},changeDetection:0})),e})(),yoe=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,e_,hu,zs,ef,e_,Kn]})),e})(),Loe=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,hu,ef,QR,JR,KR,zs]})),e})(),l8=(()=>{var i;class e extends vn{}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["EyeIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0),s._UZ(1,"path",1),s.qZA()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),c8=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["RefreshIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),u8=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["SearchMinusIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),d8=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["SearchPlusIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})(),h8=(()=>{var i;class e extends vn{constructor(...t){super(...t),m(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+jn()+")"}}return i=e,m(e,"\u0275fac",function(){let n;return function(r){return(n||(n=s.n5z(i)))(r||i)}}()),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["UndoIcon"]],standalone:!0,features:[s.qOj,s.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(s.O4$(),s.TgZ(0,"svg",0)(1,"g"),s._UZ(2,"path",1),s.qZA(),s.TgZ(3,"defs")(4,"clipPath",2),s._UZ(5,"rect",3),s.qZA()()()),2&t&&(s.Tol(r.getClassNames()),s.uIk("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),s.xp6(1),s.uIk("clip-path",r.pathId),s.xp6(3),s.Q6J("id",r.pathId))},encapsulation:2})),e})();const Foe=["mask"],Voe=["previewButton"],Boe=["closeButton"];function Uoe(i,e){1&i&&s.GkF(0)}function Hoe(i,e){if(1&i&&(s.ynx(0),s.YNc(1,Uoe,1,0,"ng-container",8),s.BQk()),2&i){const n=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",n.indicatorTemplate)}}function zoe(i,e){1&i&&s._UZ(0,"EyeIcon",9),2&i&&s.Q6J("styleClass","p-image-preview-icon")}function joe(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",4,5),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onImageClick())}),s.YNc(2,Hoe,2,1,"ng-container",6),s.YNc(3,zoe,1,1,"ng-template",null,7,s.W1O),s.qZA()}if(2&i){const n=s.MAs(4),t=s.oxw();s.xp6(2),s.Q6J("ngIf",t.indicatorTemplate)("ngIfElse",n)}}function qoe(i,e){1&i&&s._UZ(0,"RefreshIcon")}function Goe(i,e){}function Zoe(i,e){1&i&&s.YNc(0,Goe,0,0,"ng-template")}function $oe(i,e){1&i&&s._UZ(0,"UndoIcon")}function Woe(i,e){}function Yoe(i,e){1&i&&s.YNc(0,Woe,0,0,"ng-template")}function Koe(i,e){1&i&&s._UZ(0,"SearchMinusIcon")}function Qoe(i,e){}function Joe(i,e){1&i&&s.YNc(0,Qoe,0,0,"ng-template")}function Xoe(i,e){1&i&&s._UZ(0,"SearchPlusIcon")}function eae(i,e){}function tae(i,e){1&i&&s.YNc(0,eae,0,0,"ng-template")}function nae(i,e){1&i&&s._UZ(0,"TimesIcon")}function iae(i,e){}function rae(i,e){1&i&&s.YNc(0,iae,0,0,"ng-template")}const sae=function(i,e){return{showTransitionParams:i,hideTransitionParams:e}},oae=function(i){return{value:"visible",params:i}};function aae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div"),s.NdJ("@animation.start",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onAnimationStart(r))})("@animation.done",function(r){s.CHM(n);const o=s.oxw(2);return s.KtG(o.onAnimationEnd(r))}),s.TgZ(1,"img",17),s.NdJ("click",function(){s.CHM(n);const r=s.oxw(2);return s.KtG(r.onPreviewImageClick())}),s.qZA()()}if(2&i){const n=s.oxw(2);s.Q6J("@animation",s.VKq(6,oae,s.WLB(3,sae,n.showTransitionOptions,n.hideTransitionOptions))),s.xp6(1),s.Q6J("ngStyle",n.imagePreviewStyle()),s.uIk("src",n.src,s.LSH)}}function lae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",10,11),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.onMaskClick())})("keydown",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.onMaskKeydown(r))}),s.TgZ(2,"div",12),s.NdJ("click",function(r){s.CHM(n);const o=s.oxw();return s.KtG(o.handleToolbarClick(r))}),s.TgZ(3,"button",13),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.rotateRight())}),s.YNc(4,qoe,1,0,"RefreshIcon",14),s.YNc(5,Zoe,1,0,null,8),s.qZA(),s.TgZ(6,"button",13),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.rotateLeft())}),s.YNc(7,$oe,1,0,"UndoIcon",14),s.YNc(8,Yoe,1,0,null,8),s.qZA(),s.TgZ(9,"button",15),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.zoomOut())}),s.YNc(10,Koe,1,0,"SearchMinusIcon",14),s.YNc(11,Joe,1,0,null,8),s.qZA(),s.TgZ(12,"button",15),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.zoomIn())}),s.YNc(13,Xoe,1,0,"SearchPlusIcon",14),s.YNc(14,tae,1,0,null,8),s.qZA(),s.TgZ(15,"button",13,16),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.closePreview())}),s.YNc(17,nae,1,0,"TimesIcon",14),s.YNc(18,rae,1,0,null,8),s.qZA()(),s.YNc(19,aae,2,8,"div",14),s.qZA()}if(2&i){const n=s.oxw();s.uIk("aria-modal",n.maskVisible),s.xp6(3),s.uIk("aria-label",n.rightAriaLabel()),s.xp6(1),s.Q6J("ngIf",!n.rotateRightIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.rotateRightIconTemplate),s.xp6(1),s.uIk("aria-label",n.leftAriaLabel()),s.xp6(1),s.Q6J("ngIf",!n.rotateLeftIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.rotateLeftIconTemplate),s.xp6(1),s.Q6J("disabled",n.isZoomOutDisabled),s.uIk("aria-label",n.zoomOutAriaLabel()),s.xp6(1),s.Q6J("ngIf",!n.zoomOutIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.zoomOutIconTemplate),s.xp6(1),s.Q6J("disabled",n.isZoomInDisabled),s.uIk("aria-label",n.zoomInAriaLabel()),s.xp6(1),s.Q6J("ngIf",!n.zoomInIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.zoomInIconTemplate),s.xp6(1),s.uIk("aria-label",n.closeAriaLabel()),s.xp6(2),s.Q6J("ngIf",!n.closeIconTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",n.closeIconTemplate),s.xp6(1),s.Q6J("ngIf",n.previewVisible)}}let p8=(()=>{var i;class e{get isZoomOutDisabled(){return this.scale-this.zoomSettings.step<=this.zoomSettings.min}get isZoomInDisabled(){return this.scale+this.zoomSettings.step>=this.zoomSettings.max}constructor(t,r,o){m(this,"document",void 0),m(this,"config",void 0),m(this,"cd",void 0),m(this,"imageClass",void 0),m(this,"imageStyle",void 0),m(this,"styleClass",void 0),m(this,"style",void 0),m(this,"src",void 0),m(this,"alt",void 0),m(this,"width",void 0),m(this,"height",void 0),m(this,"appendTo",void 0),m(this,"preview",!1),m(this,"showTransitionOptions","150ms cubic-bezier(0, 0, 0.2, 1)"),m(this,"hideTransitionOptions","150ms cubic-bezier(0, 0, 0.2, 1)"),m(this,"onShow",new s.vpe),m(this,"onHide",new s.vpe),m(this,"onImageError",new s.vpe),m(this,"mask",void 0),m(this,"previewButton",void 0),m(this,"closeButton",void 0),m(this,"templates",void 0),m(this,"indicatorTemplate",void 0),m(this,"rotateRightIconTemplate",void 0),m(this,"rotateLeftIconTemplate",void 0),m(this,"zoomOutIconTemplate",void 0),m(this,"zoomInIconTemplate",void 0),m(this,"closeIconTemplate",void 0),m(this,"maskVisible",!1),m(this,"previewVisible",!1),m(this,"rotate",0),m(this,"scale",1),m(this,"previewClick",!1),m(this,"container",void 0),m(this,"wrapper",void 0),m(this,"zoomSettings",{default:1,step:.1,max:1.5,min:.5}),this.document=t,this.config=r,this.cd=o}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"indicator":default:this.indicatorTemplate=t.template;break;case"rotaterighticon":this.rotateRightIconTemplate=t.template;break;case"rotatelefticon":this.rotateLeftIconTemplate=t.template;break;case"zoomouticon":this.zoomOutIconTemplate=t.template;break;case"zoominicon":this.zoomInIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0)}onMaskClick(){this.previewClick||this.closePreview(),this.previewClick=!1}onMaskKeydown(t){"Escape"===t.code&&(this.onMaskClick(),setTimeout(()=>{ee.focus(this.previewButton.nativeElement)},25),t.preventDefault())}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+this.zoomSettings.step,this.previewClick=!0}zoomOut(){this.scale=this.scale-this.zoomSettings.step,this.previewClick=!0}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),setTimeout(()=>{ee.focus(this.closeButton.nativeElement)},25);break;case"void":ee.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":mr.clear(this.wrapper),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}moveOnTop(){mr.set("modal",this.wrapper,this.config.zIndex.modal)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.document.body.appendChild(this.wrapper):ee.appendChild(this.wrapper,this.appendTo))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}containerClass(){return{"p-image p-component":!0,"p-image-preview-container":this.preview}}handleToolbarClick(t){t.stopPropagation()}closePreview(){this.previewVisible=!1,this.rotate=0,this.scale=this.zoomSettings.default}imageError(t){this.onImageError.emit(t)}rightAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateRight:void 0}leftAriaLabel(){return this.config.translation.aria?this.config.translation.aria.rotateLeft:void 0}zoomInAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomIn:void 0}zoomOutAriaLabel(){return this.config.translation.aria?this.config.translation.aria.zoomOut:void 0}closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}onKeydownHandler(t){this.previewVisible&&this.closePreview()}}return i=e,m(e,"\u0275fac",function(t){return new(t||i)(s.Y36(ye),s.Y36(dl),s.Y36(s.sBO))}),m(e,"\u0275cmp",s.Xpm({type:i,selectors:[["p-image"]],contentQueries:function(t,r,o){if(1&t&&s.Suo(o,ir,4),2&t){let c;s.iGM(c=s.CRH())&&(r.templates=c)}},viewQuery:function(t,r){if(1&t&&(s.Gf(Foe,5),s.Gf(Voe,5),s.Gf(Boe,5)),2&t){let o;s.iGM(o=s.CRH())&&(r.mask=o.first),s.iGM(o=s.CRH())&&(r.previewButton=o.first),s.iGM(o=s.CRH())&&(r.closeButton=o.first)}},hostAttrs:[1,"p-element"],hostBindings:function(t,r){1&t&&s.NdJ("keydown.escape",function(c){return r.onKeydownHandler(c)},!1,s.evT)},inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",alt:"alt",width:"width",height:"height",appendTo:"appendTo",preview:"preview",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide",onImageError:"onImageError"},decls:4,vars:13,consts:[[3,"ngClass","ngStyle"],[3,"ngStyle","error"],["class","p-image-preview-indicator",3,"click",4,"ngIf"],["class","p-image-mask p-component-overlay p-component-overlay-enter","role","dialog","pFocusTrap","",3,"click","keydown",4,"ngIf"],[1,"p-image-preview-indicator",3,"click"],["previewButton",""],[4,"ngIf","ngIfElse"],["defaultTemplate",""],[4,"ngTemplateOutlet"],[3,"styleClass"],["role","dialog","pFocusTrap","",1,"p-image-mask","p-component-overlay","p-component-overlay-enter",3,"click","keydown"],["mask",""],[1,"p-image-toolbar",3,"click"],["type","button",1,"p-image-action","p-link",3,"click"],[4,"ngIf"],["type","button",1,"p-image-action","p-link",3,"disabled","click"],["closeButton",""],[1,"p-image-preview",3,"ngStyle","click"]],template:function(t,r){1&t&&(s.TgZ(0,"span",0)(1,"img",1),s.NdJ("error",function(c){return r.imageError(c)}),s.qZA(),s.YNc(2,joe,5,2,"button",2),s.YNc(3,lae,20,19,"div",3),s.qZA()),2&t&&(s.Tol(r.styleClass),s.Q6J("ngClass",r.containerClass())("ngStyle",r.style),s.xp6(1),s.Tol(r.imageClass),s.Q6J("ngStyle",r.imageStyle),s.uIk("src",r.src,s.LSH)("alt",r.alt)("width",r.width)("height",r.height),s.xp6(1),s.Q6J("ngIf",r.preview),s.xp6(1),s.Q6J("ngIf",r.maskVisible))},dependencies:function(){return[Pn,An,Zn,Gn,c8,l8,h8,u8,d8,zs,W9]},styles:[".p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon.pi{font-size:1.5rem}.p-image-preview-icon.p-icon{scale:1.5}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex;z-index:1}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-action.p-link[disabled]{opacity:.5}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}\n"],encapsulation:2,data:{animation:[ls("animation",[ur("void => visible",[oi({transform:"scale(0.7)",opacity:0}),Hn("{{showTransitionParams}}")]),ur("visible => void",[Hn("{{hideTransitionParams}}",oi({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})),e})(),cae=(()=>{var i;class e{}return i=e,m(e,"\u0275fac",function(t){return new(t||i)}),m(e,"\u0275mod",s.oAB({type:i})),m(e,"\u0275inj",s.cJS({imports:[Ht,Kn,c8,l8,h8,u8,d8,zs,Y9,Kn]})),e})(),fae=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[Ht]]}),i})();const mae_firebase={apiKey:"AIzaSyDq-_xRwe0sAQnqhQAbLxA7cnqmQnJkrA4",authDomain:"fotocopias-1d9e0.firebaseapp.com",projectId:"fotocopias-1d9e0",storageBucket:"fotocopias-1d9e0.appspot.com",messagingSenderId:"742688273102",appId:"1:742688273102:web:2f933628a025c54ceb969f",measurementId:"G-4W5KF4GV5Y"};var gae=U(2004);let I0=(()=>{var i;class e{constructor(t,r,o,c){this.afs=t,this.afAuth=r,this.router=o,this.ngZone=c,this.loggedInfo=new ba.X(!1),this.dropToken=new ba.X(""),this.afAuth.authState.subscribe(d=>{d?(this.userData=d,localStorage.setItem("user",JSON.stringify(this.userData)),this.loggedData=!0,JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),this.loggedData=!1,JSON.parse(localStorage.getItem("user")))})}SignIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(o=>{this.SetUserData(o.user),this.afAuth.authState.subscribe(c=>{c&&(this.loggedData=!0,this.router.navigate([""]))})}).catch(o=>{window.alert(o.message)})}SignUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r).then(o=>{this.SendVerificationMail(),this.SetUserData(o.user)}).catch(o=>{window.alert(o.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(r=>{window.alert(r)})}get logged(){return this.loggedInfo.asObservable()}set loggedData(t){this.loggedInfo.next(t)}get tokenDropBox(){return this.dropToken.asObservable()}set token(t){this.dropToken.next(t)}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}GoogleAuth(){return this.AuthLogin(new gae.Q).then(t=>{this.router.navigate(["dashboard"])})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(r=>{this.router.navigate(["dashboard"]),this.SetUserData(r.user)}).catch(r=>{window.alert(r)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.loggedData=!1,this.router.navigate([""])})}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(XP),s.LFG(Iy),s.LFG(ro),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})(),_ae=(()=>{var i;class e{constructor(t){this.auth=t,this.log=!1}ngOnInit(){this.log=this.auth.isLoggedIn,console.log(this.auth.isLoggedIn),this.auth.logged.subscribe(t=>{this.log=t})}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(I0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-start"]],decls:19,vars:2,consts:[[1,"grid","grid-nogutter","surface-section","text-800"],[1,"col-12","md:col-6","p-6","text-center","md:text-left","flex","align-items-center"],[1,""],[1,"block","text-6xl","font-bold","mb-1"],[1,"text-6xl","text-primary","font-bold","mb-3"],[1,"mt-0","mb-4","text-700","line-height-3"],["routerLink","/material","pButton","","pRipple","","label","Vea el catalogo","type","button",1,"mr-3","p-button-raised"],["href","https://wa.link/qay7is"],["pButton","","pRipple","","label","Envia un mensaje","type","button","icon","pi pi-whatsapp","iconPos","right",1,"p-button-outlined","p-button-success"],[1,"mx-auto","my-3","border-2","border-round","max-w-min","pb-0","flex","flex-column","justify-content-center","align-items-center"],["src","assets/qr.png","alt","Image","width","150",1,"m-1",3,"preview"],[1,"m-0","border-top-2","w-full","text-center"],[1,"col-12","md:col-6","overflow-hidden"],["src","assets/bg.jpg","alt","Image",1,"md:ml-auto","block","md:h-full",2,"clip-path","polygon(8% 0, 100% 0%, 100% 100%, 0 100%)"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"span",3),s._uU(4,"Material de escritorio"),s.qZA(),s.TgZ(5,"div",4),s._uU(6,"y diversidad de productos y servicios"),s.qZA(),s.TgZ(7,"p",5),s._uU(8,"Puede encontrar una gran variedad de productos y solicitar impresiones, fotocopias, y escaneos de todo tipo de documentos."),s.qZA(),s._UZ(9,"button",6),s.TgZ(10,"a",7),s._UZ(11,"button",8),s.qZA(),s.TgZ(12,"div",9)(13,"p-image",10),s._uU(14,"scaneas"),s.qZA(),s.TgZ(15,"p",11),s._uU(16,"Scanea"),s.qZA()()()(),s.TgZ(17,"div",12),s._UZ(18,"img",13),s.qZA()()),2&t&&(s.xp6(13),s.Q6J("preview",!0)("preview",!0))},dependencies:[mI,C0,p8]}),e})(),yae=(()=>{var i;class e{constructor(t){this.authService=t}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(I0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-login"]],decls:16,vars:0,consts:[[1,"mt-2","lg:mt-6"],[1,"surface-card","p-4","shadow-2","border-round","w-full","lg:w-6","lg:m-auto"],[1,"text-center","mb-5"],["src","assets/images/blocks/logos/hyper.svg","alt","Image","height","50",1,"mb-3"],[1,"text-900","text-3xl","font-medium","mb-3"],["for","email1",1,"block","text-900","font-medium","mb-2"],["id","email1","required","","type","text","placeholder","Email address","pInputText","",1,"w-full","mb-3"],["userName",""],["for","password1",1,"block","text-900","font-medium","mb-2"],["id","password1","required","","type","password","placeholder","Password","pInputText","",1,"w-full","mb-3"],["userPassword",""],["pButton","","pRipple","","label","Sign In","icon","pi pi-user",1,"w-full",3,"click"]],template:function(t,r){if(1&t){const o=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._UZ(3,"img",3),s.TgZ(4,"div",4),s._uU(5,"Welcome Back"),s.qZA()(),s.TgZ(6,"div")(7,"label",5),s._uU(8,"Email"),s.qZA(),s._UZ(9,"input",6,7),s.TgZ(11,"label",8),s._uU(12,"Password"),s.qZA(),s._UZ(13,"input",9,10),s.TgZ(15,"button",11),s.NdJ("click",function(){s.CHM(o);const d=s.MAs(10),f=s.MAs(14);return s.KtG(r.authService.SignIn(d.value,f.value))}),s.qZA()()()()}},dependencies:[HR,C0]}),e})(),f8=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-incoming"]],decls:2,vars:0,consts:[[1,"banner"]],template:function(t,r){1&t&&(s.TgZ(0,"h1",0),s._uU(1,"Pagina en Desarrollo..."),s.qZA())},styles:['@import"https://fonts.googleapis.com/css?family=Rye";body[_ngcontent-%COMP%]{background:#eee}.banner[_ngcontent-%COMP%]{position:absolute;left:50%;display:block;margin:100px -200px;width:400px;height:60px;border:1px solid #8a1;font: 30px/60px Rye;text-align:center;color:#451;background:#9b2;border-radius:4px;box-shadow:0 0 30px #00000026 inset,0 6px 10px #00000026}.banner[_ngcontent-%COMP%]:before, .banner[_ngcontent-%COMP%]:after{content:"";position:absolute;z-index:-1;left:-70px;top:24px;display:block;width:40px;height:0px;border:30px solid #9b2;border-right:20px solid #791;border-bottom-color:#94b81e;border-left-color:transparent;transform:rotate(-5deg)}.banner[_ngcontent-%COMP%]:after{left:auto;right:-70px;border-left:20px solid #791;border-right:30px solid transparent;transform:rotate(5deg)}']}),e})(),vae=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-servicios"]],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"app-incoming")},dependencies:[f8]}),e})(),wae=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-laminas"]],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"app-incoming")},dependencies:[f8]}),e})();class bae{constructor(e,n,t,r,o,c,d,f,_,b){this.nombre=e,this.categoria=n,this.descripcion=t,this.precio_unidad=r,this.precio_mayor=o,this.cantidad=c,this.tipo_unitario=d,this.history=f,this.urlImage=_,this.id=b}}class m8{constructor(e,n,t,r){this.id=e,this.fecha_compra=n,this.precio_compra=t,this.descripcion_cantidad=r}}const g8={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let pD;const Cae=new Uint8Array(16);function Iae(){if(!pD&&(pD=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pD))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pD(Cae)}const js=[];for(let i=0;i<256;++i)js.push((i+256).toString(16).slice(1));const XR=function Tae(i,e,n){if(g8.randomUUID&&!e&&!i)return g8.randomUUID();const t=(i=i||{}).random||(i.rng||Iae)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=t[r];return e}return function _8(i,e=0){return(js[i[e+0]]+js[i[e+1]]+js[i[e+2]]+js[i[e+3]]+"-"+js[i[e+4]]+js[i[e+5]]+"-"+js[i[e+6]]+js[i[e+7]]+"-"+js[i[e+8]]+js[i[e+9]]+"-"+js[i[e+10]]+js[i[e+11]]+js[i[e+12]]+js[i[e+13]]+js[i[e+14]]+js[i[e+15]]).toLowerCase()}(t)};var y8=U(9337);let Eae=(()=>{var i;class e{constructor(t){this.firestore=t}getCollection(t){return this.firestore.collection(t).valueChanges()}getAll(t){return this.firestore.collection(t).snapshotChanges()}createDocument(t,r){return this.firestore.collection(t).add(r)}updateDocument(t,r,o){return this.firestore.collection(t).doc(r).update(o)}deleteDocument(t,r){return this.firestore.collection(t).doc(r).delete()}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(XP))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();var Ca=function(i){return i[i.Up=1]="Up",i[i.Down=3]="Down",i[i.Right=6]="Right",i[i.Left=8]="Left",i[i.UpMirrored=2]="UpMirrored",i[i.DownMirrored=4]="DownMirrored",i[i.LeftMirrored=5]="LeftMirrored",i[i.RightMirrored=7]="RightMirrored",i[i.Default=0]="Default",i[i.NotJpeg=-1]="NotJpeg",i[i.NotDefined=-2]="NotDefined",i}(Ca||{});class xi{}xi.getOrientation=i=>new Promise((e,n)=>{try{const t=new FileReader;t.onload=()=>{const r=new DataView(t.result);if(!r.byteLength||65496!==r.getUint16(0,!1))return e(Ca.NotDefined);const o=r.byteLength;let c=2;for(;c<o;){const d=r.getUint16(c,!1);if(c+=2,65505===d){if(1165519206!==r.getUint32(c+=2,!1))return e(Ca.NotJpeg);const f=18761===r.getUint16(c+=6,!1);c+=r.getUint32(c+4,f);const _=r.getUint16(c,f);c+=2;for(let b=0;b<_;b++)if(274===r.getUint16(c+12*b,f))return e(r.getUint16(c+12*b+8,f))}else{if(65280!=(65280&d))break;c+=r.getUint16(c,!1)}}return e(Ca.NotJpeg)},t.readAsArrayBuffer(i)}catch{return n(Ca.Default)}}),xi.uploadFile=(i,e=!0,n=!1)=>new Promise(function(t,r){const o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),c=/iPad|iPhone|iPod/i.test(navigator.userAgent);Promise.resolve(o||c).then(d=>d?xi.generateUploadInputNative(window.document,e,n):xi.generateUploadInputRenderer(i,e,n)).then(d=>{const f=d?Array.from(d):[],_=f.map(M=>xi.getOrientation(M)),b=f.map(M=>xi.fileToDataURL(M));let T=[];Promise.all(_).then(M=>(T=M,Promise.all(b))).then(M=>{const R=M.map((B,K)=>({image:B.dataUrl,orientation:T[K],fileName:B.fileName}));t(e?R:R[0])})}).catch(d=>r(d))}),xi.fileToDataURL=i=>new Promise((e,n)=>{const t=new FileReader;t.onload=r=>{e({dataUrl:r.target.result,fileName:i.name})};try{t.readAsDataURL(i)}catch(r){n(`ngx-image-compress - probably no file have been selected: ${r}`)}}),xi.generateUploadInputRenderer=(i,e=!0,n=!1)=>{let t=!1;return new Promise((r,o)=>{const c=i.createElement("input");i.setStyle(c,"display","none"),i.setProperty(c,"type","file"),i.setProperty(c,"accept","image/*"),e&&i.setProperty(c,"multiple","true"),i.listen(c,"click",d=>{d.target.value=""}),i.listen(c,"change",d=>{t=!0,r(d.target.files)}),n&&window.addEventListener("focus",()=>{setTimeout(()=>{t||o(new Error("file upload on blur - no file selected"))},300)},{once:!0}),c.click()})},xi.generateUploadInputNative=(i,e=!0,n=!1)=>{let t=!1;return new Promise((r,o)=>{const c=i.createElement("input");c.id="upload-input"+new Date,c.style.display="none",c.setAttribute("type","file"),c.setAttribute("accept","image/*"),e&&c.setAttribute("multiple","true"),i.body.appendChild(c),c.addEventListener("change",()=>{t=!0,r(c.files),i.body.removeChild(i.getElementById(c.id))},{once:!0}),n&&window.addEventListener("focus",()=>{setTimeout(()=>{!t&&i.getElementById(c.id)&&(o(new Error("file upload on blur - no file selected")),i.body.removeChild(i.getElementById(c.id)))},300)},{once:!0}),c.click()})},xi.compress=(i,e,n,t=50,r=50,o=0,c=0)=>new Promise(function(d,f){r/=100,t/=100;const _=new Image;_.onload=()=>{const b=n.createElement("canvas"),T=b.getContext("2d");if(!T)return f("No canvas context available");let M=_.naturalWidth,R=_.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(e===Ca.Right||e===Ca.Left)){const Ue=M;M=R,R=Ue}t=Math.min(t,o?o/M:1,c?c/R:1),b.width=M*t,b.height=R*t;const te=Math.PI/180;CSS.supports("image-orientation","from-image")||e===Ca.Up?T.drawImage(_,0,0,b.width,b.height):e===Ca.Right?(T.save(),T.rotate(90*te),T.translate(0,-b.width),T.drawImage(_,0,0,b.height,b.width),T.restore()):e===Ca.Left?(T.save(),T.rotate(-90*te),T.translate(-b.width,0),T.drawImage(_,0,0,b.height,b.width),T.restore()):e===Ca.Down?(T.save(),T.rotate(180*te),T.translate(-b.width,-b.height),T.drawImage(_,0,0,b.width,b.height),T.restore()):T.drawImage(_,0,0,b.width,b.height);const _e=i.substr(5,i.split(";")[0].length-5),Ne=b.toDataURL(_e,r);d(Ne)},_.onerror=b=>f(b),_.src=i}),xi.byteCount=i=>encodeURI(i).split(/%..|./).length-1,xi.getImageMaxSize=function(){var i=(0,Ae.Z)(function*(e,n,t,r=!1){const c=_=>(_/1024/1024).toFixed(2);n&&console.debug("NgxImageCompress - Opening upload window");const d=yield xi.uploadFile(t,!1,r);let f;for(let _=0;_<10;_++){const b=xi.byteCount(d.image);f=yield xi.compress(d.image,d.orientation,t,50,100);const T=xi.byteCount(f);if(console.debug("NgxImageCompress -","Compression from",c(b),"MB to",c(T),"MB"),T>=b)throw 0===_?(n&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",c(b),"MB large"),{...d,image:f}):(n&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",c(b),"MB large"),{...d,image:f});if(T<1024*e*1024)return n&&console.debug("NgxImageCompress -","Here your file",c(T),"MB large"),{...d,image:f};if(9===_)throw n&&console.debug("NgxImageCompress -","File can't reach the desired size after",10,"tries. Returning file ",c(b),"MB large"),{...d,image:f};n&&console.debug("NgxImageCompress -","Reached",c(T),"MB large. Trying another time after",_+1,"times"),d.image=f}throw n&&console.debug("NgxImageCompress - Unexpected error"),{}});return function(e,n,t){return i.apply(this,arguments)}}();let Sae=(()=>{class i{constructor(n){this.DOC_ORIENTATION=Ca,this.render=n.createRenderer(null,null)}byteCount(n){return xi.byteCount(n)}getOrientation(n){return xi.getOrientation(n)}uploadFile(){return xi.uploadFile(this.render,!1)}uploadMultipleFiles(){return xi.uploadFile(this.render,!0)}uploadFileOrReject(){return xi.uploadFile(this.render,!1,!0)}uploadMultipleFilesOrReject(){return xi.uploadFile(this.render,!0,!0)}compressFile(n,t,r=50,o=50,c=0,d=0){return xi.compress(n,t,this.render,r,o,c,d)}uploadAndGetImageWithMaxSize(n=1,t=!1,r=!1){return xi.getImageMaxSize(n,t,this.render,r).then(o=>o.image).catch(o=>{throw o.image})}uploadAndGetImageWithMaxSizeAndMetas(n=1,t=!1,r=!1){return xi.getImageMaxSize(n,t,this.render,r)}}return i.\u0275fac=function(n){return new(n||i)(s.LFG(s.FYo))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Dae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",60),s.NdJ("click",function(){s.CHM(n);const r=s.oxw(2);return s.KtG(r.showNewMaterial())}),s.qZA()}}function Aae(i,e){1&i&&s._UZ(0,"a",61)}function Mae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",51)(1,"div",52),s.YNc(2,Dae,1,0,"button",53),s.YNc(3,Aae,1,0,"a",54),s.TgZ(4,"span",55),s._UZ(5,"i",56),s.qZA(),s.TgZ(6,"input",57),s.NdJ("input",function(r){s.CHM(n),s.oxw();const o=s.MAs(1);return s.KtG(o.filter(r.target.value,"contains","nombre"))}),s.qZA()(),s.TgZ(7,"p-dropdown",58),s.NdJ("onChange",function(r){s.CHM(n),s.oxw();const o=s.MAs(1);return s.KtG(o.filter(r.value,"equals","categoria"))}),s.qZA(),s._UZ(8,"p-dataViewLayoutOptions",59),s.qZA()}if(2&i){const n=s.oxw();s.xp6(2),s.Q6J("ngIf",n.logged),s.xp6(1),s.Q6J("ngIf",n.logged),s.xp6(4),s.Q6J("showClear",!0)("options",n.categoriasSearch),s.xp6(1),s.Q6J("layout",n.layout)}}function kae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-button",79),s.NdJ("click",function(){s.CHM(n);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.showUpdateMaterial(r))}),s.qZA()}}function Pae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-button",80),s.NdJ("click",function(){s.CHM(n);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.eliminarMaterial(r.id))}),s.qZA()}}function Rae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-button",81),s.NdJ("click",function(){s.CHM(n);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.showHistory(r))}),s.qZA()}}function Oae(i,e){if(1&i&&(s.TgZ(0,"div",75)(1,"p"),s._uU(2,"Por mayor:"),s.qZA(),s.TgZ(3,"p-tag",82)(4,"span",83),s._uU(5),s.qZA()()()),2&i){const n=s.oxw().$implicit;s.xp6(5),s.Oqu("Bs. "+n.precio_mayor+" => "+n.cantidad+" u.")}}function Nae(i,e){if(1&i&&(s.TgZ(0,"div",62)(1,"div",63),s.YNc(2,kae,1,0,"p-button",64),s.YNc(3,Pae,1,0,"p-button",65),s.YNc(4,Rae,1,0,"p-button",66),s._UZ(5,"img",67),s.TgZ(6,"div",68)(7,"div",69)(8,"div",70),s._uU(9),s.qZA(),s.TgZ(10,"div"),s._uU(11),s.qZA(),s.TgZ(12,"div",71)(13,"span",72),s._UZ(14,"i",73),s.TgZ(15,"span",74),s._uU(16),s.qZA()()()(),s.TgZ(17,"div",75)(18,"p-tag",76)(19,"span",77),s._uU(20),s.qZA()()(),s.YNc(21,Oae,6,1,"div",78),s.qZA()()()),2&i){const n=e.$implicit,t=s.oxw();s.xp6(2),s.Q6J("ngIf",t.logged),s.xp6(1),s.Q6J("ngIf",t.logged),s.xp6(1),s.Q6J("ngIf",t.logged),s.xp6(1),s.Q6J("src",null!=n.urlImage&&""!=n.urlImage?n.urlImage:t.urlImageDefault,s.LSH)("alt",n.nombre),s.xp6(4),s.Oqu(n.nombre),s.xp6(2),s.Oqu(n.descripcion),s.xp6(5),s.Oqu(n.categoria),s.xp6(4),s.Oqu("Bs. "+n.precio_unidad+" => "+n.tipo_unitario),s.xp6(1),s.Q6J("ngIf",n.precio_mayor>0)}}function Lae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-button",79),s.NdJ("click",function(){s.CHM(n);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.showUpdateMaterial(r))}),s.qZA()}}function Fae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-button",80),s.NdJ("click",function(){s.CHM(n);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.eliminarMaterial(r.id))}),s.qZA()}}function Vae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"p-button",93),s.NdJ("click",function(){s.CHM(n);const r=s.oxw().$implicit,o=s.oxw();return s.KtG(o.showHistory(r))}),s.qZA()}}function Bae(i,e){if(1&i&&(s.TgZ(0,"div",91)(1,"p"),s._uU(2,"Por mayor:"),s.qZA(),s.TgZ(3,"p-tag",82)(4,"span",83),s._uU(5),s.qZA()()()),2&i){const n=s.oxw().$implicit;s.xp6(5),s.Oqu("Bs. "+n.precio_mayor+" => "+n.cantidad+" u.")}}function Uae(i,e){if(1&i&&(s.TgZ(0,"div",84)(1,"div",85),s.YNc(2,Lae,1,0,"p-button",64),s.YNc(3,Fae,1,0,"p-button",65),s.YNc(4,Vae,1,0,"p-button",86),s.TgZ(5,"div",87)(6,"span",72),s._UZ(7,"i",73),s.TgZ(8,"span",74),s._uU(9),s.qZA()()(),s.TgZ(10,"div",88),s._UZ(11,"img",89),s.TgZ(12,"div",90),s._uU(13),s.qZA(),s.TgZ(14,"div"),s._uU(15),s.qZA()(),s.TgZ(16,"div",91)(17,"p-tag",76)(18,"span",77),s._uU(19),s.qZA()()(),s.YNc(20,Bae,6,1,"div",92),s.qZA()()),2&i){const n=e.$implicit,t=s.oxw();s.xp6(2),s.Q6J("ngIf",t.logged),s.xp6(1),s.Q6J("ngIf",t.logged),s.xp6(1),s.Q6J("ngIf",t.logged),s.xp6(5),s.Oqu(n.categoria),s.xp6(2),s.Q6J("src",null!=n.urlImage&&""!=n.urlImage?n.urlImage:t.urlImageDefault,s.LSH)("alt",n.name),s.xp6(2),s.Oqu(n.nombre),s.xp6(2),s.Oqu(n.descripcion),s.xp6(4),s.Oqu("Bs. "+n.precio_unidad+" => "+n.tipo_unitario),s.xp6(1),s.Q6J("ngIf",n.precio_mayor>0)}}function Hae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"div",94),s._uU(1," Historial de compras "),s.TgZ(2,"p-button",95),s.NdJ("click",function(){s.CHM(n);const r=s.oxw();return s.KtG(r.showNewHistory())}),s.qZA()()}}function zae(i,e){1&i&&(s.TgZ(0,"tr")(1,"th"),s._uU(2,"Precio"),s.qZA(),s.TgZ(3,"th"),s._uU(4,"Detalle"),s.qZA(),s.TgZ(5,"th",96),s._uU(6,"Fecha compra "),s._UZ(7,"p-sortIcon",97),s.qZA(),s._UZ(8,"th",98),s.qZA())}function jae(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"tr")(1,"td")(2,"p-tag",76),s._uU(3),s.qZA()(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td",98)(9,"p-button",99),s.NdJ("click",function(){const o=s.CHM(n).$implicit,c=s.oxw();return s.KtG(c.eliminarHistory(o.id))}),s.qZA()()()}if(2&i){const n=e.$implicit;s.xp6(3),s.Oqu("Bs "+n.precio_compra),s.xp6(2),s.Oqu(n.descripcion_cantidad),s.xp6(2),s.Oqu(n.fecha_compra)}}function qae(i,e){1&i&&(s.TgZ(0,"span",100),s._uU(1,"Nuevo Material"),s.qZA())}function Gae(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El nombre es requerido"),s.qZA())}function Zae(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"La categor\xeda es requerida"),s.qZA())}function $ae(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"La descripci\xf3n es requerida"),s.qZA())}function Wae(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El precio es requerido"),s.qZA())}function Yae(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El tipo unitario es requerido"),s.qZA())}function Kae(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El precio es requerido"),s.qZA())}function Qae(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"La cantidad es requerido"),s.qZA())}function Jae(i,e){if(1&i&&s._UZ(0,"p-image",101),2&i){const n=s.oxw();s.Q6J("src",n.imgResultAfterCompression)}}function Xae(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El url es requerido"),s.qZA())}function ele(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El precio es requerido"),s.qZA())}function tle(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El detalle es requerido"),s.qZA())}function nle(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"La fecha es requerida"),s.qZA())}function ile(i,e){1&i&&(s.TgZ(0,"span",100),s._uU(1,"Actualizar Material"),s.qZA())}function rle(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El nombre es requerido"),s.qZA())}function sle(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"La categor\xeda es requerida"),s.qZA())}function ole(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"La descripci\xf3n es requerida"),s.qZA())}function ale(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El precio es requerido"),s.qZA())}function lle(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El tipo unitario es requerido"),s.qZA())}function cle(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El precio es requerido"),s.qZA())}function ule(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"La cantidad es requerido"),s.qZA())}function dle(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El url es requerido"),s.qZA())}function hle(i,e){if(1&i&&s._UZ(0,"p-image",101),2&i){const n=s.oxw();s.Q6J("src",n.imgResultAfterCompression)}}function ple(i,e){1&i&&(s.TgZ(0,"span",100),s._uU(1,"Agregar historico"),s.qZA())}function fle(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El precio es requerido"),s.qZA())}function mle(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"El detalle es requerido"),s.qZA())}function gle(i,e){1&i&&(s.TgZ(0,"small"),s._uU(1,"La fecha es requerida"),s.qZA())}function _le(i,e){1&i&&(s.TgZ(0,"h3"),s._uU(1,"Confirmar"),s.qZA())}function yle(i,e){if(1&i){const n=s.EpF();s.TgZ(0,"button",102),s.NdJ("click",function(){s.CHM(n),s.oxw();const r=s.MAs(151);return s.KtG(r.reject())}),s.qZA(),s.TgZ(1,"button",103),s.NdJ("click",function(){s.CHM(n),s.oxw();const r=s.MAs(151);return s.KtG(r.accept())}),s.qZA()}}const _I=function(){return{width:"50vw"}},vle=function(){return{"960px":"100vw"}},fD=function(){return{"960px":"90vw"}},wle=function(){return{width:"100%",right:"0",left:"0"}},ble=function(i){return{"920px":i}};let Cle=(()=>{var i;class e{constructor(t,r,o,c,d,f,_){this.firestoreService=t,this.fb=r,this.confirmationService=o,this.messageService=c,this.authServ=d,this.imageCompress=f,this.router=_,this.coleccionName="materiales",this.layout="grid",this.dbx=new y8.Dropbox({accessToken:"sl.Blqzq7D9DdUa4M2RdjX1UA1rHPviY0C5kq1iQpUBE4MVEPflciPN4biI1A6FJXzJJkCiC-YJlY5B90tbuVVK8tl-n0umvdn4ECAzn9dYj8Y8jLjukstGnCC2Pg_aR0570jBJa3ex3yZnveKblLX3uIE"}),this.imgResultBeforeCompression="",this.imgResultAfterCompression="",this.loading=!0,this.visibleNewMaterial=!1,this.visibleUpdateMaterial=!1,this.visibleNewHistory=!1,this.visibleHistory=!1,this.urlImageDefault="https://th.bing.com/th/id/OIP.fp8OZd_R-MDc95DNC-uj5wHaHa?pid=ImgDet&rs=1",this.logged=!1,this.materiales=[],this.materialModel=new bae("","","",0,0,0,"",null),this.historyModel=new m8("","",0,""),this.historySelected=[],this.categorias=[{label:"Seleccione un valor",value:""},{label:"Escolar",value:"Escolar"},{label:"Papeleria",value:"Papeleria"},{label:"Regalos",value:"Regalos"},{label:"Farmacia",value:"Farmacia"},{label:"Juguetes",value:"Juguetes"},{label:"Accesorios Celular",value:"Accesorios Celular"},{label:"Accesorios Personales",value:"Accesorios Personales"},{label:"Cintas",value:"Cintas"},{label:"Pintura",value:"Pintura"},{label:"Manualidades",value:"Manualidades"},{label:"Instrumentos",value:"Instrumentos"},{label:"Maquillaje",value:"Maquillaje"},{label:"Tejidos",value:"Tejidos"}],this.categoriasSearch=this.categorias.filter(b=>""!=b.value)}ngOnInit(){this.authServ.logged.subscribe(t=>{this.logged=t}),this.firestoreService.getAll(this.coleccionName).subscribe(t=>{this.materiales=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()})),this.loading=!1}),this.setFormNewMaterial(),this.setFormUpdateMaterial(this.materialModel),this.setFormNewHistory(),this.authServ.tokenDropBox.subscribe(t=>{this.dbx=new y8.Dropbox({accessToken:t})})}setUrl(){this.newMaterialForm.patchValue({urlImage:this.urlImageDefault})}getAuthorization(){this.router.navigateByUrl("https://www.dropbox.com/oauth2/authorize?response_type=code&token_access_type=offline&client_id=pnnrwsyopfwniv7&redirect_uri=https://ryuyii.github.io/fotocopias-uwu/redirect")}setFormNewMaterial(){this.newMaterialForm=this.fb.group({cantidad:[0],categoria:[{label:"Seleccione un valor",value:""}],descripcion:[""],fecha_compra:[""],precio_compra:[0],descripcion_cantidad:[""],nombre:[""],precio_mayor:[0],precio_unidad:[0],tipo_unitario:[""],urlImage:[""]})}setFormUpdateMaterial(t){this.updateMaterialForm=this.fb.group({cantidad:[t.cantidad],categoria:[{label:t.categoria,value:t.categoria}],descripcion:[t.descripcion],nombre:[t.nombre],precio_mayor:[t.precio_mayor],precio_unidad:[t.precio_unidad],tipo_unitario:[t.tipo_unitario],urlImage:[t?.urlImage]})}setFormNewHistory(){this.newHistoryForm=this.fb.group({fecha_compra:[""],precio_compra:[0],descripcion_cantidad:[""]})}formularioNewMaterialEnviado(){this.confirmationService.confirm({message:"Agregar el material?",icon:"pi pi-exclamation-triangle",accept:()=>{this.materialModel=Object.assign({},this.newMaterialForm.value),this.materialModel.categoria=this.newMaterialForm.value.categoria.value,this.materialModel.history=[new m8(XR(),this.newMaterialForm.value.fecha_compra,this.newMaterialForm.value.precio_compra,this.newMaterialForm.value.descripcion_cantidad)];let t=JSON.parse(JSON.stringify(this.materialModel));delete t.fecha_compra,delete t.descripcion_cantidad,delete t.precio_compra,this.firestoreService.createDocument(this.coleccionName,t).then(()=>{this.visibleNewMaterial=!1,this.materialModel=null,this.imgResultAfterCompression="",this.imgResultBeforeCompression="",this.messageService.add({severity:"info",summary:"Confirmado",detail:"Material Agregado"})}).catch(r=>{this.messageService.add({severity:"error",summary:"Error",detail:r})})},reject:t=>{switch(t){case so.REJECT:this.messageService.add({severity:"error",summary:"Rechazado",detail:"Se rechazo la operacion"});break;case so.CANCEL:this.messageService.add({severity:"warn",summary:"Cancelado",detail:"Se cancelo la operacion"})}}})}formularioUpdateEnviado(){this.confirmationService.confirm({message:"Desea editar el material?",icon:"pi pi-exclamation-triangle",accept:()=>{this.materialSelected.cantidad=this.updateMaterialForm.value.cantidad,this.materialSelected.categoria=this.updateMaterialForm.value.categoria.value,this.materialSelected.descripcion=this.updateMaterialForm.value.descripcion,this.materialSelected.nombre=this.updateMaterialForm.value.nombre,this.materialSelected.precio_mayor=this.updateMaterialForm.value.precio_mayor,this.materialSelected.precio_unidad=this.updateMaterialForm.value.precio_unidad,this.materialSelected.tipo_unitario=this.updateMaterialForm.value.tipo_unitario,this.materialSelected.urlImage=this.updateMaterialForm.value.urlImage;let t=JSON.parse(JSON.stringify(this.materialSelected));const r=t.id;delete t.id,this.firestoreService.updateDocument(this.coleccionName,r,t).then(()=>{this.visibleUpdateMaterial=!1,this.materialSelected=null,this.imgResultAfterCompression="",this.imgResultBeforeCompression="",this.messageService.add({severity:"info",summary:"Confirmado",detail:"Material Editado"})}).catch(o=>{this.messageService.add({severity:"error",summary:"Error",detail:o})})},reject:t=>{switch(t){case so.REJECT:this.messageService.add({severity:"error",summary:"Rechazado",detail:"Se rechazo la operacion"});break;case so.CANCEL:this.messageService.add({severity:"warn",summary:"Cancelado",detail:"Se cancelo la operacion"})}}})}formularioNewHistoryEnviado(){this.confirmationService.confirm({message:"Desea agregar el dato historico?",icon:"pi pi-exclamation-triangle",accept:()=>{this.historyModel=Object.assign({},this.newHistoryForm.value),this.historyModel.id=XR(),this.materialSelected.history.push(this.historyModel);let t=JSON.parse(JSON.stringify(this.materialSelected));const r=t.id;delete t.id,this.firestoreService.updateDocument(this.coleccionName,r,t).then(()=>{this.visibleNewHistory=!1,this.historyModel=null,this.messageService.add({severity:"info",summary:"Confirmado",detail:"Nuevo dato historico agregado"})}).catch(o=>{this.messageService.add({severity:"error",summary:"Error",detail:o})})},reject:t=>{switch(t){case so.REJECT:this.messageService.add({severity:"error",summary:"Rechazado",detail:"Se rechazo la operacion"});break;case so.CANCEL:this.messageService.add({severity:"warn",summary:"Cancelado",detail:"Se cancelo la operacion"})}}})}eliminarHistory(t){this.confirmationService.confirm({message:"Desea eliminar el dato historico?",icon:"pi pi-exclamation-triangle",accept:()=>{var r=this.materialSelected.history.filter(d=>d.id!==t);this.materialSelected.history=r;let o=JSON.parse(JSON.stringify(this.materialSelected));const c=o.id;delete o.id,this.firestoreService.updateDocument(this.coleccionName,c,o).then(()=>{this.messageService.add({severity:"info",summary:"Confirmado",detail:"Historico Eliminado"}),this.historySelected=this.materialSelected.history}).catch(d=>{this.messageService.add({severity:"error",summary:"Error",detail:d})})},reject:r=>{switch(r){case so.REJECT:this.messageService.add({severity:"error",summary:"Rechazado",detail:"Se rechazo la operacion"});break;case so.CANCEL:this.messageService.add({severity:"warn",summary:"Cancelado",detail:"Se cancelo la operacion"})}}})}compressFile(){this.imageCompress.uploadFile().then(({image:t,orientation:r})=>{this.imgResultBeforeCompression=t,this.imageCompress.compressFile(t,r,100,75,256,256).then(o=>{this.imgResultAfterCompression=o,this.onSubmit()})})}onSubmit(){let t=atob(this.imgResultAfterCompression.split(",")[1]),r=[];for(let d=0;d<t.length;d++)r.push(t.charCodeAt(d));let o=new Uint8Array(r),c="/"+XR()+".jpg";this.dbx.filesUpload({path:c,contents:o}).then(d=>{this.messageService.add({severity:"info",summary:"Confirmado",detail:"Imagen subida"}),this.dbx.sharingCreateSharedLinkWithSettings({path:c,settings:{requested_visibility:{".tag":"public"}}}).then(f=>{this.newMaterialForm.patchValue({urlImage:this.changeDlParameter(f.result.url)}),this.updateMaterialForm.patchValue({urlImage:this.changeDlParameter(f.result.url)})}).catch(f=>{this.messageService.add({severity:"error",summary:"Rechazado",detail:"Link errorneo "+f})})}).catch(d=>{this.messageService.add({severity:"error",summary:"Rechazado",detail:"La imagen no se subio "+d})})}changeDlParameter(t){return t.includes("dl=0")?t.replace("dl=0","dl=1"):t}showNewMaterial(){this.visibleNewMaterial=!0,this.setFormNewMaterial()}showUpdateMaterial(t){this.visibleUpdateMaterial=!0,this.setFormUpdateMaterial(t),this.materialSelected=t}showNewHistory(){this.visibleNewHistory=!0,this.setFormNewHistory()}showHistory(t){this.visibleHistory=!0,this.materialSelected=t,this.historySelected=t.history}eliminarMaterial(t){this.confirmationService.confirm({message:"Desea eliminar el material?",icon:"pi pi-exclamation-triangle",accept:()=>{this.firestoreService.deleteDocument(this.coleccionName,t).then(()=>{this.messageService.add({severity:"info",summary:"Confirmado",detail:"Material Eliminado"})}).catch(r=>{this.messageService.add({severity:"error",summary:"Rechazado",detail:r})})},reject:r=>{switch(r){case so.REJECT:this.messageService.add({severity:"error",summary:"Rechazado",detail:"Se rechazo la operacion"});break;case so.CANCEL:this.messageService.add({severity:"warn",summary:"Cancelado",detail:"Se cancelo la operacion"})}}})}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(Eae),s.Y36(A1),s.Y36(RR),s.Y36(NR),s.Y36(I0),s.Y36(Sae),s.Y36(ro))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-material"]],decls:155,vars:89,consts:[["filterBy","nombre,categoria",3,"value","loading","paginator","rows","layout"],["dv",""],["pTemplate","header","class","sticky top-0 z-index-1"],["pTemplate","listItem"],["pTemplate","gridItem"],[3,"header","modal","breakpoints","visible","visibleChange"],["styleClass","p-datatable-sm",3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Nuevo",3,"modal","breakpoints","visible","visibleChange"],["novalidate","",3,"formGroup","ngSubmit"],[1,"p-fluid","formgrid","grid"],[1,"field","col-12","md:col-6"],["for","nombre"],["id","nombre","type","text","pInputText","","formControlName","nombre","required",""],[4,"ngIf"],["for","categoria"],["appendTo","body","id","categoria","formControlName","categoria","optionLabel","label","required","",3,"options"],[1,"field","col-12"],["for","descripcion"],["id","descripcion","pInputTextarea","","formControlName","descripcion","required",""],["for","precio_unidad"],["id","precio_unidad","mode","decimal","formControlName","precio_unidad","required","",3,"maxFractionDigits"],["for","tipo_unitario"],["id","tipo_unitario","type","text","pInputText","","formControlName","tipo_unitario","required",""],["for","precio_mayor"],["id","precio_mayor","mode","decimal","formControlName","precio_mayor","required","",3,"maxFractionDigits"],["for","cantidad"],["id","cantidad","formControlName","cantidad","required",""],["for","urlImageNew"],[1,"p-inputgroup"],["id","urlImageNew","type","text","pInputText","","formControlName","urlImage","required","",3,"disabled"],["type","button","pButton","","icon","pi pi-refresh","styleClass","p-button-warn",3,"disabled","click"],["type","button","pButton","","icon","pi pi-upload","styleClass","p-button-warn",3,"disabled","click"],["appendTo","body","type","button","class","p-1 my-auto","alt","Image","width","25",3,"src",4,"ngIf"],["for","precio_compra"],["id","precio_compra","mode","decimal","formControlName","precio_compra","required","",3,"maxFractionDigits"],["for","descripcion_cantidad"],["id","descripcion_cantidad","type","text","pInputText","","formControlName","descripcion_cantidad","required",""],["for","fecha_compra"],["appendTo","body","id","fecha_compra","formControlName","fecha_compra","dataType","string","dateFormat","dd/mm/yy","required","",3,"showIcon"],["pButton","","type","submit","label","Enviar",3,"disabled"],[3,"modal","breakpoints","visible","visibleChange"],["for","urlImage"],["id","urlImage","type","text","pInputText","","formControlName","urlImage","required",""],["header","NewHistorico",3,"modal","breakpoints","visible","visibleChange"],[1,"card","flex","justify-content-center"],[3,"breakpoints"],["cd",""],["pTemplate","footer"],[1,"flex","flex-column","md:flex-row","md:justify-content-between"],[1,"p-inputgroup","w-full","md:w-30rem"],["type","button","icon","pi pi-plus","pButton","","label","NEW",3,"click",4,"ngIf"],["href","https://www.dropbox.com/oauth2/authorize?response_type=code&token_access_type=offline&client_id=pnnrwsyopfwniv7&redirect_uri=https://ryuyii.github.io/fotocopias-uwu/redirect","type","button","icon","pi pi-check","pButton","","label","Auth",4,"ngIf"],[1,"p-inputgroup-addon"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Buscar material",3,"input"],["optionLabel","label","optionValue","value","placeholder","Seleccionar categor\xeda","styleClass","md:w-30rem w-full",3,"showClear","options","onChange"],[1,"hidden","md:inline",3,"layout"],["type","button","icon","pi pi-plus","pButton","","label","NEW",3,"click"],["href","https://www.dropbox.com/oauth2/authorize?response_type=code&token_access_type=offline&client_id=pnnrwsyopfwniv7&redirect_uri=https://ryuyii.github.io/fotocopias-uwu/redirect","type","button","icon","pi pi-check","pButton","","label","Auth"],[1,"col-12","md:col-6"],[1,"relative","flex","flex-column","xl:flex-row","xl:align-items-start","py-4","pl-4","md:pr-6","pr-4","gap-4"],["icon","pi pi-pencil","styleClass","p-button-secondary absolute top-0 left-0 z-1",3,"click",4,"ngIf"],["icon","pi pi-times","styleClass","p-button-danger absolute top-0 right-0 z-1",3,"click",4,"ngIf"],["icon","pi pi-info-circle","styleClass","p-button-rounded p-button-secondary p-button-text p-button-raised absolute bottom-0 right-0 mb-3 mr-3 z-1",3,"click",4,"ngIf"],["loading","lazy",1,"w-9","sm:w-14rem","xl:w-8rem","shadow-3","block","xl:block","mx-auto","border-round",3,"src","alt"],[1,"flex","flex-column","sm:flex-row","justify-content-between","align-items-center","xl:align-items-start","flex-1","gap-4"],[1,"flex","flex-column","align-items-center","sm:align-items-start","gap-3"],[1,"text-3xl","font-bold","text-900"],[1,"flex","align-items-center","gap-3"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-tag"],[1,"font-semibold"],[1,"flex","sm:flex-column","align-items-center","sm:align-items-end","gap-3","sm:gap-2"],["severity","info"],[1,"text-2xl","font-semibold"],["class","flex sm:flex-column align-items-center sm:align-items-end gap-3 sm:gap-2",4,"ngIf"],["icon","pi pi-pencil","styleClass","p-button-secondary absolute top-0 left-0 z-1",3,"click"],["icon","pi pi-times","styleClass","p-button-danger absolute top-0 right-0 z-1",3,"click"],["icon","pi pi-info-circle","styleClass","p-button-rounded p-button-secondary p-button-text p-button-raised absolute bottom-0 right-0 mb-3 mr-3 z-1",3,"click"],["severity","warm"],[1,"text-xl","font-semibold"],[1,"col-12","sm:col-6","lg:col-12","xl:col-2","p-2"],[1,"relative","p-4","border-1","surface-border","surface-card","border-round"],["icon","pi pi-info-circle","styleClass","p-button-rounded p-button-secondary p-button-raised absolute bottom-0 right-0 mb-3 mr-3 z-2",3,"click",4,"ngIf"],[1,"flex","flex-wrap","align-items-center","justify-content-center","gap-2"],[1,"flex","flex-column","align-items-center","gap-3","py-5"],["loading","lazy",1,"w-9","shadow-2","border-round",3,"src","alt"],[1,"text-2xl","font-bold"],[1,"flex","align-items-center","justify-content-center"],["class","flex align-items-center justify-content-center",4,"ngIf"],["icon","pi pi-info-circle","styleClass","p-button-rounded p-button-secondary p-button-raised absolute bottom-0 right-0 mb-3 mr-3 z-2",3,"click"],[1,"flex","align-items-center","justify-content-between"],["icon","pi pi-plus",3,"click"],["pSortableColumn","fecha_compra",2,"width","20%"],["field","fecha_compra"],["width","2.35rem"],["icon","pi pi-times","styleClass","p-button-danger",3,"click"],[1,"text-xl","font-bold"],["appendTo","body","type","button","alt","Image","width","25",1,"p-1","my-auto",3,"src"],["type","button","pButton","","icon","pi pi-times","label","No",3,"click"],["type","button","pButton","","icon","pi pi-check","label","Si",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"p-dataView",0,1),s.YNc(2,Mae,9,5,"ng-template",2),s.YNc(3,Nae,22,10,"ng-template",3),s.YNc(4,Uae,21,10,"ng-template",4),s.qZA(),s.TgZ(5,"p-dialog",5),s.NdJ("visibleChange",function(c){return r.visibleHistory=c}),s.TgZ(6,"p-table",6),s.YNc(7,Hae,3,0,"ng-template",7),s.YNc(8,zae,9,0,"ng-template",8),s.YNc(9,jae,10,3,"ng-template",9),s.qZA()(),s.TgZ(10,"p-dialog",10),s.NdJ("visibleChange",function(c){return r.visibleNewMaterial=c}),s.YNc(11,qae,2,0,"ng-template",8),s.TgZ(12,"form",11),s.NdJ("ngSubmit",function(){return r.formularioNewMaterialEnviado()}),s.TgZ(13,"div",12)(14,"div",13)(15,"label",14),s._uU(16,"Nombre"),s.qZA(),s._UZ(17,"input",15),s.YNc(18,Gae,2,0,"small",16),s.qZA(),s.TgZ(19,"div",13)(20,"label",17),s._uU(21,"Categor\xeda"),s.qZA(),s._UZ(22,"p-dropdown",18),s.YNc(23,Zae,2,0,"small",16),s.qZA(),s.TgZ(24,"div",19)(25,"label",20),s._uU(26,"Descripci\xf3n"),s.qZA(),s._UZ(27,"textarea",21),s.YNc(28,$ae,2,0,"small",16),s.qZA(),s.TgZ(29,"div",13)(30,"label",22),s._uU(31,"Precio Venta Unitario"),s.qZA(),s._UZ(32,"p-inputNumber",23),s.YNc(33,Wae,2,0,"small",16),s.qZA(),s.TgZ(34,"div",13)(35,"label",24),s._uU(36,"Tipo Unitario"),s.qZA(),s._UZ(37,"input",25),s.YNc(38,Yae,2,0,"small",16),s.qZA(),s.TgZ(39,"div",13)(40,"label",26),s._uU(41,"Precio por mayor"),s.qZA(),s._UZ(42,"p-inputNumber",27),s.YNc(43,Kae,2,0,"small",16),s.qZA(),s.TgZ(44,"div",13)(45,"label",28),s._uU(46,"Cantidad por mayor"),s.qZA(),s._UZ(47,"p-inputNumber",29),s.YNc(48,Qae,2,0,"small",16),s.qZA(),s.TgZ(49,"div",13)(50,"label",30),s._uU(51,"Url de la imagen"),s.qZA(),s.TgZ(52,"div",31),s._UZ(53,"input",32),s.TgZ(54,"button",33),s.NdJ("click",function(){return r.setUrl()}),s.qZA(),s.TgZ(55,"button",34),s.NdJ("click",function(){return r.compressFile()}),s.qZA(),s.YNc(56,Jae,1,1,"p-image",35),s.qZA(),s.YNc(57,Xae,2,0,"small",16),s.qZA(),s.TgZ(58,"div",19)(59,"h3"),s._uU(60,"Datos Compra"),s.qZA()(),s.TgZ(61,"div",13)(62,"label",36),s._uU(63,"Precio compra"),s.qZA(),s._UZ(64,"p-inputNumber",37),s.YNc(65,ele,2,0,"small",16),s.qZA(),s.TgZ(66,"div",13)(67,"label",38),s._uU(68,"Detalle de compra"),s.qZA(),s._UZ(69,"input",39),s.YNc(70,tle,2,0,"small",16),s.qZA(),s.TgZ(71,"div",13)(72,"label",40),s._uU(73,"Fecha compra"),s.qZA(),s._UZ(74,"p-calendar",41),s.YNc(75,nle,2,0,"small",16),s.qZA(),s.TgZ(76,"div",19),s._UZ(77,"button",42),s.qZA()()()(),s.TgZ(78,"p-dialog",43),s.NdJ("visibleChange",function(c){return r.visibleUpdateMaterial=c}),s.YNc(79,ile,2,0,"ng-template",8),s.TgZ(80,"form",11),s.NdJ("ngSubmit",function(){return r.formularioUpdateEnviado()}),s.TgZ(81,"div",12)(82,"div",13)(83,"label",14),s._uU(84,"Nombre"),s.qZA(),s._UZ(85,"input",15),s.YNc(86,rle,2,0,"small",16),s.qZA(),s.TgZ(87,"div",13)(88,"label",17),s._uU(89,"Categor\xeda"),s.qZA(),s._UZ(90,"p-dropdown",18),s.YNc(91,sle,2,0,"small",16),s.qZA(),s.TgZ(92,"div",19)(93,"label",20),s._uU(94,"Descripci\xf3n"),s.qZA(),s._UZ(95,"textarea",21),s.YNc(96,ole,2,0,"small",16),s.qZA(),s.TgZ(97,"div",13)(98,"label",22),s._uU(99,"Precio Venta Unitario"),s.qZA(),s._UZ(100,"p-inputNumber",23),s.YNc(101,ale,2,0,"small",16),s.qZA(),s.TgZ(102,"div",13)(103,"label",24),s._uU(104,"Tipo Unitario"),s.qZA(),s._UZ(105,"input",25),s.YNc(106,lle,2,0,"small",16),s.qZA(),s.TgZ(107,"div",13)(108,"label",26),s._uU(109,"Precio por mayor"),s.qZA(),s._UZ(110,"p-inputNumber",27),s.YNc(111,cle,2,0,"small",16),s.qZA(),s.TgZ(112,"div",13)(113,"label",28),s._uU(114,"Cantidad por mayor"),s.qZA(),s._UZ(115,"p-inputNumber",29),s.YNc(116,ule,2,0,"small",16),s.qZA(),s.TgZ(117,"div",13)(118,"label",44),s._uU(119,"Url de la imagen"),s.qZA(),s.TgZ(120,"div",31),s._UZ(121,"input",45),s.YNc(122,dle,2,0,"small",16),s.TgZ(123,"button",33),s.NdJ("click",function(){return r.setUrl()}),s.qZA(),s.TgZ(124,"button",34),s.NdJ("click",function(){return r.compressFile()}),s.qZA(),s.YNc(125,hle,1,1,"p-image",35),s.qZA()(),s.TgZ(126,"div",19),s._UZ(127,"button",42),s.qZA()()()(),s.TgZ(128,"p-dialog",46),s.NdJ("visibleChange",function(c){return r.visibleNewHistory=c}),s.YNc(129,ple,2,0,"ng-template",8),s.TgZ(130,"form",11),s.NdJ("ngSubmit",function(){return r.formularioNewHistoryEnviado()}),s.TgZ(131,"div",12)(132,"div",13)(133,"label",36),s._uU(134,"Precio compra"),s.qZA(),s._UZ(135,"p-inputNumber",37),s.YNc(136,fle,2,0,"small",16),s.qZA(),s.TgZ(137,"div",13)(138,"label",38),s._uU(139,"Detalle de compra"),s.qZA(),s._UZ(140,"input",39),s.YNc(141,mle,2,0,"small",16),s.qZA(),s.TgZ(142,"div",13)(143,"label",40),s._uU(144,"Fecha compra"),s.qZA(),s._UZ(145,"p-calendar",41),s.YNc(146,gle,2,0,"small",16),s.qZA(),s.TgZ(147,"div",19),s._UZ(148,"button",42),s.qZA()()()(),s.TgZ(149,"div",47)(150,"p-confirmDialog",48,49),s.YNc(152,_le,2,0,"ng-template",8),s.YNc(153,yle,2,0,"ng-template",50),s.qZA()(),s._UZ(154,"p-toast",48)),2&t&&(s.Q6J("value",r.materiales)("loading",r.loading)("paginator",!0)("rows",24)("layout",r.layout),s.xp6(5),s.Akn(s.DdM(76,_I)),s.Q6J("header",null==r.materialSelected?null:r.materialSelected.nombre)("modal",!0)("breakpoints",s.DdM(77,vle))("visible",r.visibleHistory),s.xp6(1),s.Q6J("value",r.historySelected),s.xp6(4),s.Akn(s.DdM(78,_I)),s.Q6J("modal",!0)("breakpoints",s.DdM(79,fD))("visible",r.visibleNewMaterial),s.xp6(2),s.Q6J("formGroup",r.newMaterialForm),s.xp6(6),s.Q6J("ngIf",!r.newMaterialForm.controls.nombre.valid&&r.newMaterialForm.controls.nombre.touched),s.xp6(4),s.Q6J("options",r.categorias),s.xp6(1),s.Q6J("ngIf",!r.newMaterialForm.controls.categoria.valid&&r.newMaterialForm.controls.categoria.touched),s.xp6(5),s.Q6J("ngIf",!r.newMaterialForm.controls.descripcion.valid&&r.newMaterialForm.controls.descripcion.touched),s.xp6(4),s.Q6J("maxFractionDigits",1),s.xp6(1),s.Q6J("ngIf",!r.newMaterialForm.controls.precio_unidad.valid&&r.newMaterialForm.controls.precio_unidad.touched),s.xp6(5),s.Q6J("ngIf",!r.newMaterialForm.controls.tipo_unitario.valid&&r.newMaterialForm.controls.tipo_unitario.touched),s.xp6(4),s.Q6J("maxFractionDigits",1),s.xp6(1),s.Q6J("ngIf",!r.newMaterialForm.controls.precio_mayor.valid&&r.newMaterialForm.controls.precio_mayor.touched),s.xp6(5),s.Q6J("ngIf",!r.newMaterialForm.controls.cantidad.valid&&r.newMaterialForm.controls.cantidad.touched),s.xp6(5),s.Q6J("disabled",r.imgResultAfterCompression),s.xp6(1),s.Q6J("disabled",r.imgResultAfterCompression),s.xp6(1),s.Q6J("disabled",r.imgResultAfterCompression),s.xp6(1),s.Q6J("ngIf",r.imgResultAfterCompression),s.xp6(1),s.Q6J("ngIf",!r.newMaterialForm.controls.urlImage.valid&&r.newMaterialForm.controls.urlImage.touched),s.xp6(7),s.Q6J("maxFractionDigits",1),s.xp6(1),s.Q6J("ngIf",!r.newMaterialForm.controls.precio_compra.valid&&r.newMaterialForm.controls.precio_compra.touched),s.xp6(5),s.Q6J("ngIf",!r.newMaterialForm.controls.descripcion_cantidad.valid&&r.newMaterialForm.controls.descripcion_cantidad.touched),s.xp6(4),s.Q6J("showIcon",!0),s.xp6(1),s.Q6J("ngIf",!r.newMaterialForm.controls.fecha_compra.valid&&r.newMaterialForm.controls.fecha_compra.touched),s.xp6(2),s.Q6J("disabled",!r.newMaterialForm.valid),s.xp6(1),s.Akn(s.DdM(80,_I)),s.Q6J("modal",!0)("breakpoints",s.DdM(81,fD))("visible",r.visibleUpdateMaterial),s.xp6(2),s.Q6J("formGroup",r.updateMaterialForm),s.xp6(6),s.Q6J("ngIf",!r.updateMaterialForm.controls.nombre.valid&&r.updateMaterialForm.controls.nombre.touched),s.xp6(4),s.Q6J("options",r.categorias),s.xp6(1),s.Q6J("ngIf",!r.updateMaterialForm.controls.categoria.valid&&r.updateMaterialForm.controls.categoria.touched),s.xp6(5),s.Q6J("ngIf",!r.updateMaterialForm.controls.descripcion.valid&&r.updateMaterialForm.controls.descripcion.touched),s.xp6(4),s.Q6J("maxFractionDigits",1),s.xp6(1),s.Q6J("ngIf",!r.updateMaterialForm.controls.precio_unidad.valid&&r.updateMaterialForm.controls.precio_unidad.touched),s.xp6(5),s.Q6J("ngIf",!r.updateMaterialForm.controls.tipo_unitario.valid&&r.updateMaterialForm.controls.tipo_unitario.touched),s.xp6(4),s.Q6J("maxFractionDigits",1),s.xp6(1),s.Q6J("ngIf",!r.updateMaterialForm.controls.precio_mayor.valid&&r.updateMaterialForm.controls.precio_mayor.touched),s.xp6(5),s.Q6J("ngIf",!r.updateMaterialForm.controls.cantidad.valid&&r.updateMaterialForm.controls.cantidad.touched),s.xp6(6),s.Q6J("ngIf",!r.updateMaterialForm.controls.urlImage.valid&&r.updateMaterialForm.controls.urlImage.touched),s.xp6(1),s.Q6J("disabled",r.imgResultAfterCompression),s.xp6(1),s.Q6J("disabled",r.imgResultAfterCompression),s.xp6(1),s.Q6J("ngIf",r.imgResultAfterCompression),s.xp6(2),s.Q6J("disabled",!r.updateMaterialForm.valid),s.xp6(1),s.Akn(s.DdM(82,_I)),s.Q6J("modal",!0)("breakpoints",s.DdM(83,fD))("visible",r.visibleNewHistory),s.xp6(2),s.Q6J("formGroup",r.newHistoryForm),s.xp6(5),s.Q6J("maxFractionDigits",1),s.xp6(1),s.Q6J("ngIf",!r.newHistoryForm.controls.precio_compra.valid&&r.newHistoryForm.controls.precio_compra.touched),s.xp6(5),s.Q6J("ngIf",!r.newHistoryForm.controls.descripcion_cantidad.valid&&r.newHistoryForm.controls.descripcion_cantidad.touched),s.xp6(4),s.Q6J("showIcon",!0),s.xp6(1),s.Q6J("ngIf",!r.newHistoryForm.controls.fecha_compra.valid&&r.newHistoryForm.controls.fecha_compra.touched),s.xp6(2),s.Q6J("disabled",!r.newHistoryForm.valid),s.xp6(2),s.Akn(s.DdM(84,_I)),s.Q6J("breakpoints",s.DdM(85,fD)),s.xp6(4),s.Q6J("breakpoints",s.VKq(87,ble,s.DdM(86,wle))))},dependencies:[An,ir,HR,C0,iY,q9,Tee,BW,T9,GR,ZR,iy,Yf,u1,W_,om,ay,ld,Rte,Hte,hD,mse,gse,Nse,_oe,p8]}),e})(),Ile=(()=>{var i;class e{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return!0!==this.authService.isLoggedIn||(this.router.navigate([""]),!1)}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(I0),s.LFG(ro))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),e})();class mD{}class gD{}class pu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const t=n.indexOf(":");if(t>0){const r=n.slice(0,t),o=r.toLowerCase(),c=n.slice(t+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,t)=>{this.setHeaderEntries(t,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,t])=>{this.setHeaderEntries(n,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof pu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new pu;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof pu?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if("string"==typeof t&&(t=[t]),0===t.length)return;this.maybeSetNormalizedName(e.name,n);const r=("a"===e.op?this.headers.get(n):void 0)||[];r.push(...t),this.headers.set(n,r);break;case"d":const o=e.value;if(o){let c=this.headers.get(n);if(!c)return;c=c.filter(d=>-1===o.indexOf(d)),0===c.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,c)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const t=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,t),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Tle{encodeKey(e){return v8(e)}encodeValue(e){return v8(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const xle=/%(\d[a-f0-9])/gi,Sle={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function v8(i){return encodeURIComponent(i).replace(xle,(e,n)=>Sle[n]??e)}function _D(i){return`${i}`}class nf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tle,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ele(i,e){const n=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,d]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],f=n.get(c)||[];f.push(d),n.set(c,f)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const t=e.fromObject[n],r=Array.isArray(t)?t.map(_D):[_D(t)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(t=>{const r=e[t];Array.isArray(r)?r.forEach(o=>{n.push({param:t,value:o,op:"a"})}):n.push({param:t,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(t=>n+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new nf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(_D(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const r=t.indexOf(_D(e.value));-1!==r&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Dle{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function w8(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function b8(i){return typeof Blob<"u"&&i instanceof Blob}function C8(i){return typeof FormData<"u"&&i instanceof FormData}class yI{constructor(e,n,t,r){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ale(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==t?t:null,o=r):o=t,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new pu),this.context||(this.context=new Dle),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=n;else{const d=n.indexOf("?");this.urlWithParams=n+(-1===d?"?":d<n.length-1?"&":"")+c}}else this.params=new nf,this.urlWithParams=n}serializeBody(){return null===this.body?null:w8(this.body)||b8(this.body)||C8(this.body)||function Mle(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||C8(this.body)?null:b8(this.body)?this.body.type||null:w8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,t=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let f=e.headers||this.headers,_=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(f=Object.keys(e.setHeaders).reduce((T,M)=>T.set(M,e.setHeaders[M]),f)),e.setParams&&(_=Object.keys(e.setParams).reduce((T,M)=>T.set(M,e.setParams[M]),_)),new yI(n,t,o,{params:_,headers:f,context:b,reportProgress:d,responseType:r,withCredentials:c})}}var T0=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(T0||{});class eO{constructor(e,n=200,t="OK"){this.headers=e.headers||new pu,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class tO extends eO{constructor(e={}){super(e),this.type=T0.ResponseHeader}clone(e={}){return new tO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class E0 extends eO{constructor(e={}){super(e),this.type=T0.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new E0({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class I8 extends eO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nO(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let T8=(()=>{var i;class e{constructor(t){this.handler=t}request(t,r,o={}){let c;if(t instanceof yI)c=t;else{let _,b;_=o.headers instanceof pu?o.headers:new pu(o.headers),o.params&&(b=o.params instanceof nf?o.params:new nf({fromObject:o.params})),c=new yI(t,r,void 0!==o.body?o.body:null,{headers:_,context:o.context,params:b,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=(0,kt.of)(c).pipe(f0(_=>this.handler.handle(_)));if(t instanceof yI||"events"===o.observe)return d;const f=d.pipe(to(_=>_ instanceof E0));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,zt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,zt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,zt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,zt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new nf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,nO(o,r))}post(t,r,o={}){return this.request("POST",t,nO(o,r))}put(t,r,o={}){return this.request("PUT",t,nO(o,r))}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(mD))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();function S8(i,e){return e(i)}function Ple(i,e){return(n,t)=>e.intercept(n,{handle:r=>i(r,t)})}const Ole=new s.OlP(""),vI=new s.OlP(""),D8=new s.OlP("");function Nle(){let i=null;return(e,n)=>{null===i&&(i=((0,s.f3M)(Ole,{optional:!0})??[]).reduceRight(Ple,S8));const t=(0,s.f3M)(s.HDt),r=t.add();return i(e,n).pipe(XC(()=>t.remove(r)))}}let A8=(()=>{var i;class e extends mD{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,s.f3M)(s.HDt)}handle(t){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(vI),...this.injector.get(D8,[])]));this.chain=o.reduceRight((c,d)=>function Rle(i,e,n){return(t,r)=>n.runInContext(()=>e(t,o=>i(o,r)))}(c,d,this.injector),S8)}const r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(XC(()=>this.pendingTasks.remove(r)))}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(gD),s.LFG(s.lqb))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();const Ble=/^\)\]\}',?\n/;let k8=(()=>{var i;class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new s.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Wn.D)(r.\u0275loadImpl()):(0,kt.of)(null)).pipe((0,Ji.w)(()=>new Os.y(c=>{const d=r.build();if(d.open(t.method,t.urlWithParams),t.withCredentials&&(d.withCredentials=!0),t.headers.forEach((te,_e)=>d.setRequestHeader(te,_e.join(","))),t.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const te=t.detectContentTypeHeader();null!==te&&d.setRequestHeader("Content-Type",te)}if(t.responseType){const te=t.responseType.toLowerCase();d.responseType="json"!==te?te:"text"}const f=t.serializeBody();let _=null;const b=()=>{if(null!==_)return _;const te=d.statusText||"OK",_e=new pu(d.getAllResponseHeaders()),Ne=function Ule(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(d)||t.url;return _=new tO({headers:_e,status:d.status,statusText:te,url:Ne}),_},T=()=>{let{headers:te,status:_e,statusText:Ne,url:Ue}=b(),Oe=null;204!==_e&&(Oe=typeof d.response>"u"?d.responseText:d.response),0===_e&&(_e=Oe?200:0);let it=_e>=200&&_e<300;if("json"===t.responseType&&"string"==typeof Oe){const pt=Oe;Oe=Oe.replace(Ble,"");try{Oe=""!==Oe?JSON.parse(Oe):null}catch(Ot){Oe=pt,it&&(it=!1,Oe={error:Ot,text:Oe})}}it?(c.next(new E0({body:Oe,headers:te,status:_e,statusText:Ne,url:Ue||void 0})),c.complete()):c.error(new I8({error:Oe,headers:te,status:_e,statusText:Ne,url:Ue||void 0}))},M=te=>{const{url:_e}=b(),Ne=new I8({error:te,status:d.status||0,statusText:d.statusText||"Unknown Error",url:_e||void 0});c.error(Ne)};let R=!1;const B=te=>{R||(c.next(b()),R=!0);let _e={type:T0.DownloadProgress,loaded:te.loaded};te.lengthComputable&&(_e.total=te.total),"text"===t.responseType&&d.responseText&&(_e.partialText=d.responseText),c.next(_e)},K=te=>{let _e={type:T0.UploadProgress,loaded:te.loaded};te.lengthComputable&&(_e.total=te.total),c.next(_e)};return d.addEventListener("load",T),d.addEventListener("error",M),d.addEventListener("timeout",M),d.addEventListener("abort",M),t.reportProgress&&(d.addEventListener("progress",B),null!==f&&d.upload&&d.upload.addEventListener("progress",K)),d.send(f),c.next({type:T0.Sent}),()=>{d.removeEventListener("error",M),d.removeEventListener("abort",M),d.removeEventListener("load",T),d.removeEventListener("timeout",M),t.reportProgress&&(d.removeEventListener("progress",B),null!==f&&d.upload&&d.upload.removeEventListener("progress",K)),d.readyState!==d.DONE&&d.abort()}})))}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(Pr))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();const iO=new s.OlP("XSRF_ENABLED"),P8=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),R8=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class O8{}let jle=(()=>{var i;class e{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ts(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return(i=e).\u0275fac=function(t){return new(t||i)(s.LFG(ye),s.LFG(s.Lbi),s.LFG(P8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),e})();function qle(i,e){const n=i.url.toLowerCase();if(!(0,s.f3M)(iO)||"GET"===i.method||"HEAD"===i.method||n.startsWith("http://")||n.startsWith("https://"))return e(i);const t=(0,s.f3M)(O8).getToken(),r=(0,s.f3M)(R8);return null!=t&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,t)})),e(i)}var rf=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(rf||{});function t_(i,e){return{\u0275kind:i,\u0275providers:e}}function Gle(...i){const e=[T8,k8,A8,{provide:mD,useExisting:A8},{provide:gD,useExisting:k8},{provide:vI,useValue:qle,multi:!0},{provide:iO,useValue:!0},{provide:O8,useClass:jle}];for(const n of i)e.push(...n.\u0275providers);return(0,s.MR2)(e)}const N8=new s.OlP("LEGACY_INTERCEPTOR_FN");let $le=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Gle(t_(rf.LegacyInterceptors,[{provide:N8,useFactory:Nle},{provide:vI,useExisting:N8,multi:!0}]))]}),e})();const Xle=[{path:"",component:_ae},{path:"login",component:yae,canActivate:[Ile]},{path:"material",component:Cle},{path:"laminas",component:wae},{path:"servicios",component:vae},{path:"auth",component:(()=>{var i;class e{constructor(t,r,o,c){this.http=t,this.route=r,this.router=o,this.auth=c,this.app_secret="uk6ltuvnjiij7ks",this.app_key="pnnrwsyopfwniv7",this.dropboxUrl="https://api.dropboxapi.com/oauth2/token"}ngOnInit(){const t=this.route.snapshot.queryParamMap.get("code");console.log(t),this.route.queryParamMap.subscribe(r=>{const o=r.get("code");localStorage.setItem("code",o),console.log(o),this.getToken(o).subscribe(c=>{console.log(c),this.auth.token=c.access_token,this.router.navigate(["material"])})})}getToken(t){const r=new URLSearchParams;return r.set("code",t),r.set("grant_type","authorization_code"),r.set("client_id",this.app_key),r.set("client_secret",this.app_secret),r.set("redirect_uri","https://ryuyii.github.io/fotocopias-uwu/redirect"),this.http.post(this.dropboxUrl,r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}getRefresh(){const t=new URLSearchParams;return t.set("refresh_token","IuGdZxOyu-8AAAAAAAAAAaZ6GT7X-CKS0UyW9Zw-hEQIYZXJfYySEKiS867bVrSh"),t.set("grant_type","refresh_token"),t.set("client_id",this.app_key),t.set("client_secret",this.app_secret),this.http.post(this.dropboxUrl,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(T8),s.Y36(Xg),s.Y36(ro),s.Y36(I0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-auth"]],decls:2,vars:0,template:function(t,r){1&t&&(s.TgZ(0,"p"),s._uU(1,"auth works!"),s.qZA())}}),e})()},{path:"**",redirectTo:"inicio"}];let ece=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[nD.forRoot(Xle),nD]}),e})();function tce(i,e){if(1&i&&(s.TgZ(0,"p",2),s._uU(1,"LIBRERIA EX-TRANCA"),s.qZA()),2&i){const n=s.oxw();s.Q6J("ngClass",n.logged?"text-primary-400":"text-black-alpha-90")}}let nce=(()=>{var i;class e{constructor(t){this.authServ=t,this.items=[]}ngOnInit(){this.authServ.logged.subscribe(t=>{this.items=[{label:"Inicio",icon:"pi pi-home",routerLink:"/"},{label:"Materiales",icon:"pi pi-inbox",routerLink:"/material"},{label:"Laminas",icon:"pi pi-file",routerLink:"/laminas"},{label:"Servicios",icon:"pi pi-truck",routerLink:"/servicios"},{label:"Robots",icon:"pi pi-circle-on",routerLink:"/robots",visible:!1},{label:"Men\xfa",icon:"pi pi-bars",items:[{label:"Login",icon:"pi pi-sign-in",visible:!t,routerLink:"/login"},{label:"Logout",icon:"pi pi-sign-out",visible:t,command:()=>this.authServ.SignOut()}]}]})}logout(){}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(I0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-nav"]],decls:2,vars:1,consts:[[3,"model"],["pTemplate","end"],[1,"font-bold","text-xl","md:text-3xl","vertical-align-top","my-1",3,"ngClass"]],template:function(t,r){1&t&&(s.TgZ(0,"p-menubar",0),s.YNc(1,tce,2,1,"ng-template",1),s.qZA()),2&t&&s.Q6J("model",r.items)},dependencies:[Pn,FW,ir]}),e})(),ice=(()=>{var i;class e{constructor(t){this.primengConfig=t}ngOnInit(){this.primengConfig.ripple=!0}}return(i=e).\u0275fac=function(t){return new(t||i)(s.Y36(dl))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&s._UZ(0,"app-nav")(1,"router-outlet")},dependencies:[TR,nce]}),e})(),rce=(()=>{var i;class e{}return(i=e).\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i,bootstrap:[ice]}),i.\u0275inj=s.cJS({providers:[NR,RR,{provide:Ze,useClass:Fe}],imports:[Sl,Cr.hO.initializeApp(mae_firebase),rM,lH,WM,vG,ece,VW,zR,e_,Eee,$f,Gee,UW,E9,lD,cD,TA,Ote,cm,zte,_se,Lse,yoe,Loe,cae,fae,$le]}),e})();rs().bootstrapModule(rce).catch(i=>console.error(i))},9337:function(mt,De,U){!function(s){"use strict";function G(S,X){if(!(S instanceof X))throw new TypeError("Cannot call a class as a function")}function L(S,X){for(var de=0;X.length>de;de++){var fe=X[de];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(S,fe.key,fe)}}function re(S,X,de){return X&&L(S.prototype,X),de&&L(S,de),S}function he(S){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)})(S)}function ye(S,X){return(ye=Object.setPrototypeOf||function(de,fe){return de.__proto__=fe,de})(S,X)}function Se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Me(S,X,de){return(Me=Se()?Reflect.construct:function(fe,At,je){var tt=[null];tt.push.apply(tt,At);var Xe=new(Function.bind.apply(fe,tt));return je&&ye(Xe,je.prototype),Xe}).apply(null,arguments)}function Ie(S){var X="function"==typeof Map?new Map:void 0;return(Ie=function(de){if(null===de||-1===Function.toString.call(de).indexOf("[native code]"))return de;if("function"!=typeof de)throw new TypeError("Super expression must either be null or a function");if(void 0!==X){if(X.has(de))return X.get(de);X.set(de,fe)}function fe(){return Me(de,arguments,he(this).constructor)}return fe.prototype=Object.create(de.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),ye(fe,de)})(S)}var Q="app",ue="user",Ze="team",Le="dropboxapi.com",nt="dropbox.com",Fe={api:"api",notify:"bolt",content:"api-content"},V={};function ze(S){var X="000".concat(S.charCodeAt(0).toString(16)).slice(-4);return"\\u".concat(X)}V.accountSetProfilePhoto=function(S){return this.request("account/set_profile_photo",S,"user","api","rpc","account_info.write")},V.authTokenFromOauth1=function(S){return this.request("auth/token/from_oauth1",S,"app","api","rpc",null)},V.authTokenRevoke=function(){return this.request("auth/token/revoke",null,"user","api","rpc",null)},V.checkApp=function(S){return this.request("check/app",S,"app","api","rpc",null)},V.checkUser=function(S){return this.request("check/user",S,"user","api","rpc","account_info.read")},V.contactsDeleteManualContacts=function(){return this.request("contacts/delete_manual_contacts",null,"user","api","rpc","contacts.write")},V.contactsDeleteManualContactsBatch=function(S){return this.request("contacts/delete_manual_contacts_batch",S,"user","api","rpc","contacts.write")},V.filePropertiesPropertiesAdd=function(S){return this.request("file_properties/properties/add",S,"user","api","rpc","files.metadata.write")},V.filePropertiesPropertiesOverwrite=function(S){return this.request("file_properties/properties/overwrite",S,"user","api","rpc","files.metadata.write")},V.filePropertiesPropertiesRemove=function(S){return this.request("file_properties/properties/remove",S,"user","api","rpc","files.metadata.write")},V.filePropertiesPropertiesSearch=function(S){return this.request("file_properties/properties/search",S,"user","api","rpc","files.metadata.read")},V.filePropertiesPropertiesSearchContinue=function(S){return this.request("file_properties/properties/search/continue",S,"user","api","rpc","files.metadata.read")},V.filePropertiesPropertiesUpdate=function(S){return this.request("file_properties/properties/update",S,"user","api","rpc","files.metadata.write")},V.filePropertiesTemplatesAddForTeam=function(S){return this.request("file_properties/templates/add_for_team",S,"team","api","rpc","files.team_metadata.write")},V.filePropertiesTemplatesAddForUser=function(S){return this.request("file_properties/templates/add_for_user",S,"user","api","rpc","files.metadata.write")},V.filePropertiesTemplatesGetForTeam=function(S){return this.request("file_properties/templates/get_for_team",S,"team","api","rpc","files.team_metadata.write")},V.filePropertiesTemplatesGetForUser=function(S){return this.request("file_properties/templates/get_for_user",S,"user","api","rpc","files.metadata.read")},V.filePropertiesTemplatesListForTeam=function(){return this.request("file_properties/templates/list_for_team",null,"team","api","rpc","files.team_metadata.write")},V.filePropertiesTemplatesListForUser=function(){return this.request("file_properties/templates/list_for_user",null,"user","api","rpc","files.metadata.read")},V.filePropertiesTemplatesRemoveForTeam=function(S){return this.request("file_properties/templates/remove_for_team",S,"team","api","rpc","files.team_metadata.write")},V.filePropertiesTemplatesRemoveForUser=function(S){return this.request("file_properties/templates/remove_for_user",S,"user","api","rpc","files.metadata.write")},V.filePropertiesTemplatesUpdateForTeam=function(S){return this.request("file_properties/templates/update_for_team",S,"team","api","rpc","files.team_metadata.write")},V.filePropertiesTemplatesUpdateForUser=function(S){return this.request("file_properties/templates/update_for_user",S,"user","api","rpc","files.metadata.write")},V.fileRequestsCount=function(){return this.request("file_requests/count",null,"user","api","rpc","file_requests.read")},V.fileRequestsCreate=function(S){return this.request("file_requests/create",S,"user","api","rpc","file_requests.write")},V.fileRequestsDelete=function(S){return this.request("file_requests/delete",S,"user","api","rpc","file_requests.write")},V.fileRequestsDeleteAllClosed=function(){return this.request("file_requests/delete_all_closed",null,"user","api","rpc","file_requests.write")},V.fileRequestsGet=function(S){return this.request("file_requests/get",S,"user","api","rpc","file_requests.read")},V.fileRequestsListV2=function(S){return this.request("file_requests/list_v2",S,"user","api","rpc","file_requests.read")},V.fileRequestsList=function(){return this.request("file_requests/list",null,"user","api","rpc","file_requests.read")},V.fileRequestsListContinue=function(S){return this.request("file_requests/list/continue",S,"user","api","rpc","file_requests.read")},V.fileRequestsUpdate=function(S){return this.request("file_requests/update",S,"user","api","rpc","file_requests.write")},V.filesAlphaGetMetadata=function(S){return this.request("files/alpha/get_metadata",S,"user","api","rpc","files.metadata.read")},V.filesAlphaUpload=function(S){return this.request("files/alpha/upload",S,"user","content","upload","files.content.write")},V.filesCopyV2=function(S){return this.request("files/copy_v2",S,"user","api","rpc","files.content.write")},V.filesCopy=function(S){return this.request("files/copy",S,"user","api","rpc","files.content.write")},V.filesCopyBatchV2=function(S){return this.request("files/copy_batch_v2",S,"user","api","rpc","files.content.write")},V.filesCopyBatch=function(S){return this.request("files/copy_batch",S,"user","api","rpc","files.content.write")},V.filesCopyBatchCheckV2=function(S){return this.request("files/copy_batch/check_v2",S,"user","api","rpc","files.content.write")},V.filesCopyBatchCheck=function(S){return this.request("files/copy_batch/check",S,"user","api","rpc","files.content.write")},V.filesCopyReferenceGet=function(S){return this.request("files/copy_reference/get",S,"user","api","rpc","files.content.write")},V.filesCopyReferenceSave=function(S){return this.request("files/copy_reference/save",S,"user","api","rpc","files.content.write")},V.filesCreateFolderV2=function(S){return this.request("files/create_folder_v2",S,"user","api","rpc","files.content.write")},V.filesCreateFolder=function(S){return this.request("files/create_folder",S,"user","api","rpc","files.content.write")},V.filesCreateFolderBatch=function(S){return this.request("files/create_folder_batch",S,"user","api","rpc","files.content.write")},V.filesCreateFolderBatchCheck=function(S){return this.request("files/create_folder_batch/check",S,"user","api","rpc","files.content.write")},V.filesDeleteV2=function(S){return this.request("files/delete_v2",S,"user","api","rpc","files.content.write")},V.filesDelete=function(S){return this.request("files/delete",S,"user","api","rpc","files.content.write")},V.filesDeleteBatch=function(S){return this.request("files/delete_batch",S,"user","api","rpc","files.content.write")},V.filesDeleteBatchCheck=function(S){return this.request("files/delete_batch/check",S,"user","api","rpc","files.content.write")},V.filesDownload=function(S){return this.request("files/download",S,"user","content","download","files.content.read")},V.filesDownloadZip=function(S){return this.request("files/download_zip",S,"user","content","download","files.content.read")},V.filesExport=function(S){return this.request("files/export",S,"user","content","download","files.content.read")},V.filesGetFileLockBatch=function(S){return this.request("files/get_file_lock_batch",S,"user","api","rpc","files.content.read")},V.filesGetMetadata=function(S){return this.request("files/get_metadata",S,"user","api","rpc","files.metadata.read")},V.filesGetPreview=function(S){return this.request("files/get_preview",S,"user","content","download","files.content.read")},V.filesGetTemporaryLink=function(S){return this.request("files/get_temporary_link",S,"user","api","rpc","files.content.read")},V.filesGetTemporaryUploadLink=function(S){return this.request("files/get_temporary_upload_link",S,"user","api","rpc","files.content.write")},V.filesGetThumbnail=function(S){return this.request("files/get_thumbnail",S,"user","content","download","files.content.read")},V.filesGetThumbnailV2=function(S){return this.request("files/get_thumbnail_v2",S,"app, user","content","download","files.content.read")},V.filesGetThumbnailBatch=function(S){return this.request("files/get_thumbnail_batch",S,"user","content","rpc","files.content.read")},V.filesListFolder=function(S){return this.request("files/list_folder",S,"app, user","api","rpc","files.metadata.read")},V.filesListFolderContinue=function(S){return this.request("files/list_folder/continue",S,"app, user","api","rpc","files.metadata.read")},V.filesListFolderGetLatestCursor=function(S){return this.request("files/list_folder/get_latest_cursor",S,"user","api","rpc","files.metadata.read")},V.filesListFolderLongpoll=function(S){return this.request("files/list_folder/longpoll",S,"noauth","notify","rpc","files.metadata.read")},V.filesListRevisions=function(S){return this.request("files/list_revisions",S,"user","api","rpc","files.metadata.read")},V.filesLockFileBatch=function(S){return this.request("files/lock_file_batch",S,"user","api","rpc","files.content.write")},V.filesMoveV2=function(S){return this.request("files/move_v2",S,"user","api","rpc","files.content.write")},V.filesMove=function(S){return this.request("files/move",S,"user","api","rpc","files.content.write")},V.filesMoveBatchV2=function(S){return this.request("files/move_batch_v2",S,"user","api","rpc","files.content.write")},V.filesMoveBatch=function(S){return this.request("files/move_batch",S,"user","api","rpc","files.content.write")},V.filesMoveBatchCheckV2=function(S){return this.request("files/move_batch/check_v2",S,"user","api","rpc","files.content.write")},V.filesMoveBatchCheck=function(S){return this.request("files/move_batch/check",S,"user","api","rpc","files.content.write")},V.filesPaperCreate=function(S){return this.request("files/paper/create",S,"user","api","upload","files.content.write")},V.filesPaperUpdate=function(S){return this.request("files/paper/update",S,"user","api","upload","files.content.write")},V.filesPermanentlyDelete=function(S){return this.request("files/permanently_delete",S,"user","api","rpc","files.permanent_delete")},V.filesPropertiesAdd=function(S){return this.request("files/properties/add",S,"user","api","rpc","files.metadata.write")},V.filesPropertiesOverwrite=function(S){return this.request("files/properties/overwrite",S,"user","api","rpc","files.metadata.write")},V.filesPropertiesRemove=function(S){return this.request("files/properties/remove",S,"user","api","rpc","files.metadata.write")},V.filesPropertiesTemplateGet=function(S){return this.request("files/properties/template/get",S,"user","api","rpc","files.metadata.read")},V.filesPropertiesTemplateList=function(){return this.request("files/properties/template/list",null,"user","api","rpc","files.metadata.read")},V.filesPropertiesUpdate=function(S){return this.request("files/properties/update",S,"user","api","rpc","files.metadata.write")},V.filesRestore=function(S){return this.request("files/restore",S,"user","api","rpc","files.content.write")},V.filesSaveUrl=function(S){return this.request("files/save_url",S,"user","api","rpc","files.content.write")},V.filesSaveUrlCheckJobStatus=function(S){return this.request("files/save_url/check_job_status",S,"user","api","rpc","files.content.write")},V.filesSearch=function(S){return this.request("files/search",S,"user","api","rpc","files.metadata.read")},V.filesSearchV2=function(S){return this.request("files/search_v2",S,"user","api","rpc","files.metadata.read")},V.filesSearchContinueV2=function(S){return this.request("files/search/continue_v2",S,"user","api","rpc","files.metadata.read")},V.filesTagsAdd=function(S){return this.request("files/tags/add",S,"user","api","rpc","files.metadata.write")},V.filesTagsGet=function(S){return this.request("files/tags/get",S,"user","api","rpc","files.metadata.read")},V.filesTagsRemove=function(S){return this.request("files/tags/remove",S,"user","api","rpc","files.metadata.write")},V.filesUnlockFileBatch=function(S){return this.request("files/unlock_file_batch",S,"user","api","rpc","files.content.write")},V.filesUpload=function(S){return this.request("files/upload",S,"user","content","upload","files.content.write")},V.filesUploadSessionAppendV2=function(S){return this.request("files/upload_session/append_v2",S,"user","content","upload","files.content.write")},V.filesUploadSessionAppend=function(S){return this.request("files/upload_session/append",S,"user","content","upload","files.content.write")},V.filesUploadSessionFinish=function(S){return this.request("files/upload_session/finish",S,"user","content","upload","files.content.write")},V.filesUploadSessionFinishBatch=function(S){return this.request("files/upload_session/finish_batch",S,"user","api","rpc","files.content.write")},V.filesUploadSessionFinishBatchV2=function(S){return this.request("files/upload_session/finish_batch_v2",S,"user","api","rpc","files.content.write")},V.filesUploadSessionFinishBatchCheck=function(S){return this.request("files/upload_session/finish_batch/check",S,"user","api","rpc","files.content.write")},V.filesUploadSessionStart=function(S){return this.request("files/upload_session/start",S,"user","content","upload","files.content.write")},V.filesUploadSessionStartBatch=function(S){return this.request("files/upload_session/start_batch",S,"user","api","rpc","files.content.write")},V.openidUserinfo=function(S){return this.request("openid/userinfo",S,"user","api","rpc","openid")},V.paperDocsArchive=function(S){return this.request("paper/docs/archive",S,"user","api","rpc","files.content.write")},V.paperDocsCreate=function(S){return this.request("paper/docs/create",S,"user","api","upload","files.content.write")},V.paperDocsDownload=function(S){return this.request("paper/docs/download",S,"user","api","download","files.content.read")},V.paperDocsFolderUsersList=function(S){return this.request("paper/docs/folder_users/list",S,"user","api","rpc","sharing.read")},V.paperDocsFolderUsersListContinue=function(S){return this.request("paper/docs/folder_users/list/continue",S,"user","api","rpc","sharing.read")},V.paperDocsGetFolderInfo=function(S){return this.request("paper/docs/get_folder_info",S,"user","api","rpc","sharing.read")},V.paperDocsList=function(S){return this.request("paper/docs/list",S,"user","api","rpc","files.metadata.read")},V.paperDocsListContinue=function(S){return this.request("paper/docs/list/continue",S,"user","api","rpc","files.metadata.read")},V.paperDocsPermanentlyDelete=function(S){return this.request("paper/docs/permanently_delete",S,"user","api","rpc","files.permanent_delete")},V.paperDocsSharingPolicyGet=function(S){return this.request("paper/docs/sharing_policy/get",S,"user","api","rpc","sharing.read")},V.paperDocsSharingPolicySet=function(S){return this.request("paper/docs/sharing_policy/set",S,"user","api","rpc","sharing.write")},V.paperDocsUpdate=function(S){return this.request("paper/docs/update",S,"user","api","upload","files.content.write")},V.paperDocsUsersAdd=function(S){return this.request("paper/docs/users/add",S,"user","api","rpc","sharing.write")},V.paperDocsUsersList=function(S){return this.request("paper/docs/users/list",S,"user","api","rpc","sharing.read")},V.paperDocsUsersListContinue=function(S){return this.request("paper/docs/users/list/continue",S,"user","api","rpc","sharing.read")},V.paperDocsUsersRemove=function(S){return this.request("paper/docs/users/remove",S,"user","api","rpc","sharing.write")},V.paperFoldersCreate=function(S){return this.request("paper/folders/create",S,"user","api","rpc","files.content.write")},V.sharingAddFileMember=function(S){return this.request("sharing/add_file_member",S,"user","api","rpc","sharing.write")},V.sharingAddFolderMember=function(S){return this.request("sharing/add_folder_member",S,"user","api","rpc","sharing.write")},V.sharingCheckJobStatus=function(S){return this.request("sharing/check_job_status",S,"user","api","rpc","sharing.write")},V.sharingCheckRemoveMemberJobStatus=function(S){return this.request("sharing/check_remove_member_job_status",S,"user","api","rpc","sharing.write")},V.sharingCheckShareJobStatus=function(S){return this.request("sharing/check_share_job_status",S,"user","api","rpc","sharing.write")},V.sharingCreateSharedLink=function(S){return this.request("sharing/create_shared_link",S,"user","api","rpc","sharing.write")},V.sharingCreateSharedLinkWithSettings=function(S){return this.request("sharing/create_shared_link_with_settings",S,"user","api","rpc","sharing.write")},V.sharingGetFileMetadata=function(S){return this.request("sharing/get_file_metadata",S,"user","api","rpc","sharing.read")},V.sharingGetFileMetadataBatch=function(S){return this.request("sharing/get_file_metadata/batch",S,"user","api","rpc","sharing.read")},V.sharingGetFolderMetadata=function(S){return this.request("sharing/get_folder_metadata",S,"user","api","rpc","sharing.read")},V.sharingGetSharedLinkFile=function(S){return this.request("sharing/get_shared_link_file",S,"user","content","download","sharing.read")},V.sharingGetSharedLinkMetadata=function(S){return this.request("sharing/get_shared_link_metadata",S,"app, user","api","rpc","sharing.read")},V.sharingGetSharedLinks=function(S){return this.request("sharing/get_shared_links",S,"user","api","rpc","sharing.read")},V.sharingListFileMembers=function(S){return this.request("sharing/list_file_members",S,"user","api","rpc","sharing.read")},V.sharingListFileMembersBatch=function(S){return this.request("sharing/list_file_members/batch",S,"user","api","rpc","sharing.read")},V.sharingListFileMembersContinue=function(S){return this.request("sharing/list_file_members/continue",S,"user","api","rpc","sharing.read")},V.sharingListFolderMembers=function(S){return this.request("sharing/list_folder_members",S,"user","api","rpc","sharing.read")},V.sharingListFolderMembersContinue=function(S){return this.request("sharing/list_folder_members/continue",S,"user","api","rpc","sharing.read")},V.sharingListFolders=function(S){return this.request("sharing/list_folders",S,"user","api","rpc","sharing.read")},V.sharingListFoldersContinue=function(S){return this.request("sharing/list_folders/continue",S,"user","api","rpc","sharing.read")},V.sharingListMountableFolders=function(S){return this.request("sharing/list_mountable_folders",S,"user","api","rpc","sharing.read")},V.sharingListMountableFoldersContinue=function(S){return this.request("sharing/list_mountable_folders/continue",S,"user","api","rpc","sharing.read")},V.sharingListReceivedFiles=function(S){return this.request("sharing/list_received_files",S,"user","api","rpc","sharing.read")},V.sharingListReceivedFilesContinue=function(S){return this.request("sharing/list_received_files/continue",S,"user","api","rpc","sharing.read")},V.sharingListSharedLinks=function(S){return this.request("sharing/list_shared_links",S,"user","api","rpc","sharing.read")},V.sharingModifySharedLinkSettings=function(S){return this.request("sharing/modify_shared_link_settings",S,"user","api","rpc","sharing.write")},V.sharingMountFolder=function(S){return this.request("sharing/mount_folder",S,"user","api","rpc","sharing.write")},V.sharingRelinquishFileMembership=function(S){return this.request("sharing/relinquish_file_membership",S,"user","api","rpc","sharing.write")},V.sharingRelinquishFolderMembership=function(S){return this.request("sharing/relinquish_folder_membership",S,"user","api","rpc","sharing.write")},V.sharingRemoveFileMember=function(S){return this.request("sharing/remove_file_member",S,"user","api","rpc","sharing.write")},V.sharingRemoveFileMember2=function(S){return this.request("sharing/remove_file_member_2",S,"user","api","rpc","sharing.write")},V.sharingRemoveFolderMember=function(S){return this.request("sharing/remove_folder_member",S,"user","api","rpc","sharing.write")},V.sharingRevokeSharedLink=function(S){return this.request("sharing/revoke_shared_link",S,"user","api","rpc","sharing.write")},V.sharingSetAccessInheritance=function(S){return this.request("sharing/set_access_inheritance",S,"user","api","rpc","sharing.write")},V.sharingShareFolder=function(S){return this.request("sharing/share_folder",S,"user","api","rpc","sharing.write")},V.sharingTransferFolder=function(S){return this.request("sharing/transfer_folder",S,"user","api","rpc","sharing.write")},V.sharingUnmountFolder=function(S){return this.request("sharing/unmount_folder",S,"user","api","rpc","sharing.write")},V.sharingUnshareFile=function(S){return this.request("sharing/unshare_file",S,"user","api","rpc","sharing.write")},V.sharingUnshareFolder=function(S){return this.request("sharing/unshare_folder",S,"user","api","rpc","sharing.write")},V.sharingUpdateFileMember=function(S){return this.request("sharing/update_file_member",S,"user","api","rpc","sharing.write")},V.sharingUpdateFolderMember=function(S){return this.request("sharing/update_folder_member",S,"user","api","rpc","sharing.write")},V.sharingUpdateFolderPolicy=function(S){return this.request("sharing/update_folder_policy",S,"user","api","rpc","sharing.write")},V.teamDevicesListMemberDevices=function(S){return this.request("team/devices/list_member_devices",S,"team","api","rpc","sessions.list")},V.teamDevicesListMembersDevices=function(S){return this.request("team/devices/list_members_devices",S,"team","api","rpc","sessions.list")},V.teamDevicesListTeamDevices=function(S){return this.request("team/devices/list_team_devices",S,"team","api","rpc","sessions.list")},V.teamDevicesRevokeDeviceSession=function(S){return this.request("team/devices/revoke_device_session",S,"team","api","rpc","sessions.modify")},V.teamDevicesRevokeDeviceSessionBatch=function(S){return this.request("team/devices/revoke_device_session_batch",S,"team","api","rpc","sessions.modify")},V.teamFeaturesGetValues=function(S){return this.request("team/features/get_values",S,"team","api","rpc","team_info.read")},V.teamGetInfo=function(){return this.request("team/get_info",null,"team","api","rpc","team_info.read")},V.teamGroupsCreate=function(S){return this.request("team/groups/create",S,"team","api","rpc","groups.write")},V.teamGroupsDelete=function(S){return this.request("team/groups/delete",S,"team","api","rpc","groups.write")},V.teamGroupsGetInfo=function(S){return this.request("team/groups/get_info",S,"team","api","rpc","groups.read")},V.teamGroupsJobStatusGet=function(S){return this.request("team/groups/job_status/get",S,"team","api","rpc","groups.write")},V.teamGroupsList=function(S){return this.request("team/groups/list",S,"team","api","rpc","groups.read")},V.teamGroupsListContinue=function(S){return this.request("team/groups/list/continue",S,"team","api","rpc","groups.read")},V.teamGroupsMembersAdd=function(S){return this.request("team/groups/members/add",S,"team","api","rpc","groups.write")},V.teamGroupsMembersList=function(S){return this.request("team/groups/members/list",S,"team","api","rpc","groups.read")},V.teamGroupsMembersListContinue=function(S){return this.request("team/groups/members/list/continue",S,"team","api","rpc","groups.read")},V.teamGroupsMembersRemove=function(S){return this.request("team/groups/members/remove",S,"team","api","rpc","groups.write")},V.teamGroupsMembersSetAccessType=function(S){return this.request("team/groups/members/set_access_type",S,"team","api","rpc","groups.write")},V.teamGroupsUpdate=function(S){return this.request("team/groups/update",S,"team","api","rpc","groups.write")},V.teamLegalHoldsCreatePolicy=function(S){return this.request("team/legal_holds/create_policy",S,"team","api","rpc","team_data.governance.write")},V.teamLegalHoldsGetPolicy=function(S){return this.request("team/legal_holds/get_policy",S,"team","api","rpc","team_data.governance.write")},V.teamLegalHoldsListHeldRevisions=function(S){return this.request("team/legal_holds/list_held_revisions",S,"team","api","rpc","team_data.governance.write")},V.teamLegalHoldsListHeldRevisionsContinue=function(S){return this.request("team/legal_holds/list_held_revisions_continue",S,"team","api","rpc","team_data.governance.write")},V.teamLegalHoldsListPolicies=function(S){return this.request("team/legal_holds/list_policies",S,"team","api","rpc","team_data.governance.write")},V.teamLegalHoldsReleasePolicy=function(S){return this.request("team/legal_holds/release_policy",S,"team","api","rpc","team_data.governance.write")},V.teamLegalHoldsUpdatePolicy=function(S){return this.request("team/legal_holds/update_policy",S,"team","api","rpc","team_data.governance.write")},V.teamLinkedAppsListMemberLinkedApps=function(S){return this.request("team/linked_apps/list_member_linked_apps",S,"team","api","rpc","sessions.list")},V.teamLinkedAppsListMembersLinkedApps=function(S){return this.request("team/linked_apps/list_members_linked_apps",S,"team","api","rpc","sessions.list")},V.teamLinkedAppsListTeamLinkedApps=function(S){return this.request("team/linked_apps/list_team_linked_apps",S,"team","api","rpc","sessions.list")},V.teamLinkedAppsRevokeLinkedApp=function(S){return this.request("team/linked_apps/revoke_linked_app",S,"team","api","rpc","sessions.modify")},V.teamLinkedAppsRevokeLinkedAppBatch=function(S){return this.request("team/linked_apps/revoke_linked_app_batch",S,"team","api","rpc","sessions.modify")},V.teamMemberSpaceLimitsExcludedUsersAdd=function(S){return this.request("team/member_space_limits/excluded_users/add",S,"team","api","rpc","members.write")},V.teamMemberSpaceLimitsExcludedUsersList=function(S){return this.request("team/member_space_limits/excluded_users/list",S,"team","api","rpc","members.read")},V.teamMemberSpaceLimitsExcludedUsersListContinue=function(S){return this.request("team/member_space_limits/excluded_users/list/continue",S,"team","api","rpc","members.read")},V.teamMemberSpaceLimitsExcludedUsersRemove=function(S){return this.request("team/member_space_limits/excluded_users/remove",S,"team","api","rpc","members.write")},V.teamMemberSpaceLimitsGetCustomQuota=function(S){return this.request("team/member_space_limits/get_custom_quota",S,"team","api","rpc","members.read")},V.teamMemberSpaceLimitsRemoveCustomQuota=function(S){return this.request("team/member_space_limits/remove_custom_quota",S,"team","api","rpc","members.write")},V.teamMemberSpaceLimitsSetCustomQuota=function(S){return this.request("team/member_space_limits/set_custom_quota",S,"team","api","rpc","members.read")},V.teamMembersAddV2=function(S){return this.request("team/members/add_v2",S,"team","api","rpc","members.write")},V.teamMembersAdd=function(S){return this.request("team/members/add",S,"team","api","rpc","members.write")},V.teamMembersAddJobStatusGetV2=function(S){return this.request("team/members/add/job_status/get_v2",S,"team","api","rpc","members.write")},V.teamMembersAddJobStatusGet=function(S){return this.request("team/members/add/job_status/get",S,"team","api","rpc","members.write")},V.teamMembersDeleteProfilePhotoV2=function(S){return this.request("team/members/delete_profile_photo_v2",S,"team","api","rpc","members.write")},V.teamMembersDeleteProfilePhoto=function(S){return this.request("team/members/delete_profile_photo",S,"team","api","rpc","members.write")},V.teamMembersGetAvailableTeamMemberRoles=function(){return this.request("team/members/get_available_team_member_roles",null,"team","api","rpc","members.read")},V.teamMembersGetInfoV2=function(S){return this.request("team/members/get_info_v2",S,"team","api","rpc","members.read")},V.teamMembersGetInfo=function(S){return this.request("team/members/get_info",S,"team","api","rpc","members.read")},V.teamMembersListV2=function(S){return this.request("team/members/list_v2",S,"team","api","rpc","members.read")},V.teamMembersList=function(S){return this.request("team/members/list",S,"team","api","rpc","members.read")},V.teamMembersListContinueV2=function(S){return this.request("team/members/list/continue_v2",S,"team","api","rpc","members.read")},V.teamMembersListContinue=function(S){return this.request("team/members/list/continue",S,"team","api","rpc","members.read")},V.teamMembersMoveFormerMemberFiles=function(S){return this.request("team/members/move_former_member_files",S,"team","api","rpc","members.write")},V.teamMembersMoveFormerMemberFilesJobStatusCheck=function(S){return this.request("team/members/move_former_member_files/job_status/check",S,"team","api","rpc","members.write")},V.teamMembersRecover=function(S){return this.request("team/members/recover",S,"team","api","rpc","members.delete")},V.teamMembersRemove=function(S){return this.request("team/members/remove",S,"team","api","rpc","members.delete")},V.teamMembersRemoveJobStatusGet=function(S){return this.request("team/members/remove/job_status/get",S,"team","api","rpc","members.delete")},V.teamMembersSecondaryEmailsAdd=function(S){return this.request("team/members/secondary_emails/add",S,"team","api","rpc","members.write")},V.teamMembersSecondaryEmailsDelete=function(S){return this.request("team/members/secondary_emails/delete",S,"team","api","rpc","members.write")},V.teamMembersSecondaryEmailsResendVerificationEmails=function(S){return this.request("team/members/secondary_emails/resend_verification_emails",S,"team","api","rpc","members.write")},V.teamMembersSendWelcomeEmail=function(S){return this.request("team/members/send_welcome_email",S,"team","api","rpc","members.write")},V.teamMembersSetAdminPermissionsV2=function(S){return this.request("team/members/set_admin_permissions_v2",S,"team","api","rpc","members.write")},V.teamMembersSetAdminPermissions=function(S){return this.request("team/members/set_admin_permissions",S,"team","api","rpc","members.write")},V.teamMembersSetProfileV2=function(S){return this.request("team/members/set_profile_v2",S,"team","api","rpc","members.write")},V.teamMembersSetProfile=function(S){return this.request("team/members/set_profile",S,"team","api","rpc","members.write")},V.teamMembersSetProfilePhotoV2=function(S){return this.request("team/members/set_profile_photo_v2",S,"team","api","rpc","members.write")},V.teamMembersSetProfilePhoto=function(S){return this.request("team/members/set_profile_photo",S,"team","api","rpc","members.write")},V.teamMembersSuspend=function(S){return this.request("team/members/suspend",S,"team","api","rpc","members.write")},V.teamMembersUnsuspend=function(S){return this.request("team/members/unsuspend",S,"team","api","rpc","members.write")},V.teamNamespacesList=function(S){return this.request("team/namespaces/list",S,"team","api","rpc","team_data.member")},V.teamNamespacesListContinue=function(S){return this.request("team/namespaces/list/continue",S,"team","api","rpc","team_data.member")},V.teamPropertiesTemplateAdd=function(S){return this.request("team/properties/template/add",S,"team","api","rpc","files.team_metadata.write")},V.teamPropertiesTemplateGet=function(S){return this.request("team/properties/template/get",S,"team","api","rpc","files.team_metadata.write")},V.teamPropertiesTemplateList=function(){return this.request("team/properties/template/list",null,"team","api","rpc","files.team_metadata.write")},V.teamPropertiesTemplateUpdate=function(S){return this.request("team/properties/template/update",S,"team","api","rpc","files.team_metadata.write")},V.teamReportsGetActivity=function(S){return this.request("team/reports/get_activity",S,"team","api","rpc","team_info.read")},V.teamReportsGetDevices=function(S){return this.request("team/reports/get_devices",S,"team","api","rpc","team_info.read")},V.teamReportsGetMembership=function(S){return this.request("team/reports/get_membership",S,"team","api","rpc","team_info.read")},V.teamReportsGetStorage=function(S){return this.request("team/reports/get_storage",S,"team","api","rpc","team_info.read")},V.teamSharingAllowlistAdd=function(S){return this.request("team/sharing_allowlist/add",S,"team","api","rpc","team_info.write")},V.teamSharingAllowlistList=function(S){return this.request("team/sharing_allowlist/list",S,"team","api","rpc","team_info.read")},V.teamSharingAllowlistListContinue=function(S){return this.request("team/sharing_allowlist/list/continue",S,"team","api","rpc","team_info.read")},V.teamSharingAllowlistRemove=function(S){return this.request("team/sharing_allowlist/remove",S,"team","api","rpc","team_info.write")},V.teamTeamFolderActivate=function(S){return this.request("team/team_folder/activate",S,"team","api","rpc","team_data.content.write")},V.teamTeamFolderArchive=function(S){return this.request("team/team_folder/archive",S,"team","api","rpc","team_data.content.write")},V.teamTeamFolderArchiveCheck=function(S){return this.request("team/team_folder/archive/check",S,"team","api","rpc","team_data.content.write")},V.teamTeamFolderCreate=function(S){return this.request("team/team_folder/create",S,"team","api","rpc","team_data.content.write")},V.teamTeamFolderGetInfo=function(S){return this.request("team/team_folder/get_info",S,"team","api","rpc","team_data.content.read")},V.teamTeamFolderList=function(S){return this.request("team/team_folder/list",S,"team","api","rpc","team_data.content.read")},V.teamTeamFolderListContinue=function(S){return this.request("team/team_folder/list/continue",S,"team","api","rpc","team_data.content.read")},V.teamTeamFolderPermanentlyDelete=function(S){return this.request("team/team_folder/permanently_delete",S,"team","api","rpc","team_data.content.write")},V.teamTeamFolderRename=function(S){return this.request("team/team_folder/rename",S,"team","api","rpc","team_data.content.write")},V.teamTeamFolderUpdateSyncSettings=function(S){return this.request("team/team_folder/update_sync_settings",S,"team","api","rpc","team_data.content.write")},V.teamTokenGetAuthenticatedAdmin=function(){return this.request("team/token/get_authenticated_admin",null,"team","api","rpc","team_info.read")},V.teamLogGetEvents=function(S){return this.request("team_log/get_events",S,"team","api","rpc","events.read")},V.teamLogGetEventsContinue=function(S){return this.request("team_log/get_events/continue",S,"team","api","rpc","events.read")},V.usersFeaturesGetValues=function(S){return this.request("users/features/get_values",S,"user","api","rpc","account_info.read")},V.usersGetAccount=function(S){return this.request("users/get_account",S,"user","api","rpc","sharing.read")},V.usersGetAccountBatch=function(S){return this.request("users/get_account_batch",S,"user","api","rpc","sharing.read")},V.usersGetCurrentAccount=function(){return this.request("users/get_current_account",null,"user","api","rpc","account_info.read")},V.usersGetSpaceUsage=function(){return this.request("users/get_space_usage",null,"user","api","rpc","account_info.read")};var at=function(S){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le,de=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return de?(X!==Le&&void 0!==Fe[S]&&(S=Fe[S],de="-"),"https://".concat(S).concat(de).concat(X,"/2/")):"https://".concat(X,"/2/")},ce=function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",de="api";return S!==Le&&(de=Fe[de],X="-"),"https://".concat(de).concat(X).concat(S,"/oauth2/token")};function Ve(S){return JSON.stringify(S).replace(/[\u007f-\uffff]/g,ze)}function Pe(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof window<"u"}function oe(){return typeof window<"u"}function pe(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Re(S){return S.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var Je,_t,wn,kn=function(S){!function(je,tt){if("function"!=typeof tt&&null!==tt)throw new TypeError("Super expression must either be null or a function");je.prototype=Object.create(tt&&tt.prototype,{constructor:{value:je,writable:!0,configurable:!0}}),tt&&ye(je,tt)}(At,S);var X,de,fe=(X=At,de=Se(),function(){var je,tt=he(X);if(de){var Xe=he(this).constructor;je=Reflect.construct(tt,arguments,Xe)}else je=tt.apply(this,arguments);return function Z(S,X){return!X||"object"!=typeof X&&"function"!=typeof X?function(de){if(void 0===de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}(S):X}(this,je)});function At(je,tt,Xe){var Nt;return G(this,At),(Nt=fe.call(this,"Response failed with a ".concat(je," code"))).name="DropboxResponseError",Nt.status=je,Nt.headers=tt,Nt.error=Xe,Nt}return At}(Ie(Error)),dn=function S(X,de,fe){G(this,S),this.status=X,this.headers=de,this.result=fe};function bn(S){return S.text().then(function(X){var de;try{de=JSON.parse(X)}catch{de=X}throw new kn(S.status,S.headers,de)})}function qn(S){return S.ok?S.text().then(function(X){var de;try{de=JSON.parse(X)}catch{de=X}return new dn(S.status,S.headers,de)}):bn(S)}var Cs=["legacy","offline","online"],ve=["code","token"],be=["none","user","team"],xe=function(){function S(X){G(this,S),X=X||{},oe()?(Je=window.fetch.bind(window),_t=window.crypto||window.msCrypto):pe()?(Je=self.fetch.bind(self),_t=self.crypto):(Je=U(6281),_t=U(8090)),wn=typeof TextEncoder>"u"?U(2974).TextEncoder:TextEncoder,this.fetch=X.fetch||Je,this.accessToken=X.accessToken,this.accessTokenExpiresAt=X.accessTokenExpiresAt,this.refreshToken=X.refreshToken,this.clientId=X.clientId,this.clientSecret=X.clientSecret,this.domain=X.domain,this.domainDelimiter=X.domainDelimiter,this.customHeaders=X.customHeaders,this.dataOnBody=X.dataOnBody}return re(S,[{key:"setAccessToken",value:function(X){this.accessToken=X}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"setClientId",value:function(X){this.clientId=X}},{key:"getClientId",value:function(){return this.clientId}},{key:"setClientSecret",value:function(X){this.clientSecret=X}},{key:"getClientSecret",value:function(){return this.clientSecret}},{key:"getRefreshToken",value:function(){return this.refreshToken}},{key:"setRefreshToken",value:function(X){this.refreshToken=X}},{key:"getAccessTokenExpiresAt",value:function(){return this.accessTokenExpiresAt}},{key:"setAccessTokenExpiresAt",value:function(X){this.accessTokenExpiresAt=X}},{key:"setCodeVerifier",value:function(X){this.codeVerifier=X}},{key:"getCodeVerifier",value:function(){return this.codeVerifier}},{key:"generateCodeChallenge",value:function(){var X,de=this,fe=(new wn).encode(this.codeVerifier);if(oe()||pe())return _t.subtle.digest("SHA-256",fe).then(function(je){var tt=btoa(String.fromCharCode.apply(null,new Uint8Array(je)));X=Re(tt).substr(0,128),de.codeChallenge=X});var At=_t.createHash("sha256").update(fe).digest();return X=Re(At),this.codeChallenge=X,Promise.resolve()}},{key:"generatePKCECodes",value:function(){var X;if(oe()||pe()){var de=new Uint8Array(128),fe=_t.getRandomValues(de);X=Re(btoa(fe)).substr(0,128)}else X=Re(_t.randomBytes(128)).substr(0,128);return this.codeVerifier=X,this.generateCodeChallenge()}},{key:"getAuthenticationUrl",value:function(X,de){var fe,At=this,je=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"token",tt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,Xe=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Nt=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none",hn=arguments.length>6&&void 0!==arguments[6]&&arguments[6],Fn=this.getClientId(),Kt=function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return S!==nt&&(S="meta-".concat(S)),"https://".concat(S,"/oauth2/authorize")}(this.domain);if(!Fn)throw Error("A client id is required. You can set the client id using .setClientId().");if("code"!==je&&!X)throw Error("A redirect uri is required.");if(!ve.includes(je))throw Error("Authorization type must be code or token");if(tt&&!Cs.includes(tt))throw Error("Token Access Type must be legacy, offline, or online");if(Xe&&!(Xe instanceof Array))throw Error("Scope must be an array of strings");if(!be.includes(Nt))throw Error("includeGrantedScopes must be none, user, or team");return fe="code"===je?"".concat(Kt,"?response_type=code&client_id=").concat(Fn):"".concat(Kt,"?response_type=token&client_id=").concat(Fn),X&&(fe+="&redirect_uri=".concat(X)),de&&(fe+="&state=".concat(de)),tt&&(fe+="&token_access_type=".concat(tt)),Xe&&(fe+="&scope=".concat(Xe.join(" "))),"none"!==Nt&&(fe+="&include_granted_scopes=".concat(Nt)),hn?this.generatePKCECodes().then(function(){return fe+="&code_challenge_method=S256",fe+="&code_challenge=".concat(At.codeChallenge)}):Promise.resolve(fe)}},{key:"getAccessTokenFromCode",value:function(X,de){var fe=this.getClientId(),At=this.getClientSecret();if(!fe)throw Error("A client id is required. You can set the client id using .setClientId().");var je=ce(this.domain,this.domainDelimiter);if(je+="?grant_type=authorization_code",je+="&code=".concat(de),je+="&client_id=".concat(fe),At)je+="&client_secret=".concat(At);else{if(!this.codeVerifier)throw Error("You must use PKCE when generating the authorization URL to not include a client secret");je+="&code_verifier=".concat(this.codeVerifier)}return X&&(je+="&redirect_uri=".concat(X)),this.fetch(je,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(tt){return qn(tt)})}},{key:"checkAndRefreshAccessToken",value:function(){var X=this.getRefreshToken()&&this.getClientId(),de=!this.getAccessTokenExpiresAt()||new Date(Date.now()+3e5)>=this.getAccessTokenExpiresAt(),fe=!this.getAccessToken();return(de||fe)&&X?this.refreshAccessToken():Promise.resolve()}},{key:"refreshAccessToken",value:function(){var X=this,de=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,fe=this.getClientId(),At=this.getClientSecret();if(!fe)throw Error("A client id is required. You can set the client id using .setClientId().");if(de&&!(de instanceof Array))throw Error("Scope must be an array of strings");var je=ce(this.domain,this.domainDelimiter),tt={headers:{"Content-Type":"application/json"},method:"POST"};if(this.dataOnBody){var Xe={grant_type:"refresh_token",client_id:fe,refresh_token:this.getRefreshToken()};At&&(Xe.client_secret=At),de&&(Xe.scope=de.join(" ")),tt.body=Xe}else je+="?grant_type=refresh_token&refresh_token=".concat(this.getRefreshToken()),je+="&client_id=".concat(fe),At&&(je+="&client_secret=".concat(At)),de&&(je+="&scope=".concat(de.join(" ")));return this.fetch(je,tt).then(function(Nt){return qn(Nt)}).then(function(Nt){X.setAccessToken(Nt.result.access_token),X.setAccessTokenExpiresAt(function ge(S){return new Date(Date.now()+1e3*S)}(Nt.result.expires_in))})}}]),S}(),Ee=typeof btoa>"u"?function(S){return Buffer.from(S).toString("base64")}:btoa;s.Dropbox=function(){function S(X){G(this,S),this.auth=(X=X||{}).auth?X.auth:new xe(X),this.fetch=X.fetch||this.auth.fetch,this.selectUser=X.selectUser,this.selectAdmin=X.selectAdmin,this.pathRoot=X.pathRoot,this.domain=X.domain||this.auth.domain,this.domainDelimiter=X.domainDelimiter||this.auth.domainDelimiter,this.customHeaders=X.customHeaders||this.auth.customHeaders,Object.assign(this,V)}return re(S,[{key:"request",value:function(X,de,fe,At,je){switch(je){case"rpc":return this.rpcRequest(X,de,fe,At);case"download":return this.downloadRequest(X,de,fe,At);case"upload":return this.uploadRequest(X,de,fe,At);default:throw Error("Invalid request style: ".concat(je))}}},{key:"rpcRequest",value:function(X,de,fe,At){var je=this;return this.auth.checkAndRefreshAccessToken().then(function(){var tt={method:"POST",body:de?JSON.stringify(de):null,headers:{}};return de&&(tt.headers["Content-Type"]="application/json"),je.setAuthHeaders(fe,tt),je.setCommonHeaders(tt),tt}).then(function(tt){return je.fetch(at(At,je.domain,je.domainDelimiter)+X,tt)}).then(function(tt){return qn(tt)})}},{key:"downloadRequest",value:function(X,de,fe,At){var je=this;return this.auth.checkAndRefreshAccessToken().then(function(){var tt={method:"POST",headers:{"Dropbox-API-Arg":Ve(de)}};return je.setAuthHeaders(fe,tt),je.setCommonHeaders(tt),tt}).then(function(tt){return je.fetch(at(At,je.domain,je.domainDelimiter)+X,tt)}).then(function(tt){return(Xe=tt).ok?new Promise(function(Nt){Pe()?Xe.blob().then(function(hn){return Nt(hn)}):Xe.buffer().then(function(hn){return Nt(hn)})}).then(function(Nt){var hn=JSON.parse(Xe.headers.get("dropbox-api-result"));return Pe()?hn.fileBlob=Nt:hn.fileBinary=Nt,new dn(Xe.status,Xe.headers,hn)}):bn(Xe);var Xe})}},{key:"uploadRequest",value:function(X,de,fe,At){var je=this;return this.auth.checkAndRefreshAccessToken().then(function(){var tt=de.contents;delete de.contents;var Xe={body:tt,method:"POST",headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":Ve(de)}};return je.setAuthHeaders(fe,Xe),je.setCommonHeaders(Xe),Xe}).then(function(tt){return je.fetch(at(At,je.domain,je.domainDelimiter)+X,tt)}).then(function(tt){return qn(tt)})}},{key:"setAuthHeaders",value:function(X,de){if(X.split(",").length>1){var fe=X.replace(" ","").split(",");fe.includes(ue)&&this.auth.getAccessToken()?X=ue:fe.includes(Ze)&&this.auth.getAccessToken()?X=Ze:fe.includes(Q)&&(X=Q)}switch(X){case Q:if(this.auth.clientId&&this.auth.clientSecret){var At=Ee("".concat(this.auth.clientId,":").concat(this.auth.clientSecret));de.headers.Authorization="Basic ".concat(At)}break;case Ze:case ue:this.auth.getAccessToken()&&(de.headers.Authorization="Bearer ".concat(this.auth.getAccessToken()));break;case"noauth":case"cookie":break;default:throw Error("Unhandled auth type: ".concat(X))}}},{key:"setCommonHeaders",value:function(X){var de=this;this.selectUser&&(X.headers["Dropbox-API-Select-User"]=this.selectUser),this.selectAdmin&&(X.headers["Dropbox-API-Select-Admin"]=this.selectAdmin),this.pathRoot&&(X.headers["Dropbox-API-Path-Root"]=this.pathRoot),this.customHeaders&&Object.keys(this.customHeaders).forEach(function(fe){X.headers[fe]=de.customHeaders[fe]})}}]),S}(),s.DropboxAuth=xe,s.DropboxResponse=dn,s.DropboxResponseError=kn,Object.defineProperty(s,"__esModule",{value:!0})}(De)},6281:(mt,De)=>{"use strict";var s=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();mt.exports=De=s.fetch,s.fetch&&(De.default=s.fetch.bind(s)),De.Headers=s.Headers,De.Request=s.Request,De.Response=s.Response},5619:(mt,De,U)=>{"use strict";U.d(De,{X:()=>G});var s=U(8645);class G extends s.x{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const he=super._subscribe(re);return!he.closed&&re.next(this._value),he}getValue(){const{hasError:re,thrownError:he,_value:ye}=this;if(re)throw he;return this._throwIfClosed(),ye}next(re){super.next(this._value=re)}}},5592:(mt,De,U)=>{"use strict";U.d(De,{y:()=>Me});var s=U(305),G=U(7394),L=U(4850),re=U(8407),he=U(2653),ye=U(4674),Se=U(1441);let Me=(()=>{class ue{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const nt=new ue;return nt.source=this,nt.operator=Le,nt}subscribe(Le,nt,Fe){const V=function Q(ue){return ue&&ue instanceof s.Lv||function Z(ue){return ue&&(0,ye.m)(ue.next)&&(0,ye.m)(ue.error)&&(0,ye.m)(ue.complete)}(ue)&&(0,G.Nn)(ue)}(Le)?Le:new s.Hp(Le,nt,Fe);return(0,Se.x)(()=>{const{operator:ze,source:at}=this;V.add(ze?ze.call(V,at):at?this._subscribe(V):this._trySubscribe(V))}),V}_trySubscribe(Le){try{return this._subscribe(Le)}catch(nt){Le.error(nt)}}forEach(Le,nt){return new(nt=Ie(nt))((Fe,V)=>{const ze=new s.Hp({next:at=>{try{Le(at)}catch(st){V(st),ze.unsubscribe()}},error:V,complete:Fe});this.subscribe(ze)})}_subscribe(Le){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(Le)}[L.L](){return this}pipe(...Le){return(0,re.U)(Le)(this)}toPromise(Le){return new(Le=Ie(Le))((nt,Fe)=>{let V;this.subscribe(ze=>V=ze,ze=>Fe(ze),()=>nt(V))})}}return ue.create=Ze=>new ue(Ze),ue})();function Ie(ue){var Ze;return null!==(Ze=ue??he.config.Promise)&&void 0!==Ze?Ze:Promise}},8645:(mt,De,U)=>{"use strict";U.d(De,{x:()=>Se});var s=U(5592),G=U(7394);const re=(0,U(2306).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=U(9039),ye=U(1441);let Se=(()=>{class Ie extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const ue=new Me(this,this);return ue.operator=Q,ue}_throwIfClosed(){if(this.closed)throw new re}next(Q){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(Q)}})}error(Q){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:ue}=this;for(;ue.length;)ue.shift().error(Q)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:ue,isStopped:Ze,observers:Le}=this;return ue||Ze?G.Lc:(this.currentObservers=null,Le.push(Q),new G.w0(()=>{this.currentObservers=null,(0,he.P)(Le,Q)}))}_checkFinalizedStatuses(Q){const{hasError:ue,thrownError:Ze,isStopped:Le}=this;ue?Q.error(Ze):Le&&Q.complete()}asObservable(){const Q=new s.y;return Q.source=this,Q}}return Ie.create=(Z,Q)=>new Me(Z,Q),Ie})();class Me extends Se{constructor(Z,Q){super(),this.destination=Z,this.source=Q}next(Z){var Q,ue;null===(ue=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===ue||ue.call(Q,Z)}error(Z){var Q,ue;null===(ue=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===ue||ue.call(Q,Z)}complete(){var Z,Q;null===(Q=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===Q||Q.call(Z)}_subscribe(Z){var Q,ue;return null!==(ue=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(Z))&&void 0!==ue?ue:G.Lc}}},305:(mt,De,U)=>{"use strict";U.d(De,{Hp:()=>Fe,Lv:()=>ue});var s=U(4674),G=U(7394),L=U(2653),re=U(3894),he=U(2420);const ye=Ie("C",void 0,void 0);function Ie(ce,Ve,ge){return{kind:ce,value:Ve,error:ge}}var Z=U(7599),Q=U(1441);class ue extends G.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,G.Nn)(Ve)&&Ve.add(this)):this.destination=st}static create(Ve,ge,Pe){return new Fe(Ve,ge,Pe)}next(Ve){this.isStopped?at(function Me(ce){return Ie("N",ce,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?at(function Se(ce){return Ie("E",void 0,ce)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?at(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function Le(ce,Ve){return Ze.call(ce,Ve)}class nt{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:ge}=this;if(ge.next)try{ge.next(Ve)}catch(Pe){V(Pe)}}error(Ve){const{partialObserver:ge}=this;if(ge.error)try{ge.error(Ve)}catch(Pe){V(Pe)}else V(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(ge){V(ge)}}}class Fe extends ue{constructor(Ve,ge,Pe){let oe;if(super(),(0,s.m)(Ve)||!Ve)oe={next:Ve??void 0,error:ge??void 0,complete:Pe??void 0};else{let pe;this&&L.config.useDeprecatedNextContext?(pe=Object.create(Ve),pe.unsubscribe=()=>this.unsubscribe(),oe={next:Ve.next&&Le(Ve.next,pe),error:Ve.error&&Le(Ve.error,pe),complete:Ve.complete&&Le(Ve.complete,pe)}):oe=Ve}this.destination=new nt(oe)}}function V(ce){L.config.useDeprecatedSynchronousErrorHandling?(0,Q.O)(ce):(0,re.h)(ce)}function at(ce,Ve){const{onStoppedNotification:ge}=L.config;ge&&Z.z.setTimeout(()=>ge(ce,Ve))}const st={closed:!0,next:he.Z,error:function ze(ce){throw ce},complete:he.Z}},7394:(mt,De,U)=>{"use strict";U.d(De,{Lc:()=>ye,w0:()=>he,Nn:()=>Se});var s=U(4674);const L=(0,U(2306).d)(Ie=>function(Q){Ie(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((ue,Ze)=>`${Ze+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var re=U(9039);class he{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const Le of Q)Le.remove(this);else Q.remove(this);const{initialTeardown:ue}=this;if((0,s.m)(ue))try{ue()}catch(Le){Z=Le instanceof L?Le.errors:[Le]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const Le of Ze)try{Me(Le)}catch(nt){Z=Z??[],nt instanceof L?Z=[...Z,...nt.errors]:Z.push(nt)}}if(Z)throw new L(Z)}}add(Z){var Q;if(Z&&Z!==this)if(this.closed)Me(Z);else{if(Z instanceof he){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(Z)}}_hasParent(Z){const{_parentage:Q}=this;return Q===Z||Array.isArray(Q)&&Q.includes(Z)}_addParent(Z){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(Z),Q):Q?[Q,Z]:Z}_removeParent(Z){const{_parentage:Q}=this;Q===Z?this._parentage=null:Array.isArray(Q)&&(0,re.P)(Q,Z)}remove(Z){const{_finalizers:Q}=this;Q&&(0,re.P)(Q,Z),Z instanceof he&&Z._removeParent(this)}}he.EMPTY=(()=>{const Ie=new he;return Ie.closed=!0,Ie})();const ye=he.EMPTY;function Se(Ie){return Ie instanceof he||Ie&&"closed"in Ie&&(0,s.m)(Ie.remove)&&(0,s.m)(Ie.add)&&(0,s.m)(Ie.unsubscribe)}function Me(Ie){(0,s.m)(Ie)?Ie():Ie.unsubscribe()}},2653:(mt,De,U)=>{"use strict";U.d(De,{config:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(mt,De,U)=>{"use strict";U.d(De,{E:()=>G});const G=new(U(5592).y)(he=>he.complete())},2459:(mt,De,U)=>{"use strict";U.d(De,{D:()=>Ve});var s=U(4829),G=U(3093),L=U(5137),ye=U(5592),Me=U(4971),Ie=U(4674),Z=U(7103);function ue(ge,Pe){if(!ge)throw new Error("Iterable cannot be null");return new ye.y(oe=>{(0,Z.f)(oe,Pe,()=>{const pe=ge[Symbol.asyncIterator]();(0,Z.f)(oe,Pe,()=>{pe.next().then(Re=>{Re.done?oe.complete():oe.next(Re.value)})},0,!0)})})}var Ze=U(8382),Le=U(4026),nt=U(4266),Fe=U(3664),V=U(5726),ze=U(9853),at=U(541);function Ve(ge,Pe){return Pe?function ce(ge,Pe){if(null!=ge){if((0,Ze.c)(ge))return function re(ge,Pe){return(0,s.Xf)(ge).pipe((0,L.R)(Pe),(0,G.Q)(Pe))}(ge,Pe);if((0,nt.z)(ge))return function Se(ge,Pe){return new ye.y(oe=>{let pe=0;return Pe.schedule(function(){pe===ge.length?oe.complete():(oe.next(ge[pe++]),oe.closed||this.schedule())})})}(ge,Pe);if((0,Le.t)(ge))return function he(ge,Pe){return(0,s.Xf)(ge).pipe((0,L.R)(Pe),(0,G.Q)(Pe))}(ge,Pe);if((0,V.D)(ge))return ue(ge,Pe);if((0,Fe.T)(ge))return function Q(ge,Pe){return new ye.y(oe=>{let pe;return(0,Z.f)(oe,Pe,()=>{pe=ge[Me.h](),(0,Z.f)(oe,Pe,()=>{let Re,Je;try{({value:Re,done:Je}=pe.next())}catch(_t){return void oe.error(_t)}Je?oe.complete():oe.next(Re)},0,!0)}),()=>(0,Ie.m)(pe?.return)&&pe.return()})}(ge,Pe);if((0,at.L)(ge))return function st(ge,Pe){return ue((0,at.Q)(ge),Pe)}(ge,Pe)}throw(0,ze.z)(ge)}(ge,Pe):(0,s.Xf)(ge)}},4829:(mt,De,U)=>{"use strict";U.d(De,{Xf:()=>Ze});var s=U(7582),G=U(4266),L=U(4026),re=U(5592),he=U(8382),ye=U(5726),Se=U(9853),Me=U(3664),Ie=U(541),Z=U(4674),Q=U(3894),ue=U(4850);function Ze(ce){if(ce instanceof re.y)return ce;if(null!=ce){if((0,he.c)(ce))return function Le(ce){return new re.y(Ve=>{const ge=ce[ue.L]();if((0,Z.m)(ge.subscribe))return ge.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ce);if((0,G.z)(ce))return function nt(ce){return new re.y(Ve=>{for(let ge=0;ge<ce.length&&!Ve.closed;ge++)Ve.next(ce[ge]);Ve.complete()})}(ce);if((0,L.t)(ce))return function Fe(ce){return new re.y(Ve=>{ce.then(ge=>{Ve.closed||(Ve.next(ge),Ve.complete())},ge=>Ve.error(ge)).then(null,Q.h)})}(ce);if((0,ye.D)(ce))return ze(ce);if((0,Me.T)(ce))return function V(ce){return new re.y(Ve=>{for(const ge of ce)if(Ve.next(ge),Ve.closed)return;Ve.complete()})}(ce);if((0,Ie.L)(ce))return function at(ce){return ze((0,Ie.Q)(ce))}(ce)}throw(0,Se.z)(ce)}function ze(ce){return new re.y(Ve=>{(function st(ce,Ve){var ge,Pe,oe,pe;return(0,s.mG)(this,void 0,void 0,function*(){try{for(ge=(0,s.KL)(ce);!(Pe=yield ge.next()).done;)if(Ve.next(Pe.value),Ve.closed)return}catch(Re){oe={error:Re}}finally{try{Pe&&!Pe.done&&(pe=ge.return)&&(yield pe.call(ge))}finally{if(oe)throw oe.error}}Ve.complete()})})(ce,Ve).catch(ge=>Ve.error(ge))})}},3019:(mt,De,U)=>{"use strict";U.d(De,{T:()=>ye});var s=U(7537),G=U(4829),L=U(6232),re=U(9940),he=U(2459);function ye(...Se){const Me=(0,re.yG)(Se),Ie=(0,re._6)(Se,1/0),Z=Se;return Z.length?1===Z.length?(0,G.Xf)(Z[0]):(0,s.J)(Ie)((0,he.D)(Z,Me)):L.E}},2096:(mt,De,U)=>{"use strict";U.d(De,{of:()=>L});var s=U(9940),G=U(2459);function L(...re){const he=(0,s.yG)(re);return(0,G.D)(re,he)}},8251:(mt,De,U)=>{"use strict";U.d(De,{x:()=>G});var s=U(305);function G(re,he,ye,Se,Me){return new L(re,he,ye,Se,Me)}class L extends s.Lv{constructor(he,ye,Se,Me,Ie,Z){super(he),this.onFinalize=Ie,this.shouldUnsubscribe=Z,this._next=ye?function(Q){try{ye(Q)}catch(ue){he.error(ue)}}:super._next,this._error=Me?function(Q){try{Me(Q)}catch(ue){he.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(Q){he.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},3997:(mt,De,U)=>{"use strict";U.d(De,{x:()=>re});var s=U(2737),G=U(9360),L=U(8251);function re(ye,Se=s.y){return ye=ye??he,(0,G.e)((Me,Ie)=>{let Z,Q=!0;Me.subscribe((0,L.x)(Ie,ue=>{const Ze=Se(ue);(Q||!ye(Z,Ze))&&(Q=!1,Z=Ze,Ie.next(ue))}))})}function he(ye,Se){return ye===Se}},7398:(mt,De,U)=>{"use strict";U.d(De,{U:()=>L});var s=U(9360),G=U(8251);function L(re,he){return(0,s.e)((ye,Se)=>{let Me=0;ye.subscribe((0,G.x)(Se,Ie=>{Se.next(re.call(he,Ie,Me++))}))})}},7537:(mt,De,U)=>{"use strict";U.d(De,{J:()=>L});var s=U(1631),G=U(2737);function L(re=1/0){return(0,s.z)(G.y,re)}},1631:(mt,De,U)=>{"use strict";U.d(De,{z:()=>Me});var s=U(7398),G=U(4829),L=U(9360),re=U(7103),he=U(8251),Se=U(4674);function Me(Ie,Z,Q=1/0){return(0,Se.m)(Z)?Me((ue,Ze)=>(0,s.U)((Le,nt)=>Z(ue,Le,Ze,nt))((0,G.Xf)(Ie(ue,Ze))),Q):("number"==typeof Z&&(Q=Z),(0,L.e)((ue,Ze)=>function ye(Ie,Z,Q,ue,Ze,Le,nt,Fe){const V=[];let ze=0,at=0,st=!1;const ce=()=>{st&&!V.length&&!ze&&Z.complete()},Ve=Pe=>ze<ue?ge(Pe):V.push(Pe),ge=Pe=>{Le&&Z.next(Pe),ze++;let oe=!1;(0,G.Xf)(Q(Pe,at++)).subscribe((0,he.x)(Z,pe=>{Ze?.(pe),Le?Ve(pe):Z.next(pe)},()=>{oe=!0},void 0,()=>{if(oe)try{for(ze--;V.length&&ze<ue;){const pe=V.shift();nt?(0,re.f)(Z,nt,()=>ge(pe)):ge(pe)}ce()}catch(pe){Z.error(pe)}}))};return Ie.subscribe((0,he.x)(Z,Ve,()=>{st=!0,ce()})),()=>{Fe?.()}}(ue,Ze,Ie,Q)))}},3093:(mt,De,U)=>{"use strict";U.d(De,{Q:()=>re});var s=U(7103),G=U(9360),L=U(8251);function re(he,ye=0){return(0,G.e)((Se,Me)=>{Se.subscribe((0,L.x)(Me,Ie=>(0,s.f)(Me,he,()=>Me.next(Ie),ye),()=>(0,s.f)(Me,he,()=>Me.complete(),ye),Ie=>(0,s.f)(Me,he,()=>Me.error(Ie),ye)))})}},3020:(mt,De,U)=>{"use strict";U.d(De,{B:()=>he});var s=U(4829),G=U(8645),L=U(305),re=U(9360);function he(Se={}){const{connector:Me=(()=>new G.x),resetOnError:Ie=!0,resetOnComplete:Z=!0,resetOnRefCountZero:Q=!0}=Se;return ue=>{let Ze,Le,nt,Fe=0,V=!1,ze=!1;const at=()=>{Le?.unsubscribe(),Le=void 0},st=()=>{at(),Ze=nt=void 0,V=ze=!1},ce=()=>{const Ve=Ze;st(),Ve?.unsubscribe()};return(0,re.e)((Ve,ge)=>{Fe++,!ze&&!V&&at();const Pe=nt=nt??Me();ge.add(()=>{Fe--,0===Fe&&!ze&&!V&&(Le=ye(ce,Q))}),Pe.subscribe(ge),!Ze&&Fe>0&&(Ze=new L.Hp({next:oe=>Pe.next(oe),error:oe=>{ze=!0,at(),Le=ye(st,Ie,oe),Pe.error(oe)},complete:()=>{V=!0,at(),Le=ye(st,Z),Pe.complete()}}),(0,s.Xf)(Ve).subscribe(Ze))})(ue)}}function ye(Se,Me,...Ie){if(!0===Me)return void Se();if(!1===Me)return;const Z=new L.Hp({next:()=>{Z.unsubscribe(),Se()}});return(0,s.Xf)(Me(...Ie)).subscribe(Z)}},5137:(mt,De,U)=>{"use strict";U.d(De,{R:()=>G});var s=U(9360);function G(L,re=0){return(0,s.e)((he,ye)=>{ye.add(L.schedule(()=>he.subscribe(ye),re))})}},4664:(mt,De,U)=>{"use strict";U.d(De,{w:()=>re});var s=U(4829),G=U(9360),L=U(8251);function re(he,ye){return(0,G.e)((Se,Me)=>{let Ie=null,Z=0,Q=!1;const ue=()=>Q&&!Ie&&Me.complete();Se.subscribe((0,L.x)(Me,Ze=>{Ie?.unsubscribe();let Le=0;const nt=Z++;(0,s.Xf)(he(Ze,nt)).subscribe(Ie=(0,L.x)(Me,Fe=>Me.next(ye?ye(Ze,Fe,nt,Le++):Fe),()=>{Ie=null,ue()}))},()=>{Q=!0,ue()}))})}},9397:(mt,De,U)=>{"use strict";U.d(De,{b:()=>he});var s=U(4674),G=U(9360),L=U(8251),re=U(2737);function he(ye,Se,Me){const Ie=(0,s.m)(ye)||Se||Me?{next:ye,error:Se,complete:Me}:ye;return Ie?(0,G.e)((Z,Q)=>{var ue;null===(ue=Ie.subscribe)||void 0===ue||ue.call(Ie);let Ze=!0;Z.subscribe((0,L.x)(Q,Le=>{var nt;null===(nt=Ie.next)||void 0===nt||nt.call(Ie,Le),Q.next(Le)},()=>{var Le;Ze=!1,null===(Le=Ie.complete)||void 0===Le||Le.call(Ie),Q.complete()},Le=>{var nt;Ze=!1,null===(nt=Ie.error)||void 0===nt||nt.call(Ie,Le),Q.error(Le)},()=>{var Le,nt;Ze&&(null===(Le=Ie.unsubscribe)||void 0===Le||Le.call(Ie)),null===(nt=Ie.finalize)||void 0===nt||nt.call(Ie)}))}):re.y}},1954:(mt,De,U)=>{"use strict";U.d(De,{o:()=>he});var s=U(7394);class G extends s.w0{constructor(Se,Me){super()}schedule(Se,Me=0){return this}}const L={setInterval(ye,Se,...Me){const{delegate:Ie}=L;return Ie?.setInterval?Ie.setInterval(ye,Se,...Me):setInterval(ye,Se,...Me)},clearInterval(ye){const{delegate:Se}=L;return(Se?.clearInterval||clearInterval)(ye)},delegate:void 0};var re=U(9039);class he extends G{constructor(Se,Me){super(Se,Me),this.scheduler=Se,this.work=Me,this.pending=!1}schedule(Se,Me=0){var Ie;if(this.closed)return this;this.state=Se;const Z=this.id,Q=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(Q,Z,Me)),this.pending=!0,this.delay=Me,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(Q,this.id,Me),this}requestAsyncId(Se,Me,Ie=0){return L.setInterval(Se.flush.bind(Se,this),Ie)}recycleAsyncId(Se,Me,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return Me;null!=Me&&L.clearInterval(Me)}execute(Se,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Se,Me);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Me){let Z,Ie=!1;try{this.work(Se)}catch(Q){Ie=!0,Z=Q||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Me}=this,{actions:Ie}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(Ie,this),null!=Se&&(this.id=this.recycleAsyncId(Me,Se,null)),this.delay=null,super.unsubscribe()}}}},2631:(mt,De,U)=>{"use strict";U.d(De,{v:()=>L});var s=U(4552);class G{constructor(he,ye=G.now){this.schedulerActionCtor=he,this.now=ye}schedule(he,ye=0,Se){return new this.schedulerActionCtor(this,he).schedule(Se,ye)}}G.now=s.l.now;class L extends G{constructor(he,ye=G.now){super(he,ye),this.actions=[],this._active=!1}flush(he){const{actions:ye}=this;if(this._active)return void ye.push(he);let Se;this._active=!0;do{if(Se=he.execute(he.state,he.delay))break}while(he=ye.shift());if(this._active=!1,Se){for(;he=ye.shift();)he.unsubscribe();throw Se}}}},6321:(mt,De,U)=>{"use strict";U.d(De,{P:()=>re,z:()=>L});var s=U(1954);const L=new(U(2631).v)(s.o),re=L},4552:(mt,De,U)=>{"use strict";U.d(De,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},7599:(mt,De,U)=>{"use strict";U.d(De,{z:()=>s});const s={setTimeout(G,L,...re){const{delegate:he}=s;return he?.setTimeout?he.setTimeout(G,L,...re):setTimeout(G,L,...re)},clearTimeout(G){const{delegate:L}=s;return(L?.clearTimeout||clearTimeout)(G)},delegate:void 0}},4971:(mt,De,U)=>{"use strict";U.d(De,{h:()=>G});const G=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(mt,De,U)=>{"use strict";U.d(De,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(mt,De,U)=>{"use strict";U.d(De,{_6:()=>ye,jO:()=>re,yG:()=>he});var s=U(4674),G=U(671);function L(Se){return Se[Se.length-1]}function re(Se){return(0,s.m)(L(Se))?Se.pop():void 0}function he(Se){return(0,G.K)(L(Se))?Se.pop():void 0}function ye(Se,Me){return"number"==typeof L(Se)?Se.pop():Me}},9039:(mt,De,U)=>{"use strict";function s(G,L){if(G){const re=G.indexOf(L);0<=re&&G.splice(re,1)}}U.d(De,{P:()=>s})},2306:(mt,De,U)=>{"use strict";function s(G){const re=G(he=>{Error.call(he),he.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}U.d(De,{d:()=>s})},1441:(mt,De,U)=>{"use strict";U.d(De,{O:()=>re,x:()=>L});var s=U(2653);let G=null;function L(he){if(s.config.useDeprecatedSynchronousErrorHandling){const ye=!G;if(ye&&(G={errorThrown:!1,error:null}),he(),ye){const{errorThrown:Se,error:Me}=G;if(G=null,Se)throw Me}}else he()}function re(he){s.config.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=he)}},7103:(mt,De,U)=>{"use strict";function s(G,L,re,he=0,ye=!1){const Se=L.schedule(function(){re(),ye?G.add(this.schedule(null,he)):this.unsubscribe()},he);if(G.add(Se),!ye)return Se}U.d(De,{f:()=>s})},2737:(mt,De,U)=>{"use strict";function s(G){return G}U.d(De,{y:()=>s})},4266:(mt,De,U)=>{"use strict";U.d(De,{z:()=>s});const s=G=>G&&"number"==typeof G.length&&"function"!=typeof G},5726:(mt,De,U)=>{"use strict";U.d(De,{D:()=>G});var s=U(4674);function G(L){return Symbol.asyncIterator&&(0,s.m)(L?.[Symbol.asyncIterator])}},4674:(mt,De,U)=>{"use strict";function s(G){return"function"==typeof G}U.d(De,{m:()=>s})},8382:(mt,De,U)=>{"use strict";U.d(De,{c:()=>L});var s=U(4850),G=U(4674);function L(re){return(0,G.m)(re[s.L])}},3664:(mt,De,U)=>{"use strict";U.d(De,{T:()=>L});var s=U(4971),G=U(4674);function L(re){return(0,G.m)(re?.[s.h])}},4026:(mt,De,U)=>{"use strict";U.d(De,{t:()=>G});var s=U(4674);function G(L){return(0,s.m)(L?.then)}},541:(mt,De,U)=>{"use strict";U.d(De,{L:()=>re,Q:()=>L});var s=U(7582),G=U(4674);function L(he){return(0,s.FC)(this,arguments,function*(){const Se=he.getReader();try{for(;;){const{value:Me,done:Ie}=yield(0,s.qq)(Se.read());if(Ie)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(Me)}}finally{Se.releaseLock()}})}function re(he){return(0,G.m)(he?.getReader)}},671:(mt,De,U)=>{"use strict";U.d(De,{K:()=>G});var s=U(4674);function G(L){return L&&(0,s.m)(L.schedule)}},9360:(mt,De,U)=>{"use strict";U.d(De,{A:()=>G,e:()=>L});var s=U(4674);function G(re){return(0,s.m)(re?.lift)}function L(re){return he=>{if(G(he))return he.lift(function(ye){try{return re(ye,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(mt,De,U)=>{"use strict";function s(){}U.d(De,{Z:()=>s})},8407:(mt,De,U)=>{"use strict";U.d(De,{U:()=>L,z:()=>G});var s=U(2737);function G(...re){return L(re)}function L(re){return 0===re.length?s.y:1===re.length?re[0]:function(ye){return re.reduce((Se,Me)=>Me(Se),ye)}}},3894:(mt,De,U)=>{"use strict";U.d(De,{h:()=>L});var s=U(2653),G=U(7599);function L(re){G.z.setTimeout(()=>{const{onUnhandledError:he}=s.config;if(!he)throw re;he(re)})}},9853:(mt,De,U)=>{"use strict";function s(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(De,{z:()=>s})},8090:()=>{},2974:()=>{},5879:(mt,De,U)=>{"use strict";U.d(De,{$8M:()=>ju,$WT:()=>Po,$Z:()=>zl,AFp:()=>_T,ALo:()=>eg,AaK:()=>ue,Akn:()=>pa,AsE:()=>Dw,BQk:()=>Mm,CHM:()=>hh,CRH:()=>ag,DdM:()=>Jy,Dn7:()=>yb,EJc:()=>Tn,EpF:()=>gE,F$t:()=>bE,F4k:()=>_E,FYo:()=>C1,FiY:()=>Nl,Gf:()=>Eb,GfV:()=>RT,GkF:()=>hw,Gpc:()=>nt,HDt:()=>lg,HTZ:()=>k2,Hh0:()=>tv,Hsn:()=>mw,JOm:()=>A_,KtG:()=>bc,LFG:()=>lt,LSH:()=>p1,Lbi:()=>em,Lck:()=>ok,MAs:()=>fE,MMx:()=>E2,MR2:()=>Pc,NdJ:()=>fw,O4$:()=>Pf,Ojb:()=>g1,OlP:()=>On,Oqu:()=>Sw,P3R:()=>sA,PXZ:()=>gg,Q6J:()=>cw,QGY:()=>pw,QbO:()=>CO,Qsj:()=>gA,R0b:()=>Kr,RDi:()=>td,Rgc:()=>hp,SBq:()=>ld,Sil:()=>Dd,Suo:()=>xb,TTD:()=>mc,TgZ:()=>Sy,Tol:()=>RE,Udp:()=>Om,VKq:()=>Xy,VuI:()=>Jb,W1O:()=>gp,WLB:()=>ev,X6Q:()=>Uk,XFs:()=>Rt,Xpm:()=>Zs,Xq5:()=>J1,Xts:()=>Y_,Y36:()=>Ya,YKP:()=>cb,YNc:()=>aw,Yjl:()=>ko,Yz7:()=>Xe,Z0I:()=>Kt,ZZ4:()=>Rv,_Bn:()=>$y,_UZ:()=>Dy,_c5:()=>vx,_uU:()=>HE,aQg:()=>Ov,c2e:()=>fi,cEC:()=>q1,cJS:()=>hn,cg1:()=>Vw,dDg:()=>rl,dqk:()=>Lt,eFA:()=>Bb,eJc:()=>Cd,ekj:()=>Iw,eoX:()=>wp,evT:()=>HT,f3M:()=>vt,g9A:()=>yT,h0i:()=>Wl,hGG:()=>Sp,hij:()=>Oy,iGM:()=>Tb,ifc:()=>ao,ip1:()=>Sd,jDz:()=>vd,kEZ:()=>Xm,kL8:()=>Vm,l5B:()=>ap,lG2:()=>Jo,lqb:()=>eo,lri:()=>pg,n5z:()=>__,oAB:()=>wu,oJD:()=>pT,oxw:()=>ky,q4F:()=>T1,qFp:()=>sl,qLn:()=>lm,qOj:()=>K1,qZA:()=>fd,qbA:()=>fb,rFY:()=>iv,rWj:()=>Qc,rg0:()=>sh,sBO:()=>zk,s_b:()=>rg,soG:()=>Zc,tb:()=>fg,tdS:()=>bI,tp0:()=>$u,uIk:()=>Cy,vHH:()=>ce,vpe:()=>fo,wAp:()=>ip,xp6:()=>O1,ynx:()=>Gl,z2F:()=>Md,zSh:()=>J_,zs3:()=>jo});var s=U(8645),G=U(7394),L=U(5619),re=U(5592),he=U(3019),ye=U(2096),Se=U(3020),Me=U(4664),Ie=U(3997);function Z(a){for(let l in a)if(a[l]===Z)return l;throw Error("Could not find renamed property on target object.")}function Q(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function ue(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ue).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Ze(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Le=Z({__forward_ref__:Z});function nt(a){return a.__forward_ref__=nt,a.toString=function(){return ue(this())},a}function Fe(a){return V(a)?a():a}function V(a){return"function"==typeof a&&a.hasOwnProperty(Le)&&a.__forward_ref__===nt}function ze(a){return a&&!!a.\u0275providers}const st="https://g.co/ng/security#xss";class ce extends Error{constructor(l,u){super(function Ve(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function ge(a){return"string"==typeof a?a:null==a?"":String(a)}function Je(a,l){throw new ce(-201,!1)}function de(a,l){null==a&&function fe(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function Xe(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function hn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Fn(a){return li(a,Ni)||li(a,yi)}function Kt(a){return null!==Fn(a)}function li(a,l){return a.hasOwnProperty(l)?a[l]:null}function Oi(a){return a&&(a.hasOwnProperty(ri)||a.hasOwnProperty(or))?a[ri]:null}const Ni=Z({\u0275prov:Z}),ri=Z({\u0275inj:Z}),yi=Z({ngInjectableDef:Z}),or=Z({ngInjectorDef:Z});var Rt=function(a){return a[a.Default=0]="Default",a[a.Host=1]="Host",a[a.Self=2]="Self",a[a.SkipSelf=4]="SkipSelf",a[a.Optional=8]="Optional",a}(Rt||{});let qt;function Zt(){return qt}function Jn(a){const l=qt;return qt=a,l}function Dr(a,l,u){const h=Fn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Rt.Optional?null:void 0!==l?l:void Je(ue(a))}const Lt=globalThis,xt={},Gt="__NG_DI_FLAG__",pn="ngTempTokenPath",Y=/\n/gm,$="__source";let F;function me(a){const l=F;return F=a,l}function Ye(a,l=Rt.Default){if(void 0===F)throw new ce(-203,!1);return null===F?Dr(a,void 0,l):F.get(a,l&Rt.Optional?null:void 0,l)}function lt(a,l=Rt.Default){return(Zt()||Ye)(Fe(a),l)}function vt(a,l=Rt.Default){return lt(a,bt(l))}function bt(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Rn(a){const l=[];for(let u=0;u<a.length;u++){const h=Fe(a[u]);if(Array.isArray(h)){if(0===h.length)throw new ce(900,!1);let p,g=Rt.Default;for(let w=0;w<h.length;w++){const C=h[w],x=nn(C);"number"==typeof x?-1===x?p=C.token:g|=x:p=C}l.push(lt(p,g))}else l.push(lt(h))}return l}function vi(a,l){return a[Gt]=l,a.prototype[Gt]=l,a}function nn(a){return a[Gt]}function Gs(a){return{toString:a}.toString()}var Do=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(Do||{}),ao=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a}(ao||{});const Bn={},fn=[],Yo=Z({\u0275cmp:Z}),Ta=Z({\u0275dir:Z}),Ea=Z({\u0275pipe:Z}),oc=Z({\u0275mod:Z}),Ao=Z({\u0275fac:Z}),ts=Z({__NG_ELEMENT_ID__:Z}),ml=Z({__NG_ENV_ID__:Z});function Li(a,l,u){let h=a.length;for(;;){const p=a.indexOf(l,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const g=l.length;if(p+g===h||a.charCodeAt(p+g)<=32)return p}u=p+1}}function Pn(a,l,u){let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const g=u[h++],w=u[h++],C=u[h++];a.setAttribute(l,w,C,g)}else{const g=p,w=u[++h];gu(g)?a.setProperty(l,g,w):a.setAttribute(l,g,w),h++}}return h}function ac(a){return 3===a||4===a||6===a}function gu(a){return 64===a.charCodeAt(0)}function Mo(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const p=l[h];"number"==typeof p?u=p:0===u||ns(a,u,p,null,-1===u||2===u?l[++h]:null)}}return a}function ns(a,l,u,h,p){let g=0,w=a.length;if(-1===l)w=-1;else for(;g<a.length;){const C=a[g++];if("number"==typeof C){if(C===l){w=-1;break}if(C>l){w=g-1;break}}}for(;g<a.length;){const C=a[g];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==p&&(a[g+1]=p));if(h===a[g+1])return void(a[g+2]=p)}g++,null!==h&&g++,null!==p&&g++}-1!==w&&(a.splice(w,0,l),g=w+1),a.splice(g++,0,u),null!==h&&a.splice(g++,0,h),null!==p&&a.splice(g++,0,p)}const Ko="ng-template";function Wd(a,l,u){let h=0,p=!0;for(;h<a.length;){let g=a[h++];if("string"==typeof g&&p){const w=a[h++];if(u&&"class"===g&&-1!==Li(w.toLowerCase(),l,0))return!0}else{if(1===g){for(;h<a.length&&"string"==typeof(g=a[h++]);)if(g.toLowerCase()===l)return!0;return!1}"number"==typeof g&&(p=!1)}}return!1}function An(a){return 4===a.type&&a.value!==Ko}function _u(a,l,u){return l===(4!==a.type||u?a.value:Ko)}function lc(a,l,u){let h=4;const p=a.attrs||[],g=function x0(a){for(let l=0;l<a.length;l++)if(ac(a[l]))return l;return a.length}(p);let w=!1;for(let C=0;C<l.length;C++){const x=l[C];if("number"!=typeof x){if(!w)if(4&h){if(h=2|1&h,""!==x&&!_u(a,x,u)||""===x&&1===l.length){if(Ur(h))return!1;w=!0}}else{const k=8&h?x:l[++C];if(8&h&&null!==a.attrs){if(!Wd(a.attrs,k,u)){if(Ur(h))return!1;w=!0}continue}const j=Qo(8&h?"class":x,p,An(a),u);if(-1===j){if(Ur(h))return!1;w=!0;continue}if(""!==k){let ne;ne=j>g?"":p[j+1].toLowerCase();const ae=8&h?ne:null;if(ae&&-1!==Li(ae,k,0)||2&h&&k!==ne){if(Ur(h))return!1;w=!0}}}}else{if(!w&&!Ur(h)&&!Ur(x))return!1;if(w&&Ur(x))continue;w=!1,h=x|1&h}}return Ur(h)||w}function Ur(a){return 0==(1&a)}function Qo(a,l,u,h){if(null===l)return-1;let p=0;if(h||!u){let g=!1;for(;p<l.length;){const w=l[p];if(w===a)return p;if(3===w||6===w)g=!0;else{if(1===w||2===w){let C=l[++p];for(;"string"==typeof C;)C=l[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=g?1:2}return-1}return function yu(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function af(a,l,u=!1){for(let h=0;h<l.length;h++)if(lc(a,l[h],u))return!0;return!1}function cc(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let p=0;p<a.length;p++)if(a[p]!==h[p])continue e;return!0}}return!1}function Gn(a,l){return a?":not("+l.trim()+")":l}function Zn(a){let l=a[0],u=1,h=2,p="",g=!1;for(;u<a.length;){let w=a[u];if("string"==typeof w)if(2&h){const C=a[++u];p+="["+w+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?p+="."+w:4&h&&(p+=" "+w);else""!==p&&!Ur(w)&&(l+=Gn(g,p),p=""),h=w,g=g||!Ur(h);u++}return""!==p&&(l+=Gn(g,p)),l}function Zs(a){return Gs(()=>{const l=Jd(a),u={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===Do.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||ao.Emulated,styles:a.styles||fn,_:null,schemas:a.schemas||null,tView:null,id:""};cf(u);const h=a.dependencies;return u.directiveDefs=Ws(h,!1),u.pipeDefs=Ws(h,!0),u.id=function gl(a){let l=0;const u=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const p of u)l=Math.imul(31,l)+p.charCodeAt(0)<<0;return l+=2147483648,"c"+l}(u),u})}function lf(a){return ln(a)||$i(a)}function $s(a){return null!==a}function wu(a){return Gs(()=>({type:a.type,bootstrap:a.bootstrap||fn,declarations:a.declarations||fn,imports:a.imports||fn,exports:a.exports||fn,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Qd(a,l){if(null==a)return Bn;const u={};for(const h in a)if(a.hasOwnProperty(h)){let p=a[h],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),u[p]=h,l&&(l[p]=g)}return u}function Jo(a){return Gs(()=>{const l=Jd(a);return cf(l),l})}function ko(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function ln(a){return a[Yo]||null}function $i(a){return a[Ta]||null}function _r(a){return a[Ea]||null}function Po(a){const l=ln(a)||$i(a)||_r(a);return null!==l&&l.standalone}function Di(a,l){const u=a[oc]||null;if(!u&&!0===l)throw new Error(`Type ${ue(a)} does not have '\u0275mod' property.`);return u}function Jd(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputTransforms:null,inputConfig:a.inputs||Bn,exportAs:a.exportAs||null,standalone:!0===a.standalone,signals:!0===a.signals,selectors:a.selectors||fn,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qd(a.inputs,l),outputs:Qd(a.outputs)}}function cf(a){a.features?.forEach(l=>l(a))}function Ws(a,l){if(!a)return null;const u=l?_r:lf;return()=>("function"==typeof a?a():a).map(h=>u(h)).filter($s)}const Cn=0,rt=1,Ut=2,$n=3,Mr=4,Xo=5,Wi=6,Ys=7,Ht=8,yr=9,kr=10,$t=11,lo=12,si=13,Ts=14,wi=15,Ro=16,Oo=17,Es=18,xa=19,No=20,xs=21,Pr=22,Sa=23,Ss=24,Jt=25,_l=1,yl=2,Yi=7,Xn=9,ui=11;function Ki(a){return Array.isArray(a)&&"object"==typeof a[_l]}function vr(a){return Array.isArray(a)&&!0===a[_l]}function ta(a){return 0!=(4&a.flags)}function co(a){return a.componentOffset>-1}function na(a){return 1==(1&a.flags)}function wr(a){return!!a.template}function Aa(a){return 0!=(512&a[Ut])}function Ds(a,l){return a.hasOwnProperty(Ao)?a[Ao]:null}const th=Symbol("SIGNAL");function ia(a,l,u={}){return l[th]=a,Object.assign(l,u)}function wl(a,l){return(null===a||"object"!=typeof a)&&Object.is(a,l)}let ka=Lt.WeakRef??class gf{constructor(l){this.ref=l}deref(){return this.ref}},o_=0,Ks=null,Lo=!1;function bi(a){const l=Ks;return Ks=a,l}class Au{constructor(){this.id=o_++,this.ref=function nh(a){return new ka(a)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[l,u]of this.producers){const h=u.producerNode.deref();if(null!=h&&u.atTrackingVersion===this.trackingVersion){if(h.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(l),h?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const l=Lo;Lo=!0;try{for(const[u,h]of this.consumers){const p=h.consumerNode.deref();null!=p&&p.trackingVersion===h.atTrackingVersion?p.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),p?.producers.delete(this.id))}}finally{Lo=l}}producerAccessed(){if(Lo)throw new Error("");if(null===Ks)return;let l=Ks.producers.get(this.id);void 0===l?(l={consumerNode:Ks.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ks.trackingVersion},Ks.producers.set(this.id,l),this.consumers.set(Ks.id,l)):(l.seenValueVersion=this.valueVersion,l.atTrackingVersion=Ks.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ks?.consumerAllowSignalWrites}producerPollStatus(l){return this.valueVersion!==l||(this.onProducerUpdateValueVersion(),this.valueVersion!==l)}}let fc=function a_(){throw new Error};function _f(){fc()}class yf extends Au{constructor(l,u){super(),this.value=l,this.equal=u,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(l){this.producerUpdatesAllowed||_f(),this.equal(this.value,l)||(this.value=l,this.valueVersion++,this.producerMayHaveChanged())}update(l){this.producerUpdatesAllowed||_f(),this.set(l(this.value))}mutate(l){this.producerUpdatesAllowed||_f(),l(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=ia(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}function bI(a,l){const u=new yf(a,l?.equal??wl);return ia(u,u.signal.bind(u),{set:u.set.bind(u),update:u.update.bind(u),mutate:u.mutate.bind(u),asReadonly:u.asReadonly.bind(u)})}function sh(a){const l=bi(null);try{return a()}finally{bi(l)}}const c_=()=>{};class oh extends Au{constructor(l,u,h){super(),this.watch=l,this.schedule=u,this.dirty=!1,this.cleanupFn=c_,this.registerOnCleanup=p=>{this.cleanupFn=p},this.consumerAllowSignalWrites=h}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const l=bi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=c_,this.watch(this.registerOnCleanup)}finally{bi(l)}}cleanup(){this.cleanupFn()}}class Pa{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function mc(){return ah}function ah(a){return a.type.prototype.ngOnChanges&&(a.setInput=bl),cr}function cr(){const a=Ra(this),l=a?.current;if(l){const u=a.previous;if(u===Bn)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function bl(a,l,u,h){const p=this.declaredInputs[u],g=Ra(a)||function ra(a,l){return a[lh]=l}(a,{previous:Bn,current:null}),w=g.current||(g.current={}),C=g.previous,x=C[p];w[p]=new Pa(x&&x.currentValue,l,C===Bn),a[h]=l}mc.ngInherit=!0;const lh="__ngSimpleChanges__";function Ra(a){return a[lh]||null}const Hr=function(a,l,u){},ch="svg";function Mn(a){for(;Array.isArray(a);)a=a[Cn];return a}function Fi(a,l){return Mn(l[a])}function br(a,l){return Mn(l[a.index])}function _c(a,l){return a.data[l]}function uo(a,l){return a[l]}function Vi(a,l){const u=l[a];return Ki(u)?u:u[Cn]}function is(a,l){return null==l?null:a[l]}function Pu(a){a[Oo]=0}function Il(a){1024&a[Ut]||(a[Ut]|=1024,yc(a,1))}function Ru(a){1024&a[Ut]&&(a[Ut]&=-1025,yc(a,-1))}function yc(a,l){let u=a[$n];if(null===u)return;u[Xo]+=l;let h=u;for(u=u[$n];null!==u&&(1===l&&1===h[Xo]||-1===l&&0===h[Xo]);)u[Xo]+=l,h=u,u=u[$n]}function Tl(a,l){if(256==(256&a[Ut]))throw new ce(911,!1);null===a[xs]&&(a[xs]=[]),a[xs].push(l)}const Vt={lFrame:Mf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wc(){return Vt.bindingsEnabled}function Qs(){return null!==Vt.skipHydrationRootTNode}function qe(){return Vt.lFrame.lView}function rn(){return Vt.lFrame.tView}function hh(a){return Vt.lFrame.contextLView=a,a[Ht]}function bc(a){return Vt.lFrame.contextLView=null,a}function Bi(){let a=rs();for(;null!==a&&64===a.type;)a=a.parent;return a}function rs(){return Vt.lFrame.currentTNode}function zr(a,l){const u=Vt.lFrame;u.currentTNode=a,u.isParent=l}function Vo(){return Vt.lFrame.isParent}function Sl(){Vt.lFrame.isParent=!1}function Rr(){const a=Vt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function ss(){return Vt.lFrame.bindingIndex++}function ho(a){const l=Vt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function xf(a,l){const u=Vt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Sf(l)}function Sf(a){Vt.lFrame.currentDirectiveIndex=a}function Af(){return Vt.lFrame.currentQueryIndex}function Cc(a){Vt.lFrame.currentQueryIndex=a}function k0(a){const l=a[rt];return 2===l.type?l.declTNode:1===l.type?a[Wi]:null}function Ic(a,l,u){if(u&Rt.SkipSelf){let p=l,g=a;for(;!(p=p.parent,null!==p||u&Rt.Host||(p=k0(g),null===p||(g=g[Ts],10&p.type))););if(null===p)return!1;l=p,a=g}const h=Vt.lFrame=Bu();return h.currentTNode=l,h.lView=a,!0}function Vu(a){const l=Bu(),u=a[rt];Vt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Bu(){const a=Vt.lFrame,l=null===a?null:a.child;return null===l?Mf(a):l}function Mf(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Uu(){const a=Vt.lFrame;return Vt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Tc=Uu;function Al(){const a=Uu();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Or(){return Vt.lFrame.selectedIndex}function os(a){Vt.lFrame.selectedIndex=a}function Un(){const a=Vt.lFrame;return _c(a.tView,a.selectedIndex)}function Pf(){Vt.lFrame.currentNamespace=ch}let as=!0;function ls(){return as}function Hn(a){as=a}function Va(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:k,ngOnDestroy:N}=g;w&&(a.contentHooks??=[]).push(-u,w),C&&((a.contentHooks??=[]).push(u,C),(a.contentCheckHooks??=[]).push(u,C)),x&&(a.viewHooks??=[]).push(-u,x),k&&((a.viewHooks??=[]).push(u,k),(a.viewCheckHooks??=[]).push(u,k)),null!=N&&(a.destroyHooks??=[]).push(u,N)}}function oi(a,l,u){ur(a,l,3,u)}function Ba(a,l,u,h){(3&a[Ut])===u&&ur(a,l,u,h)}function Ec(a,l){let u=a[Ut];(3&u)===l&&(u&=8191,u+=1,a[Ut]=u)}function ur(a,l,u,h){const g=h??-1,w=l.length-1;let C=0;for(let x=void 0!==h?65535&a[Oo]:0;x<w;x++)if("number"==typeof l[x+1]){if(C=l[x],null!=h&&C>=h)break}else l[x]<0&&(a[Oo]+=65536),(C<g||-1==g)&&(gh(a,u,l,x),a[Oo]=(4294901760&a[Oo])+x+2),x++}function dr(a,l){Hr(4,a,l);const u=bi(null);try{l.call(a)}finally{bi(u),Hr(5,a,l)}}function gh(a,l,u,h){const p=u[h]<0,g=u[h+1],C=a[p?-u[h]:u[h]];p?a[Ut]>>13<a[Oo]>>16&&(3&a[Ut])===l&&(a[Ut]+=8192,dr(C,g)):dr(C,g)}const Ms=-1;class oa{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Sc(a){return a!==Ms}function D(a){return 32767&a}function O(a,l){let u=function A(a){return a>>16}(a),h=l;for(;u>0;)h=h[Ts],u--;return h}let W=!0;function se(a){const l=W;return W=a,l}const We=255,gt=5;let Ct=0;const wt={};function Bt(a,l){const u=Ai(a,l);if(-1!==u)return u;const h=l[rt];h.firstCreatePass&&(a.injectorIndex=l.length,Nr(h.data,a),Nr(l,null),Nr(h.blueprint,null));const p=Uo(a,l),g=a.injectorIndex;if(Sc(p)){const w=D(p),C=O(p,l),x=C[rt].data;for(let k=0;k<8;k++)l[g+k]=C[w+k]|x[w+k]}return l[g+8]=p,g}function Nr(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Ai(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Uo(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,p=l;for(;null!==p;){if(h=Nf(p),null===h)return Ms;if(u++,p=p[Ts],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return Ms}function Ha(a,l,u){!function sn(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(ts)&&(h=u[ts]),null==h&&(h=u[ts]=Ct++);const p=h&We;l.data[a+(p>>gt)]|=1<<p}(a,l,u)}function jr(a,l,u){if(u&Rt.Optional||void 0!==a)return a;Je()}function ks(a,l,u,h){if(u&Rt.Optional&&void 0===h&&(h=null),!(u&(Rt.Self|Rt.Host))){const p=a[yr],g=Jn(void 0);try{return p?p.get(l,h,u&Rt.Optional):Dr(l,h,u&Rt.Optional)}finally{Jn(g)}}return jr(h,0,u)}function zu(a,l,u,h=Rt.Default,p){if(null!==a){if(2048&l[Ut]&&!(h&Rt.Self)){const w=function ja(a,l,u,h,p){let g=a,w=l;for(;null!==g&&null!==w&&2048&w[Ut]&&!(512&w[Ut]);){const C=m_(g,w,u,h|Rt.Self,wt);if(C!==wt)return C;let x=g.parent;if(!x){const k=w[No];if(k){const N=k.get(u,wt,h);if(N!==wt)return N}x=Nf(w),w=w[Ts]}g=x}return p}(a,l,u,h,wt);if(w!==wt)return w}const g=m_(a,l,u,h,wt);if(g!==wt)return g}return ks(l,u,h,p)}function m_(a,l,u,h,p){const g=function R0(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(ts)?a[ts]:void 0;return"number"==typeof l?l>=0?l&We:CI:l}(u);if("function"==typeof g){if(!Ic(l,a,h))return h&Rt.Host?jr(p,0,h):ks(l,u,h,p);try{let w;if(w=g(h),null!=w||h&Rt.Optional)return w;Je()}finally{Tc()}}else if("number"==typeof g){let w=null,C=Ai(a,l),x=Ms,k=h&Rt.Host?l[wi][Wi]:null;for((-1===C||h&Rt.SkipSelf)&&(x=-1===C?Uo(a,l):l[C+8],x!==Ms&&g_(h,!1)?(w=l[rt],C=D(x),l=O(x,l)):C=-1);-1!==C;){const N=l[rt];if(Rf(g,C,N.data)){const j=P0(C,l,u,w,h,k);if(j!==wt)return j}x=l[C+8],x!==Ms&&g_(h,l[rt].data[C+8]===k)&&Rf(g,C,l)?(w=N,C=D(x),l=O(x,l)):C=-1}}return p}function P0(a,l,u,h,p,g){const w=l[rt],C=w.data[a+8],N=Dc(C,w,u,null==h?co(C)&&W:h!=w&&0!=(3&C.type),p&Rt.Host&&g===C);return null!==N?Pl(l,w,N,C):wt}function Dc(a,l,u,h,p){const g=a.providerIndexes,w=l.data,C=1048575&g,x=a.directiveStart,N=g>>20,ne=p?C+N:a.directiveEnd;for(let ae=h?C:C+N;ae<ne;ae++){const ke=w[ae];if(ae<x&&u===ke||ae>=x&&ke.type===u)return ae}if(p){const ae=w[x];if(ae&&wr(ae)&&ae.type===u)return x}return null}function Pl(a,l,u,h){let p=a[u];const g=l.data;if(function Bo(a){return a instanceof oa}(p)){const w=p;w.resolving&&function oe(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new ce(-200,`Circular dependency in DI detected for ${a}${u}`)}(function Pe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ge(a)}(g[u]));const C=se(w.canSeeViewProviders);w.resolving=!0;const k=w.injectImpl?Jn(w.injectImpl):null;Ic(a,h,Rt.Default);try{p=a[u]=w.factory(void 0,g,a,h),l.firstCreatePass&&u>=h.directiveStart&&function mh(a,l,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:g}=l.type.prototype;if(h){const w=ah(l);(u.preOrderHooks??=[]).push(a,w),(u.preOrderCheckHooks??=[]).push(a,w)}p&&(u.preOrderHooks??=[]).push(0-a,p),g&&((u.preOrderHooks??=[]).push(a,g),(u.preOrderCheckHooks??=[]).push(a,g))}(u,g[u],l)}finally{null!==k&&Jn(k),se(C),w.resolving=!1,Tc()}}return p}function Rf(a,l,u){return!!(u[l+(a>>gt)]&1<<a)}function g_(a,l){return!(a&Rt.Self||a&Rt.Host&&l)}class qr{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return zu(this._tNode,this._lView,l,bt(h),u)}}function CI(){return new qr(Bi(),qe())}function __(a){return Gs(()=>{const l=a.prototype.constructor,u=l[Ao]||Of(l),h=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==h;){const g=p[Ao]||Of(p);if(g&&g!==u)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function Of(a){return V(a)?()=>{const l=Of(Fe(a));return l&&l()}:Ds(a)}function Nf(a){const l=a[rt],u=l.type;return 2===u?l.declTNode:1===u?a[Wi]:null}function ju(a){return function kl(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const g=u[p];if(ac(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(g===l)return u[p+1];p+=2}}}return null}(Bi(),a)}const qa="__parameters__";function Ga(a,l,u){return Gs(()=>{const h=function Ff(a){return function(...u){if(a){const h=a(...u);for(const p in h)this[p]=h[p]}}}(l);function p(...g){if(this instanceof p)return h.apply(this,g),this;const w=new p(...g);return C.annotation=w,C;function C(x,k,N){const j=x.hasOwnProperty(qa)?x[qa]:Object.defineProperty(x,qa,{value:[]})[qa];for(;j.length<=N;)j.push(null);return(j[N]=j[N]||[]).push(w),x}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}function aa(a,l){a.forEach(u=>Array.isArray(u)?aa(u,l):l(u))}function Gu(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Zu(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ol(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function y(a,l,u){let h=E(a,l);return h>=0?a[1|h]=u:(h=~h,function Hf(a,l,u,h){let p=a.length;if(p==l)a.push(u,h);else if(1===p)a.push(h,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function v(a,l){const u=E(a,l);if(u>=0)return a[1|u]}function E(a,l){return function H(a,l,u){let h=0,p=a.length>>u;for(;p!==h;){const g=h+(p-h>>1),w=a[g<<u];if(l===w)return g<<u;w>l?p=g:h=g+1}return~(p<<u)}(a,l,1)}const Nl=vi(Ga("Optional"),8),$u=vi(Ga("SkipSelf"),4);function Ch(a){return 128==(128&a.flags)}var A_=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(A_||{});const SD=/^>|^->|<!--|-->|--!>|<!-$/g,NI=/(<|>)/,z0="\u200b$1\u200b";const LI=new Map;let DD=0;const M_="__ngContext__";function us(a,l){Ki(l)?(a[M_]=l[xa],function MD(a){LI.set(a[xa],a)}(l)):a[M_]=l}let Z0;function $0(a,l){return Z0(a,l)}function Gf(a){const l=a[$n];return vr(l)?l[$n]:l}function qI(a){return K0(a[lo])}function Y0(a){return K0(a[Mr])}function K0(a){for(;null!==a&&!vr(a);)a=a[Mr];return a}function Ju(a,l,u,h,p){if(null!=h){let g,w=!1;vr(h)?g=h:Ki(h)&&(w=!0,h=h[Cn]);const C=Mn(h);0===a&&null!==u?null==p?t1(l,u,C):Za(l,u,C,p||null,!0):1===a&&null!==u?Za(l,u,C,p||null,!0):2===a?function n1(a,l,u){const h=V_(a,l);h&&function WI(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}(l,C,w):3===a&&l.destroyNode(C),null!=g&&function jD(a,l,u,h,p){const g=u[Yi];g!==Mn(u)&&Ju(l,a,h,g,p);for(let C=ui;C<u.length;C++){const x=u[C];Wf(x[rt],x,a,l,h,g)}}(l,a,g,u,p)}}function Q0(a,l){return a.createComment(function j0(a){return a.replace(SD,l=>l.replace(NI,z0))}(l))}function R_(a,l,u){return a.createElement(l,u)}function N_(a,l){const u=a[Xn],h=u.indexOf(l);Ru(l),u.splice(h,1)}function L_(a,l){if(a.length<=ui)return;const u=ui+l,h=a[u];if(h){const p=h[Ro];null!==p&&p!==a&&N_(p,h),l>0&&(a[u-1][Mr]=h[Mr]);const g=Zu(a,ui+l);!function GI(a,l){Wf(a,l,l[$t],2,null,null),l[Cn]=null,l[Wi]=null}(h[rt],h);const w=g[Es];null!==w&&w.detachView(g[rt]),h[$n]=null,h[Mr]=null,h[Ut]&=-129}return h}function F_(a,l){if(!(256&l[Ut])){const u=l[$t];l[Sa]?.destroy(),l[Ss]?.destroy(),u.destroyNode&&Wf(a,l,u,3,null,null),function O_(a){let l=a[lo];if(!l)return J0(a[rt],a);for(;l;){let u=null;if(Ki(l))u=l[lo];else{const h=l[ui];h&&(u=h)}if(!u){for(;l&&!l[Mr]&&l!==a;)Ki(l)&&J0(l[rt],l),l=l[$n];null===l&&(l=a),Ki(l)&&J0(l[rt],l),u=l&&l[Mr]}l=u}}(l)}}function J0(a,l){if(!(256&l[Ut])){l[Ut]&=-129,l[Ut]|=256,function BD(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const p=l[u[h]];if(!(p instanceof oa)){const g=u[h+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const C=p[g[w]],x=g[w+1];Hr(4,C,x);try{x.call(C)}finally{Hr(5,C,x)}}else{Hr(4,p,g);try{g.call(p)}finally{Hr(5,p,g)}}}}}(a,l),function VD(a,l){const u=a.cleanup,h=l[Ys];if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const w=u[g+3];w>=0?h[w]():h[-w].unsubscribe(),g+=2}else u[g].call(h[u[g+1]]);null!==h&&(l[Ys]=null);const p=l[xs];if(null!==p){l[xs]=null;for(let g=0;g<p.length;g++)(0,p[g])()}}(a,l),1===l[rt].type&&l[$t].destroy();const u=l[Ro];if(null!==u&&vr(l[$n])){u!==l[$n]&&N_(u,l);const h=l[Es];null!==h&&h.detachView(a)}!function kD(a){LI.delete(a[xa])}(l)}}function X0(a,l,u){return function e1(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[Cn];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:g}=a.data[h.directiveStart+p];if(g===ao.None||g===ao.Emulated)return null}return br(h,u)}}(a,l.parent,u)}function Za(a,l,u,h,p){a.insertBefore(l,u,h,p)}function t1(a,l,u){a.appendChild(l,u)}function $I(a,l,u,h,p){null!==h?Za(a,l,u,h,p):t1(a,l,u)}function V_(a,l){return a.parentNode(l)}function YI(a,l,u){return QI(a,l,u)}let B_,Qi,H_,z_,QI=function KI(a,l,u){return 40&a.type?br(a,u):null};function Zf(a,l,u,h){const p=X0(a,h,l),g=l[$t],C=YI(h.parent||l[Wi],h,l);if(null!=p)if(Array.isArray(u))for(let x=0;x<u.length;x++)$I(g,p,u[x],C,!1);else $I(g,p,u,C,!1);void 0!==B_&&B_(g,h,l,u,p)}function $f(a,l){if(null!==l){const u=l.type;if(3&u)return br(l,a);if(4&u)return JI(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return $f(a,h);{const p=a[l.index];return vr(p)?JI(-1,p):Mn(p)}}if(32&u)return $0(l,a)()||Mn(a[l.index]);{const h=HD(a,l);return null!==h?Array.isArray(h)?h[0]:$f(Gf(a[wi]),h):$f(a,l.next)}}return null}function HD(a,l){return null!==l?a[wi][Wi].projection[l.projection]:null}function JI(a,l){const u=ui+a+1;if(u<l.length){const h=l[u],p=h[rt].firstChild;if(null!==p)return $f(h,p)}return l[Yi]}function Os(a,l,u,h,p,g,w){for(;null!=u;){const C=h[u.index],x=u.type;if(w&&0===l&&(C&&us(Mn(C),h),u.flags|=2),32!=(32&u.flags))if(8&x)Os(a,l,u.child,h,p,g,!1),Ju(l,a,p,C,g);else if(32&x){const k=$0(u,h);let N;for(;N=k();)Ju(l,a,p,N,g);Ju(l,a,p,C,g)}else 16&x?XI(a,l,h,u,p,g):Ju(l,a,p,C,g);u=w?u.projectionNext:u.next}}function Wf(a,l,u,h,p,g){Os(u,h,a.firstChild,l,p,g,!1)}function XI(a,l,u,h,p,g){const w=u[wi],x=w[Wi].projection[h.projection];if(Array.isArray(x))for(let k=0;k<x.length;k++)Ju(l,a,p,x[k],g);else{let k=x;const N=w[$n];Ch(h)&&(k.flags|=128),Os(a,l,k,N,p,g,!0)}}function Ih(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function ed(a,l,u){const{mergedAttrs:h,classes:p,styles:g}=u;null!==h&&Pn(a,l,h),null!==p&&Ih(a,l,p),null!==g&&function qD(a,l,u){a.setAttribute(l,"style",u)}(a,l,g)}function Th(a){return function zt(){if(void 0===Qi&&(Qi=null,Lt.trustedTypes))try{Qi=Lt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Qi}()?.createHTML(a)||a}function td(a){H_=a}function Ui(){if(void 0!==H_)return H_;if(typeof document<"u")return document;throw new ce(210,!1)}function j_(){if(void 0===z_&&(z_=null,Lt.trustedTypes))try{z_=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return z_}function nT(a){return j_()?.createHTML(a)||a}function rT(a){return j_()?.createScriptURL(a)||a}class Yf{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}function nd(a){return a instanceof Yf?a.changingThisBreaksApplicationSecurity:a}function Eh(a,l){const u=function oT(a){return a instanceof Yf&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${st})`)}return u===l}class q_{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Th(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class aT{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const u=this.inertDocument.createElement("template");return u.innerHTML=Th(l),u}}const cT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function G_(a){return(a=String(a)).match(cT)?a:"unsafe:"+a}function Vl(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function xh(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const s1=Vl("area,br,col,hr,img,wbr"),Z_=Vl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),o1=Vl("rp,rt"),$_=xh(s1,xh(Z_,Vl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xh(o1,Vl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xh(o1,Z_)),Kf=Vl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),l1=xh(Kf,Vl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dT=Vl("script,style,template");class Ns{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!$_.hasOwnProperty(u))return this.sanitizedSomething=!0,!dT.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let p=0;p<h.length;p++){const g=h.item(p),w=g.name,C=w.toLowerCase();if(!l1.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let x=g.value;Kf[C]&&(x=G_(x)),this.buf.push(" ",w,'="',iA(x),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();$_.hasOwnProperty(u)&&!s1.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(iA(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const $a=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hT=/([^\#-~ |!])/g;function iA(a){return a.replace(/&/g,"&amp;").replace($a,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(hT,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let c1;function W_(a){return"content"in a&&function d1(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Bl=function(a){return a[a.NONE=0]="NONE",a[a.HTML=1]="HTML",a[a.STYLE=2]="STYLE",a[a.SCRIPT=3]="SCRIPT",a[a.URL=4]="URL",a[a.RESOURCE_URL=5]="RESOURCE_URL",a}(Bl||{});function pT(a){const l=Sh();return l?nT(l.sanitize(Bl.HTML,a)||""):Eh(a,"HTML")?nT(nd(a)):function u1(a,l){let u=null;try{c1=c1||function r1(a){const l=new aT(a);return function lT(){try{return!!(new window.DOMParser).parseFromString(Th(""),"text/html")}catch{return!1}}()?new q_(l):l}(a);let h=l?String(l):"";u=c1.getInertBodyElement(h);let p=5,g=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=g,g=u.innerHTML,u=c1.getInertBodyElement(h)}while(h!==g);return Th((new Ns).sanitizeChildren(W_(u)||u))}finally{if(u){const h=W_(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}(Ui(),ge(a))}function p1(a){const l=Sh();return l?l.sanitize(Bl.URL,a)||"":Eh(a,"URL")?nd(a):G_(ge(a))}function rA(a){const l=Sh();if(l)return rT(l.sanitize(Bl.RESOURCE_URL,a)||"");if(Eh(a,"ResourceURL"))return rT(nd(a));throw new ce(904,!1)}function sA(a,l,u){return function _O(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?rA:p1}(l,u)(a)}function Sh(){const a=qe();return a&&a[kr].sanitizer}class On{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Xe({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Y_=new On("ENVIRONMENT_INITIALIZER"),oA=new On("INJECTOR",-1),Dh=new On("INJECTOR_DEF_TYPES");class Ah{get(l,u=xt){if(u===xt){const h=new Error(`NullInjectorError: No provider for ${ue(l)}!`);throw h.name="NullInjectorError",h}return u}}function Pc(a){return{\u0275providers:a}}function Qf(...a){return{\u0275providers:K_(0,a),\u0275fromNgModule:!0}}function K_(a,...l){const u=[],h=new Set;let p;const g=w=>{u.push(w)};return aa(l,w=>{const C=w;Mh(C,g,[],h)&&(p||=[],p.push(C))}),void 0!==p&&fT(p,g),u}function fT(a,l){for(let u=0;u<a.length;u++){const{ngModule:h,providers:p}=a[u];kh(p,g=>{l(g,h)})}}function Mh(a,l,u,h){if(!(a=Fe(a)))return!1;let p=null,g=Oi(a);const w=!g&&ln(a);if(g||w){if(w&&!w.standalone)return!1;p=a}else{const x=a.ngModule;if(g=Oi(x),!g)return!1;p=x}const C=h.has(p);if(w){if(C)return!1;if(h.add(p),w.dependencies){const x="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const k of x)Mh(k,l,u,h)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let k;h.add(p);try{aa(g.imports,N=>{Mh(N,l,u,h)&&(k||=[],k.push(N))})}finally{}void 0!==k&&fT(k,l)}if(!C){const k=Ds(p)||(()=>new p);l({provide:p,useFactory:k,deps:fn},p),l({provide:Dh,useValue:p,multi:!0},p),l({provide:Y_,useValue:()=>lt(p),multi:!0},p)}const x=g.providers;if(null!=x&&!C){const k=a;kh(x,N=>{l(N,k)})}}}return p!==a&&void 0!==a.providers}function kh(a,l){for(let u of a)ze(u)&&(u=u.\u0275providers),Array.isArray(u)?kh(u,l):l(u)}const mT=Z({provide:String,useValue:Z});function Q_(a){return null!==a&&"object"==typeof a&&mT in a}function Rh(a){return"function"==typeof a}const J_=new On("Set Injector scope."),f1={},id={};let rd;function sd(){return void 0===rd&&(rd=new Ah),rd}class eo{}class od extends eo{get destroyed(){return this._destroyed}constructor(l,u,h,p){super(),this.parent=u,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,X_(l,w=>this.processProvider(w)),this.records.set(oA,Nh(void 0,this)),p.has("environment")&&this.records.set(eo,Nh(void 0,this));const g=this.records.get(J_);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Dh.multi,fn,Rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of l)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const u=me(this),h=Jn(void 0);try{return l()}finally{me(u),Jn(h)}}get(l,u=xt,h=Rt.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(ml))return l[ml](this);h=bt(h);const g=me(this),w=Jn(void 0);try{if(!(h&Rt.SkipSelf)){let x=this.records.get(l);if(void 0===x){const k=function cA(a){return"function"==typeof a||"object"==typeof a&&a instanceof On}(l)&&Fn(l);x=k&&this.injectableDefInScope(k)?Nh(Oh(l),f1):null,this.records.set(l,x)}if(null!=x)return this.hydrate(l,x)}return(h&Rt.Self?sd():this.parent).get(l,u=h&Rt.Optional&&u===xt?null:u)}catch(C){if("NullInjectorError"===C.name){if((C[pn]=C[pn]||[]).unshift(ue(l)),g)throw C;return function qs(a,l,u,h){const p=a[pn];throw l[$]&&p.unshift(l[$]),a.message=function mu(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let p=ue(l);if(Array.isArray(l))p=l.map(ue).join(" -> ");else if("object"==typeof l){let g=[];for(let w in l)if(l.hasOwnProperty(w)){let C=l[w];g.push(w+":"+("string"==typeof C?JSON.stringify(C):ue(C)))}p=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${a.replace(Y,"\n  ")}`}("\n"+a.message,p,u,h),a.ngTokenPath=p,a[pn]=null,a}(C,l,"R3InjectorError",this.source)}throw C}finally{Jn(w),me(g)}}resolveInjectorInitializers(){const l=me(this),u=Jn(void 0);try{const p=this.get(Y_.multi,fn,Rt.Self);for(const g of p)g()}finally{me(l),Jn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(ue(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(l){let u=Rh(l=Fe(l))?l:Fe(l&&l.provide);const h=function m1(a){return Q_(a)?Nh(void 0,a.useValue):Nh(Xf(a),f1)}(l);if(Rh(l)||!0!==l.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=Nh(void 0,f1,!0),p.factory=()=>Rn(p.multi),this.records.set(u,p)),u=l,p.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===f1&&(u.value=id,u.value=u.factory()),"object"==typeof u.value&&u.value&&function gT(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=Fe(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(l){const u=this._onDestroyHooks.indexOf(l);-1!==u&&this._onDestroyHooks.splice(u,1)}}function Oh(a){const l=Fn(a),u=null!==l?l.factory:Ds(a);if(null!==u)return u;if(a instanceof On)throw new ce(204,!1);if(a instanceof Function)return function aA(a){const l=a.length;if(l>0)throw Ol(l,"?"),new ce(204,!1);const u=function Zi(a){return a&&(a[Ni]||a[yi])||null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new ce(204,!1)}function Xf(a,l,u){let h;if(Rh(a)){const p=Fe(a);return Ds(p)||Oh(p)}if(Q_(a))h=()=>Fe(a.useValue);else if(function Ph(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...Rn(a.deps||[]));else if(function Jf(a){return!(!a||!a.useExisting)}(a))h=()=>lt(Fe(a.useExisting));else{const p=Fe(a&&(a.useClass||a.provide));if(!function lA(a){return!!a.deps}(a))return Ds(p)||Oh(p);h=()=>new p(...Rn(a.deps))}return h}function Nh(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function X_(a,l){for(const u of a)Array.isArray(u)?X_(u,l):u&&ze(u)?X_(u.\u0275providers,l):l(u)}const _T=new On("AppId",{providedIn:"root",factory:()=>bO}),bO="ng",yT=new On("Platform Initializer"),em=new On("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CO=new On("AnimationModuleType"),g1=new On("CSP nonce",{providedIn:"root",factory:()=>Ui().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let IT=(a,l,u)=>null;function iy(a,l,u=!1){return IT(a,l,u)}class DT{}class AT{}class fA{resolveComponentFactory(l){throw function ay(a){const l=Error(`No component factory found for ${ue(a)}.`);return l.ngComponent=a,l}(l)}}let Lh=(()=>{class l{}return l.NULL=new fA,l})();function PT(){return Fh(Bi(),qe())}function Fh(a,l){return new ld(br(a,l))}let ld=(()=>{class l{constructor(h){this.nativeElement=h}}return l.__NG_ELEMENT_ID__=PT,l})();function mA(a){return a instanceof ld?a.nativeElement:a}class C1{}let gA=(()=>{class l{constructor(){this.destroyNode=null}}return l.__NG_ELEMENT_ID__=()=>function I1(){const a=qe(),u=Vi(Bi().index,a);return(Ki(u)?u:a)[$t]}(),l})(),_A=(()=>{var a;class l{}return(a=l).\u0275prov=Xe({token:a,providedIn:"root",factory:()=>null}),l})();class RT{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const T1=new RT("16.2.1"),E1={};function VT(a,l=null,u=null,h){const p=om(a,l,u,h);return p.resolveInjectorInitializers(),p}function om(a,l=null,u=null,h,p=new Set){const g=[u||fn,Qf(a)];return h=h||("object"==typeof a?void 0:ue(a)),new od(g,l||sd(),h||null,p)}let jo=(()=>{var a;class l{static create(h,p){if(Array.isArray(h))return VT({name:""},p,h,"");{const g=h.name??"";return VT({name:g},h.parent,h.providers,g)}}}return(a=l).THROW_IF_NOT_FOUND=xt,a.NULL=new Ah,a.\u0275prov=Xe({token:a,providedIn:"any",factory:()=>lt(oA)}),a.__NG_ELEMENT_ID__=-1,l})(),ly=(()=>{var a;class l{}return(a=l).__NG_ELEMENT_ID__=wA,a.__NG_ENV_ID__=u=>u,l})();class BT extends ly{constructor(l){super(),this._lView=l}onDestroy(l){return Tl(this._lView,l),()=>function Ou(a,l){if(null===a[xs])return;const u=a[xs].indexOf(l);-1!==u&&a[xs].splice(u,1)}(this._lView,l)}}function wA(){return new BT(qe())}function HT(a){return a.ownerDocument}function Wa(a){return a instanceof Function?a():a}let cy=(()=>{var a;class l{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ce(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const h of this.callbacks)h.invoke()}finally{this.runningCallbacks=!1;for(const h of this.deferredCallbacks)this.callbacks.add(h);this.deferredCallbacks.clear()}}register(h){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(h)}unregister(h){this.callbacks.delete(h),this.deferredCallbacks.delete(h)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(a=l).\u0275prov=Xe({token:a,providedIn:"root",factory:()=>new a}),l})();function uy(a){for(;a;){a[Ut]|=64;const l=Gf(a);if(Aa(a)&&!l)return a;a=l}return null}function A1(a){return a.ngOriginalError}class lm{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&A1(l);for(;u&&A1(u);)u=A1(u);return u||null}}const cm=new On("",{providedIn:"root",factory:()=>!1});class um extends Au{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(l){this._lView=l}onConsumerDependencyMayHaveChanged(){uy(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(l,u,h){const p=bi(this);this.trackingVersion++;try{l(u,h)}finally{bi(p)}}destroy(){this.trackingVersion++}}let Ir=null;function to(){return Ir??=new um,Ir}function Hl(a,l){return a[l]??to()}function cd(a,l){const u=to();u.hasReadASignal&&(a[l]=Ir,u.lView=a,Ir=new um)}const Yt={};function O1(a){zT(rn(),qe(),Or()+a,!1)}function zT(a,l,u,h){if(!h)if(3==(3&l[Ut])){const g=a.preOrderCheckHooks;null!==g&&oi(l,g,u)}else{const g=a.preOrderHooks;null!==g&&Ba(l,g,0,u)}os(u)}function Ya(a,l=Rt.Default){const u=qe();return null===u?lt(a,l):zu(Bi(),u,Fe(a),l)}function zl(){throw new Error("invalid")}function hm(a,l,u,h,p,g,w,C,x,k,N){const j=l.blueprint.slice();return j[Cn]=p,j[Ut]=140|h,(null!==k||a&&2048&a[Ut])&&(j[Ut]|=2048),Pu(j),j[$n]=j[Ts]=a,j[Ht]=u,j[kr]=w||a&&a[kr],j[$t]=C||a&&a[$t],j[yr]=x||a&&a[yr]||null,j[Wi]=g,j[xa]=function AD(){return DD++}(),j[Pr]=N,j[No]=k,j[wi]=2==l.type?a[wi]:j,j}function Nc(a,l,u,h,p){let g=a.data[l];if(null===g)g=function In(a,l,u,h,p){const g=rs(),w=Vo(),x=a.data[l]=function OO(a,l,u,h,p,g){let w=l?l.injectorIndex:-1,C=0;return Qs()&&(C|=128),{type:u,index:h,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,u,l,h,p);return null===a.firstChild&&(a.firstChild=x),null!==g&&(w?null==g.child&&null!==x.parent&&(g.child=x):null===g.next&&(g.next=x,x.prev=g)),x}(a,l,u,h,p),function Ef(){return Vt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=u,g.value=h,g.attrs=p;const w=function Na(){const a=Vt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return zr(g,!0),g}function Bh(a,l,u,h){if(0===u)return-1;const p=l.length;for(let g=0;g<u;g++)l.push(h),a.blueprint.push(h),a.data.push(null);return p}function pm(a,l,u,h,p){const g=Hl(l,Sa),w=Or(),C=2&h;try{if(os(-1),C&&l.length>Jt&&zT(a,l,Jt,!1),Hr(C?2:0,p),C)g.runInContext(u,h,p);else{const k=bi(null);try{u(h,p)}finally{bi(k)}}}finally{C&&null===l[Sa]&&cd(l,Sa),os(w),Hr(C?3:1,p)}}function N1(a,l,u){if(ta(l)){const h=bi(null);try{const g=l.directiveEnd;for(let w=l.directiveStart;w<g;w++){const C=a.data[w];C.contentQueries&&C.contentQueries(1,u[w],w)}}finally{bi(h)}}}function jT(a,l,u){wc()&&(function kA(a,l,u,h){const p=u.directiveStart,g=u.directiveEnd;co(u)&&function LA(a,l,u){const h=br(l,a),p=hy(u);let w=16;u.signals?w=4096:u.onPush&&(w=64);const C=Uh(a,hm(a,p,null,w,h,l,null,a[kr].rendererFactory.createRenderer(h,u),null,null,null));a[l.index]=C}(l,u,a.data[p+u.componentOffset]),a.firstCreatePass||Bt(u,l),us(h,l);const w=u.initialInputs;for(let C=p;C<g;C++){const x=a.data[C],k=Pl(l,a,C,u);us(k,l),null!==w&&py(0,C-p,k,x,0,w),wr(x)&&(Vi(u.index,l)[Ht]=Pl(l,a,C,u))}}(a,l,u,br(u,l)),64==(64&u.flags)&&mm(a,l,u))}function L1(a,l,u=br){const h=l.localNames;if(null!==h){let p=l.index+1;for(let g=0;g<h.length;g+=2){const w=h[g+1],C=-1===w?u(l,a):a[w];a[p++]=C}}}function hy(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=qT(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):l}function qT(a,l,u,h,p,g,w,C,x,k,N){const j=Jt+h,ne=j+p,ae=function MO(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Yt);return u}(j,ne),ke="function"==typeof k?k():k;return ae[rt]={type:a,blueprint:ae,template:u,queries:null,viewQuery:C,declTNode:l,data:ae.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:x,consts:ke,incompleteFirstPass:!1,ssrId:N}}let SA=a=>null;function DA(a,l,u,h){for(let p in a)if(a.hasOwnProperty(p)){u=null===u?{}:u;const g=a[p];null===h?AA(u,l,p,g):h.hasOwnProperty(p)&&AA(u,l,h[p],g)}return u}function AA(a,l,u,h){a.hasOwnProperty(u)?a[u].push(l,h):a[u]=[l,h]}function fm(a,l,u,h){if(wc()){const p=null===h?null:{"":-1},g=function PA(a,l){const u=a.directiveRegistry;let h=null,p=null;if(u)for(let g=0;g<u.length;g++){const w=u[g];if(af(l,w.selectors,!1))if(h||(h=[]),wr(w))if(null!==w.findHostDirectiveDefs){const C=[];p=p||new Map,w.findHostDirectiveDefs(w,C,p),h.unshift(...C,w),B1(a,l,C.length)}else h.unshift(w),B1(a,l,0);else p=p||new Map,w.findHostDirectiveDefs?.(w,h,p),h.push(w)}return null===h?null:[h,p]}(a,u);let w,C;null===g?w=C=null:[w,C]=g,null!==w&&F1(a,l,u,w,p,C),p&&function RA(a,l,u){if(l){const h=a.localNames=[];for(let p=0;p<l.length;p+=2){const g=u[l[p+1]];if(null==g)throw new ce(-301,!1);h.push(l[p],g)}}}(u,h,p)}u.mergedAttrs=Mo(u.mergedAttrs,u.attrs)}function F1(a,l,u,h,p,g){for(let k=0;k<h.length;k++)Ha(Bt(u,l),a,h[k].type);!function OA(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}(u,a.data.length,h.length);for(let k=0;k<h.length;k++){const N=h[k];N.providersResolver&&N.providersResolver(N)}let w=!1,C=!1,x=Bh(a,l,h.length,null);for(let k=0;k<h.length;k++){const N=h[k];u.mergedAttrs=Mo(u.mergedAttrs,N.hostAttrs),NA(a,u,l,x,N),GT(x,N,p),null!==N.contentQueries&&(u.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=64);const j=N.type.prototype;!w&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((a.preOrderHooks??=[]).push(u.index),w=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(u.index),C=!0),x++}!function NO(a,l,u){const p=l.directiveEnd,g=a.data,w=l.attrs,C=[];let x=null,k=null;for(let N=l.directiveStart;N<p;N++){const j=g[N],ne=u?u.get(j):null,ke=ne?ne.outputs:null;x=DA(j.inputs,N,x,ne?ne.inputs:null),k=DA(j.outputs,N,k,ke);const Ke=null===x||null===w||An(l)?null:H1(x,N,w);C.push(Ke)}null!==x&&(x.hasOwnProperty("class")&&(l.flags|=8),x.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=C,l.inputs=x,l.outputs=k}(a,u,g)}function mm(a,l,u){const h=u.directiveStart,p=u.directiveEnd,g=u.index,w=function u_(){return Vt.lFrame.currentDirectiveIndex}();try{os(g);for(let C=h;C<p;C++){const x=a.data[C],k=l[C];Sf(C),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&V1(x,k)}}finally{os(-1),Sf(w)}}function V1(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function B1(a,l,u){l.componentOffset=u,(a.components??=[]).push(l.index)}function GT(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;wr(l)&&(u[""]=a)}}function NA(a,l,u,h,p){a.data[h]=p;const g=p.factory||(p.factory=Ds(p.type)),w=new oa(g,wr(p),Ya);a.blueprint[h]=w,u[h]=w,function MA(a,l,u,h,p){const g=p.hostBindings;if(g){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const C=~l.index;(function Zr(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(w)!=C&&w.push(C),w.push(u,h,g)}}(a,l,h,Bh(a,u,p.hostVars,Yt),p)}function Qa(a,l,u,h,p,g){const w=br(a,l);!function $r(a,l,u,h,p,g,w){if(null==g)a.removeAttribute(l,p,u);else{const C=null==w?ge(g):w(g,h||"",p);a.setAttribute(l,p,C,u)}}(l[$t],w,g,a.value,u,h,p)}function py(a,l,u,h,p,g){const w=g[l];if(null!==w)for(let C=0;C<w.length;)U1(h,u,w[C++],w[C++],w[C++])}function U1(a,l,u,h,p){const g=bi(null);try{const w=a.inputTransforms;null!==w&&w.hasOwnProperty(h)&&(p=w[h].call(l,p)),null!==a.setInput?a.setInput(l,p,u,h):l[h]=p}finally{bi(g)}}function H1(a,l,u){let h=null,p=0;for(;p<u.length;){const g=u[p];if(0!==g)if(5!==g){if("number"==typeof g)break;if(a.hasOwnProperty(g)){null===h&&(h=[]);const w=a[g];for(let C=0;C<w.length;C+=2)if(w[C]===l){h.push(g,w[C+1],u[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function gm(a,l,u,h){return[a,!0,!1,l,null,0,h,u,null,null,null]}function fy(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const g=u[h+1];if(-1!==g){const w=a.data[g];Cc(u[h]),w.contentQueries(2,l[g],g)}}}function Uh(a,l){return a[lo]?a[si][Mr]=l:a[lo]=l,a[si]=l,l}function z1(a,l,u){Cc(0);const h=bi(null);try{l(a,u)}finally{bi(h)}}function ZT(a){return a[Ys]||(a[Ys]=[])}function $T(a){return a.cleanup||(a.cleanup=[])}function Hh(a,l){const u=a[yr],h=u?u.get(lm,null):null;h&&h.handleError(l)}function my(a,l,u,h,p){for(let g=0;g<u.length;){const w=u[g++],C=u[g++];U1(a.data[w],l[w],h,C,p)}}function qo(a,l,u){const h=Fi(l,a);!function Xu(a,l,u){a.setValue(l,u)}(a[$t],h,u)}function YT(a,l){const u=Vi(l,a),h=u[rt];!function FA(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])}(h,u);const p=u[Cn];null!==p&&null===u[Pr]&&(u[Pr]=iy(p,u[yr])),j1(h,u,u[Ht])}function j1(a,l,u){Vu(l);try{const h=a.viewQuery;null!==h&&z1(1,h,u);const p=a.template;null!==p&&pm(a,l,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&fy(a,l),a.staticViewQueries&&z1(2,a.viewQuery,u);const g=a.components;null!==g&&function VA(a,l){for(let u=0;u<l.length;u++)YT(a,l[u])}(l,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[Ut]&=-5,Al()}}let KT=(()=>{var a;class l{constructor(){this.all=new Set,this.queue=new Map}create(h,p,g){const w=typeof Zone>"u"?null:Zone.current,C=new oh(h,N=>{this.all.has(N)&&this.queue.set(N,w)},g);let x;this.all.add(C),C.notify();const k=()=>{C.cleanup(),x?.(),this.all.delete(C),this.queue.delete(C)};return x=p?.onDestroy(k),{destroy:k}}flush(){if(0!==this.queue.size)for(const[h,p]of this.queue)this.queue.delete(h),p?p.run(()=>h.run()):h.run()}get isQueueEmpty(){return 0===this.queue.size}}return(a=l).\u0275prov=Xe({token:a,providedIn:"root",factory:()=>new a}),l})();function q1(a,l){!l?.injector&&function sm(a){if(!Zt()&&!function q(){return F}())throw new ce(-203,!1)}();const u=l?.injector??vt(jo),h=u.get(KT),p=!0!==l?.manualCleanup?u.get(ly):null;return h.create(a,p,!!l?.allowSignalWrites)}function zh(a,l,u){let h=u?a.styles:null,p=u?a.classes:null,g=0;if(null!==l)for(let w=0;w<l.length;w++){const C=l[w];"number"==typeof C?g=C:1==g?p=Ze(p,C):2==g&&(h=Ze(h,C+": "+l[++w]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=p:a.classesWithoutHost=p}function jh(a,l,u,h,p=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(Mn(g)),vr(g)){for(let C=ui;C<g.length;C++){const x=g[C],k=x[rt].firstChild;null!==k&&jh(x[rt],x,k,h)}g[Yi]!==g[Cn]&&h.push(g[Yi])}const w=u.type;if(8&w)jh(a,l,u.child,h);else if(32&w){const C=$0(u,l);let x;for(;x=C();)h.push(x)}else if(16&w){const C=HD(l,u);if(Array.isArray(C))h.push(...C);else{const x=Gf(l[wi]);jh(x[rt],x,C,h,!0)}}u=p?u.projectionNext:u.next}return h}function qh(a,l,u,h=!0){const p=l[kr],g=p.rendererFactory,w=p.afterRenderEventManager;g.begin?.(),w?.begin();try{QT(a,l,a.template,u)}catch(x){throw h&&Hh(l,x),x}finally{g.end?.(),p.effectManager?.flush(),w?.end()}}function QT(a,l,u,h){const p=l[Ut];if(256!=(256&p)){l[kr].effectManager?.flush(),Vu(l);try{Pu(l),function Dl(a){return Vt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&pm(a,l,u,2,h);const w=3==(3&p);if(w){const k=a.preOrderCheckHooks;null!==k&&oi(l,k,null)}else{const k=a.preOrderHooks;null!==k&&Ba(l,k,0,null),Ec(l,0)}if(function G1(a){for(let l=qI(a);null!==l;l=Y0(l)){if(!l[yl])continue;const u=l[Xn];for(let h=0;h<u.length;h++){Il(u[h])}}}(l),gy(l,2),null!==a.contentQueries&&fy(a,l),w){const k=a.contentCheckHooks;null!==k&&oi(l,k)}else{const k=a.contentHooks;null!==k&&Ba(l,k,1),Ec(l,1)}!function dm(a,l){const u=a.hostBindingOpCodes;if(null===u)return;const h=Hl(l,Ss);try{for(let p=0;p<u.length;p++){const g=u[p];if(g<0)os(~g);else{const w=g,C=u[++p],x=u[++p];xf(C,w),h.runInContext(x,2,l[w])}}}finally{null===l[Ss]&&cd(l,Ss),os(-1)}}(a,l);const C=a.components;null!==C&&Z1(l,C,0);const x=a.viewQuery;if(null!==x&&z1(2,x,h),w){const k=a.viewCheckHooks;null!==k&&oi(l,k)}else{const k=a.viewHooks;null!==k&&Ba(l,k,2),Ec(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[Ut]&=-73,Ru(l)}finally{Al()}}}function gy(a,l){for(let u=qI(a);null!==u;u=Y0(u))for(let h=ui;h<u.length;h++)_y(u[h],l)}function UA(a,l,u){_y(Vi(l,a),u)}function _y(a,l){if(!function hi(a){return 128==(128&a[Ut])}(a))return;const u=a[rt];if(80&a[Ut]&&0===l||1024&a[Ut]||2===l)QT(u,a,u.template,a[Ht]);else if(a[Xo]>0){gy(a,1);const p=a[rt].components;null!==p&&Z1(a,p,1)}}function Z1(a,l,u){for(let h=0;h<l.length;h++)UA(a,l[h],u)}class Gh{get rootNodes(){const l=this._lView,u=l[rt];return jh(u,l,u.firstChild,[])}constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ht]}set context(l){this._lView[Ht]=l}get destroyed(){return 256==(256&this._lView[Ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[$n];if(vr(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(L_(l,h),Zu(u,h))}this._attachedToViewContainer=!1}F_(this._lView[rt],this._lView)}onDestroy(l){Tl(this._lView,l)}markForCheck(){uy(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ut]&=-129}reattach(){this._lView[Ut]|=128}detectChanges(){qh(this._lView[rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZI(a,l){Wf(a,l,l[$t],2,null,null)}(this._lView[rt],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=l}}class $1 extends Gh{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;qh(l[rt],l,l[Ht],!1)}checkNoChanges(){}get context(){return null}}class JT extends Lh{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=ln(l);return new ud(u,this.ngModule)}}function XT(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class yy{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){h=bt(h);const p=this.injector.get(l,E1,h);return p!==E1||u===E1?p:this.parentInjector.get(l,u,h)}}class ud extends AT{get inputs(){const l=this.componentDef,u=l.inputTransforms,h=XT(l.inputs);if(null!==u)for(const p of h)u.hasOwnProperty(p.propName)&&(p.transform=u[p.propName]);return h}get outputs(){return XT(this.componentDef.outputs)}constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Kd(a){return a.map(Zn).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}create(l,u,h,p){let g=(p=p||this.ngModule)instanceof eo?p:p?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new yy(l,g):l,C=w.get(C1,null);if(null===C)throw new ce(407,!1);const j={rendererFactory:C,sanitizer:w.get(_A,null),effectManager:w.get(KT,null),afterRenderEventManager:w.get(cy,null)},ne=C.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",ke=h?function EA(a,l,u,h){const g=h.get(cm,!1)||u===ao.ShadowDom,w=a.selectRootElement(l,g);return function xA(a){SA(a)}(w),w}(ne,h,this.componentDef.encapsulation,w):R_(ne,ae,function HA(a){const l=a.toLowerCase();return"svg"===l?ch:"math"===l?"math":null}(ae)),St=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ge=null;null!==ke&&(Ge=iy(ke,w,!0));const jt=qT(0,null,null,1,0,null,null,null,null,null,null),on=hm(null,jt,null,St,null,null,j,ne,w,null,Ge);let zn,En;Vu(on);try{const ya=this.componentDef;let Ld,Fd=null;ya.findHostDirectiveDefs?(Ld=[],Fd=new Map,ya.findHostDirectiveDefs(ya,Ld,Fd),Ld.push(ya)):Ld=[ya];const ol=function Y1(a,l){const u=a[rt],h=Jt;return a[h]=l,Nc(u,h,2,"#host",null)}(on,ke),Xb=function eE(a,l,u,h,p,g,w){const C=p[rt];!function zA(a,l,u,h){for(const p of a)l.mergedAttrs=Mo(l.mergedAttrs,p.hostAttrs);null!==l.mergedAttrs&&(zh(l,l.mergedAttrs,!0),null!==u&&ed(h,u,l))}(h,a,l,w);let x=null;null!==l&&(x=iy(l,p[yr]));const k=g.rendererFactory.createRenderer(l,u);let N=16;u.signals?N=4096:u.onPush&&(N=64);const j=hm(p,hy(u),null,N,p[a.index],a,g,k,null,null,x);return C.firstCreatePass&&B1(C,a,h.length-1),Uh(p,j),p[a.index]=j}(ol,ke,ya,Ld,on,j,ne);En=_c(jt,Jt),ke&&function Zh(a,l,u,h){if(h)Pn(a,u,["ng-version",T1.full]);else{const{attrs:p,classes:g}=function gr(a){const l=[],u=[];let h=1,p=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===p?""!==g&&l.push(g,a[++h]):8===p&&u.push(g);else{if(!Ur(p))break;p=g}h++}return{attrs:l,classes:u}}(l.selectors[0]);p&&Pn(a,u,p),g&&g.length>0&&Ih(a,u,g.join(" "))}}(ne,ya,ke,h),void 0!==u&&function nE(a,l,u){const h=a.projection=[];for(let p=0;p<l.length;p++){const g=u[p];h.push(null!=g?Array.from(g):null)}}(En,this.ngContentSelectors,u),zn=function tE(a,l,u,h,p,g){const w=Bi(),C=p[rt],x=br(w,p);F1(C,p,w,u,null,h);for(let N=0;N<u.length;N++)us(Pl(p,C,w.directiveStart+N,w),p);mm(C,p,w),x&&us(x,p);const k=Pl(p,C,w.directiveStart+w.componentOffset,w);if(a[Ht]=p[Ht]=k,null!==g)for(const N of g)N(k,l);return N1(C,w,a),k}(Xb,ya,Ld,Fd,on,[jA]),j1(jt,on,null)}finally{Al()}return new W1(this.componentType,zn,Fh(En,on),on,En)}}class W1 extends DT{constructor(l,u,h,p,g){super(),this.location=h,this._rootLView=p,this._tNode=g,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new $1(p),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),u))return;const g=this._rootLView;my(g[rt],g,p,l,u),this.previousInputValues.set(l,u),uy(Vi(this._tNode.index,g))}}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function jA(){const a=Bi();Va(qe()[rt],a)}function K1(a){let l=function iE(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let p;if(wr(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ce(903,!1);p=l.\u0275dir}if(p){if(u){h.push(p);const w=a;w.inputs=vy(a.inputs),w.inputTransforms=vy(a.inputTransforms),w.declaredInputs=vy(a.declaredInputs),w.outputs=vy(a.outputs);const C=p.hostBindings;C&&$A(a,C);const x=p.viewQuery,k=p.contentQueries;if(x&&GA(a,x),k&&ZA(a,k),Q(a.inputs,p.inputs),Q(a.declaredInputs,p.declaredInputs),Q(a.outputs,p.outputs),null!==p.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),Q(w.inputTransforms,p.inputTransforms)),wr(p)&&p.data.animation){const N=a.data;N.animation=(N.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let w=0;w<g.length;w++){const C=g[w];C&&C.ngInherit&&C(a),C===K1&&(u=!1)}}l=Object.getPrototypeOf(l)}!function qA(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const p=a[h];p.hostVars=l+=p.hostVars,p.hostAttrs=Mo(p.hostAttrs,u=Mo(u,p.hostAttrs))}}(h)}function vy(a){return a===Bn?{}:a===fn?[]:a}function GA(a,l){const u=a.viewQuery;a.viewQuery=u?(h,p)=>{l(h,p),u(h,p)}:l}function ZA(a,l){const u=a.contentQueries;a.contentQueries=u?(h,p,g)=>{l(h,p,g),u(h,p,g)}:l}function $A(a,l){const u=a.hostBindings;a.hostBindings=u?(h,p)=>{l(h,p),u(h,p)}:l}function J1(a){const l=a.inputConfig,u={};for(const h in l)if(l.hasOwnProperty(h)){const p=l[h];Array.isArray(p)&&p[2]&&(u[h]=p[2])}a.inputTransforms=u}function ym(a){return!!X1(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function X1(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function jl(a,l,u){return a[l]=u}function dd(a,l){return a[l]}function Ls(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function hd(a,l,u,h){const p=Ls(a,l,u);return Ls(a,l+1,h)||p}function vm(a,l,u,h,p){const g=hd(a,l,u,h);return Ls(a,l+2,p)||g}function Go(a,l,u,h,p,g){const w=hd(a,l,u,h);return hd(a,l+2,p,g)||w}function Cy(a,l,u,h){const p=qe();return Ls(p,ss(),l)&&(rn(),Qa(Un(),p,a,l,u,h)),Cy}function wm(a,l,u,h,p,g){const C=hd(a,function Js(){return Vt.lFrame.bindingIndex}(),u,p);return ho(2),C?l+ge(u)+h+ge(p)+g:Yt}function aw(a,l,u,h,p,g,w,C){const x=qe(),k=rn(),N=a+Jt,j=k.firstCreatePass?function Qh(a,l,u,h,p,g,w,C,x){const k=l.consts,N=Nc(l,a,4,w||null,is(k,C));fm(l,u,N,is(k,x)),Va(l,N);const j=N.tView=qT(2,N,h,p,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,k,null);return null!==l.queries&&(l.queries.template(l,N),j.queries=l.queries.embeddedTView(N)),N}(N,k,x,l,u,h,p,g,w):k.data[N];zr(j,!1);const ne=lw(k,x,j,a);ls()&&Zf(k,x,ne,j),us(ne,x),Uh(x,x[N]=gm(ne,x,ne,j)),na(j)&&jT(k,x,j),null!=w&&L1(x,j,C)}let lw=function Jh(a,l,u,h){return Hn(!0),l[$t].createComment("")};function fE(a){return uo(function Tf(){return Vt.lFrame.contextLView}(),Jt+a)}function cw(a,l,u){const h=qe();return Ls(h,ss(),l)&&function ti(a,l,u,h,p,g,w,C){const x=br(l,u);let N,k=l.inputs;!C&&null!=k&&(N=k[h])?(my(a,u,N,h,p),co(l)&&function ca(a,l){const u=Vi(l,a);16&u[Ut]||(u[Ut]|=64)}(u,l.index)):3&l.type&&(h=function Ae(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),p=null!=w?w(p,l.value||"",h):p,g.setProperty(x,h,p))}(rn(),Un(),h,a,l,h[$t],u,!1),cw}function uw(a,l,u,h,p){const w=p?"class":"style";my(a,u,l.inputs[w],w,h)}function Sy(a,l,u,h){const p=qe(),g=rn(),w=Jt+a,C=p[$t],x=g.firstCreatePass?function mM(a,l,u,h,p,g){const w=l.consts,x=Nc(l,a,2,h,is(w,p));return fm(l,u,x,is(w,g)),null!==x.attrs&&zh(x,x.attrs,!1),null!==x.mergedAttrs&&zh(x,x.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,x),x}(w,g,p,l,u,h):g.data[w],k=Ay(g,p,x,C,l,a);p[w]=k;const N=na(x);return zr(x,!0),ed(C,k,x),32!=(32&x.flags)&&ls()&&Zf(g,p,k,x),0===function Fo(){return Vt.lFrame.elementDepthCount}()&&us(k,p),function dh(){Vt.lFrame.elementDepthCount++}(),N&&(jT(g,p,x),N1(g,x,p)),null!==h&&L1(p,x),Sy}function fd(){let a=Bi();Vo()?Sl():(a=a.parent,zr(a,!1));const l=a;(function Cf(a){return Vt.skipHydrationRootTNode===a})(l)&&function Lu(){Vt.skipHydrationRootTNode=null}(),function El(){Vt.lFrame.elementDepthCount--}();const u=rn();return u.firstCreatePass&&(Va(u,a),ta(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function h_(a){return 0!=(8&a.flags)}(l)&&uw(u,l,qe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function xc(a){return 0!=(16&a.flags)}(l)&&uw(u,l,qe(),l.stylesWithoutHost,!1),fd}function Dy(a,l,u,h){return Sy(a,l,u,h),fd(),Dy}let Ay=(a,l,u,h,p,g)=>(Hn(!0),R_(h,p,function Ml(){return Vt.lFrame.currentNamespace}()));function Gl(a,l,u){const h=qe(),p=rn(),g=a+Jt,w=p.firstCreatePass?function mE(a,l,u,h,p){const g=l.consts,w=is(g,h),C=Nc(l,a,8,"ng-container",w);return null!==w&&zh(C,w,!0),fm(l,u,C,is(g,p)),null!==l.queries&&l.queries.elementStart(l,C),C}(g,p,h,l,u):p.data[g];zr(w,!0);const C=km(p,h,w,a);return h[g]=C,ls()&&Zf(p,h,C,w),us(C,h),na(w)&&(jT(p,h,w),N1(p,w,h)),null!=u&&L1(h,w),Gl}function Mm(){let a=Bi();const l=rn();return Vo()?Sl():(a=a.parent,zr(a,!1)),l.firstCreatePass&&(Va(l,a),ta(a)&&l.queries.elementEnd(a)),Mm}function hw(a,l,u){return Gl(a,l,u),Mm(),hw}let km=(a,l,u,h)=>(Hn(!0),Q0(l[$t],""));function gE(){return qe()}function pw(a){return!!a&&"function"==typeof a.then}function _E(a){return!!a&&"function"==typeof a.subscribe}function fw(a,l,u,h){const p=qe(),g=rn(),w=Bi();return function vE(a,l,u,h,p,g,w){const C=na(h),k=a.firstCreatePass&&$T(a),N=l[Ht],j=ZT(l);let ne=!0;if(3&h.type||w){const Ke=br(h,l),ut=w?w(Ke):Ke,St=j.length,Ge=w?on=>w(Mn(on[h.index])):h.index;let jt=null;if(!w&&C&&(jt=function yM(a,l,u,h){const p=a.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const w=p[g];if(w===u&&p[g+1]===h){const C=l[Ys],x=p[g+2];return C.length>x?C[x]:null}"string"==typeof w&&(g+=2)}return null}(a,l,p,h.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=g,jt.__ngLastListenerFn__=g,ne=!1;else{g=My(h,l,N,g,!1);const on=u.listen(ut,p,g);j.push(g,on),k&&k.push(p,Ge,St,St+1)}}else g=My(h,l,N,g,!1);const ae=h.outputs;let ke;if(ne&&null!==ae&&(ke=ae[p])){const Ke=ke.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const zn=l[ke[ut]][ke[ut+1]].subscribe(g),En=j.length;j.push(g,zn),k&&k.push(p,h.index,En,-(En+1))}}}(g,p,p[$t],w,a,l,h),fw}function no(a,l,u,h){try{return Hr(6,l,u),!1!==u(h)}catch(p){return Hh(a,p),!1}finally{Hr(7,l,u)}}function My(a,l,u,h,p){return function g(w){if(w===Function)return h;uy(a.componentOffset>-1?Vi(a.index,l):l);let x=no(l,u,h,w),k=g.__ngNextListenerFn__;for(;k;)x=no(l,u,k,w)&&x,k=k.__ngNextListenerFn__;return p&&!1===x&&w.preventDefault(),x}}function ky(a=1){return function ph(a){return(Vt.lFrame.contextLView=function kf(a,l){for(;a>0;)l=l[Ts],a--;return l}(a,Vt.lFrame.contextLView))[Ht]}(a)}function wE(a,l){let u=null;const h=function Yd(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(!(1&u))return l[u+1]}return null}(a);for(let p=0;p<l.length;p++){const g=l[p];if("*"!==g){if(null===h?af(a,g,!0):cc(h,g))return p}else u=p}return u}function bE(a){const l=qe()[wi][Wi];if(!l.projection){const h=l.projection=Ol(a?a.length:1,null),p=h.slice();let g=l.child;for(;null!==g;){const w=a?wE(g,a):0;null!==w&&(p[w]?p[w].projectionNext=g:h[w]=g,p[w]=g),g=g.next}}}function mw(a,l=0,u){const h=qe(),p=rn(),g=Nc(p,Jt+a,16,null,u||null);null===g.projection&&(g.projection=l),Sl(),(!h[Pr]||Qs())&&32!=(32&g.flags)&&function zD(a,l,u){XI(l[$t],0,l,u,X0(a,u,l),YI(u.parent||l[Wi],u,l))}(p,h,g)}function Vr(a,l){return a<<17|l<<2}function da(a){return a>>17&32767}function vw(a){return 2|a}function md(a){return(131068&a)>>2}function Ry(a,l){return-131069&a|l<<2}function Rm(a){return 1|a}function ha(a,l,u,h,p){const g=a[u+1],w=null===l;let C=h?da(g):md(g),x=!1;for(;0!==C&&(!1===x||w);){const N=a[C+1];Xa(a[C],l)&&(x=!0,a[C+1]=h?Rm(N):vw(N)),C=h?da(N):md(N)}x&&(a[u+1]=h?vw(g):Rm(g))}function Xa(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&E(a,l)>=0}const Hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function SE(a){return a.substring(Hi.key,Hi.keyEnd)}function EM(a){return a.substring(Hi.value,Hi.valueEnd)}function ep(a,l){const u=Hi.textEnd;return u===l?-1:(l=Hi.keyEnd=function xM(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Hi.key=l,u),tp(a,l,u))}function AE(a,l){const u=Hi.textEnd;let h=Hi.key=tp(a,l,u);return u===h?-1:(h=Hi.keyEnd=function SM(a,l,u){let h;for(;l<u&&(45===(h=a.charCodeAt(l))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)l++;return l}(a,h,u),h=ME(a,h,u),h=Hi.value=tp(a,h,u),h=Hi.valueEnd=function kE(a,l,u){let h=-1,p=-1,g=-1,w=l,C=w;for(;w<u;){const x=a.charCodeAt(w++);if(59===x)return C;34===x||39===x?C=w=bw(a,x,w,u):l===w-4&&85===g&&82===p&&76===h&&40===x?C=w=bw(a,41,w,u):x>32&&(C=w),g=p,p=h,h=-33&x}return C}(a,h,u),ME(a,h,u))}function ww(a){Hi.key=0,Hi.keyEnd=0,Hi.value=0,Hi.valueEnd=0,Hi.textEnd=a.length}function tp(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function ME(a,l,u,h){return(l=tp(a,l,u))<u&&l++,l}function bw(a,l,u,h){let p=-1,g=u;for(;g<h;){const w=a.charCodeAt(g++);if(w==l&&92!==p)return g;p=92==w&&92===p?0:w}throw new Error}function Om(a,l,u){return pi(a,l,u,!1),Om}function Iw(a,l){return pi(a,l,null,!0),Iw}function pa(a){po(LE,PE,a,!1)}function PE(a,l){for(let u=function DE(a){return ww(a),AE(a,tp(a,0,Hi.textEnd))}(l);u>=0;u=AE(l,u))LE(a,SE(l),EM(l))}function RE(a){po(FE,el,a,!0)}function el(a,l){for(let u=function Xh(a){return ww(a),ep(a,tp(a,0,Hi.textEnd))}(l);u>=0;u=ep(l,u))y(a,SE(l),!0)}function pi(a,l,u,h){const p=qe(),g=rn(),w=ho(2);g.firstUpdatePass&&gd(g,a,w,h),l!==Yt&&Ls(p,w,l)&&VE(g,g.data[Or()],p,p[$t],a,p[w+1]=function kM(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ue(nd(a)))),a}(l,u),h,w)}function po(a,l,u,h){const p=rn(),g=ho(2);p.firstUpdatePass&&gd(p,null,g,h);const w=qe();if(u!==Yt&&Ls(w,g,u)){const C=p.data[Or()];if(UE(C,h)&&!OE(p,g)){let x=h?C.classesWithoutHost:C.stylesWithoutHost;null!==x&&(u=Ze(x,u||"")),uw(p,C,w,u,h)}else!function _d(a,l,u,h,p,g,w,C){p===Yt&&(p=fn);let x=0,k=0,N=0<p.length?p[0]:null,j=0<g.length?g[0]:null;for(;null!==N||null!==j;){const ne=x<p.length?p[x+1]:void 0,ae=k<g.length?g[k+1]:void 0;let Ke,ke=null;N===j?(x+=2,k+=2,ne!==ae&&(ke=j,Ke=ae)):null===j||null!==N&&N<j?(x+=2,ke=N):(k+=2,ke=j,Ke=ae),null!==ke&&VE(a,l,u,h,ke,Ke,w,C),N=x<p.length?p[x]:null,j=k<g.length?g[k]:null}}(p,C,w,w[$t],w[g+1],w[g+1]=function MM(a,l,u){if(null==u||""===u)return fn;const h=[],p=nd(u);if(Array.isArray(p))for(let g=0;g<p.length;g++)a(h,p[g],!0);else if("object"==typeof p)for(const g in p)p.hasOwnProperty(g)&&a(h,g,p[g]);else"string"==typeof p&&l(h,p);return h}(a,l,u),h,g)}}function OE(a,l){return l>=a.expandoStartIndex}function gd(a,l,u,h){const p=a.data;if(null===p[u+1]){const g=p[Or()],w=OE(a,u);UE(g,h)&&null===l&&!w&&(l=!1),l=function NE(a,l,u,h){const p=function Df(a){const l=Vt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let g=h?l.residualClasses:l.residualStyles;if(null===p)0===(h?l.classBindings:l.styleBindings)&&(u=Nm(u=Tw(null,a,l,u,h),l.attrs,h),g=null);else{const w=l.directiveStylingLast;if(-1===w||a[w]!==p)if(u=Tw(p,a,l,u,h),null===g){let x=function DM(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==md(h))return a[da(h)]}(a,l,h);void 0!==x&&Array.isArray(x)&&(x=Tw(null,a,l,x[1],h),x=Nm(x,l.attrs,h),function AM(a,l,u,h){a[da(u?l.classBindings:l.styleBindings)]=h}(a,l,h,x))}else g=function fa(a,l,u){let h;const p=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<p;g++)h=Nm(h,a[g].hostAttrs,u);return Nm(h,l.attrs,u)}(a,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(p,g,l,h),function IM(a,l,u,h,p,g){let w=g?l.classBindings:l.styleBindings,C=da(w),x=md(w);a[h]=u;let N,k=!1;if(Array.isArray(u)?(N=u[1],(null===N||E(u,N)>0)&&(k=!0)):N=u,p)if(0!==x){const ne=da(a[C+1]);a[h+1]=Vr(ne,C),0!==ne&&(a[ne+1]=Ry(a[ne+1],h)),a[C+1]=function Pm(a,l){return 131071&a|l<<17}(a[C+1],h)}else a[h+1]=Vr(C,0),0!==C&&(a[C+1]=Ry(a[C+1],h)),C=h;else a[h+1]=Vr(x,0),0===C?C=h:a[x+1]=Ry(a[x+1],h),x=h;k&&(a[h+1]=vw(a[h+1])),ha(a,N,h,!0),ha(a,N,h,!1),function TM(a,l,u,h,p){const g=p?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&E(g,l)>=0&&(u[h+1]=Rm(u[h+1]))}(l,N,a,h,g),w=Vr(C,x),g?l.classBindings=w:l.styleBindings=w}(p,g,l,u,w,h)}}function Tw(a,l,u,h,p){let g=null;const w=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<w&&(g=l[C],h=Nm(h,g.hostAttrs,p),g!==a);)C++;return null!==a&&(u.directiveStylingLast=C),h}function Nm(a,l,u){const h=u?1:2;let p=-1;if(null!==l)for(let g=0;g<l.length;g++){const w=l[g];"number"==typeof w?p=w:p===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),y(a,w,!!u||l[++g]))}return void 0===a?null:a}function LE(a,l,u){y(a,l,nd(u))}function FE(a,l,u){const h=String(l);""!==h&&!h.includes(" ")&&y(a,h,u)}function VE(a,l,u,h,p,g,w,C){if(!(3&l.type))return;const x=a.data,k=x[C+1],N=function wM(a){return 1==(1&a)}(k)?BE(x,l,u,p,md(k),w):void 0;Lm(N)||(Lm(g)||function vM(a){return 2==(2&a)}(k)&&(g=BE(x,null,u,p,C,w)),function eT(a,l,u,h,p){if(l)p?a.addClass(u,h):a.removeClass(u,h);else{let g=-1===h.indexOf("-")?void 0:A_.DashCase;null==p?a.removeStyle(u,h,g):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),g|=A_.Important),a.setStyle(u,h,p,g))}}(h,w,Fi(Or(),u),p,g))}function BE(a,l,u,h,p,g){const w=null===l;let C;for(;p>0;){const x=a[p],k=Array.isArray(x),N=k?x[1]:x,j=null===N;let ne=u[p+1];ne===Yt&&(ne=j?fn:void 0);let ae=j?v(ne,h):N===h?ne:void 0;if(k&&!Lm(ae)&&(ae=v(x,h)),Lm(ae)&&(C=ae,w))return C;const ke=a[p+1];p=w?da(ke):md(ke)}if(null!==l){let x=g?l.residualClasses:l.residualStyles;null!=x&&(C=v(x,h))}return C}function Lm(a){return void 0!==a}function UE(a,l){return 0!=(a.flags&(l?8:16))}function HE(a,l=""){const u=qe(),h=rn(),p=a+Jt,g=h.firstCreatePass?Nc(h,p,1,l,null):h.data[p],w=Ew(h,u,g,l,a);u[p]=w,ls()&&Zf(h,u,w,g),zr(g,!1)}let Ew=(a,l,u,h,p)=>(Hn(!0),function Rs(a,l){return a.createText(l)}(l[$t],h));function Sw(a){return Oy("",a,""),Sw}function Oy(a,l,u){const h=qe(),p=function Ja(a,l,u,h){return Ls(a,ss(),u)?l+ge(u)+h:Yt}(h,a,l,u);return p!==Yt&&qo(h,Or(),p),Oy}function Dw(a,l,u,h,p){const g=qe(),w=wm(g,a,l,u,h,p);return w!==Yt&&qo(g,Or(),w),Dw}const yd=void 0;var qM=["en",[["a","p"],["AM","PM"],yd],[["AM","PM"],yd,yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yd,"{1} 'at' {0}",yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jM(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let np={};function Vw(a){const l=function ZM(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=XE(l);if(u)return u;const h=l.split("-")[0];if(u=XE(h),u)return u;if("en"===h)return qM;throw new ce(701,!1)}function Vm(a){return Vw(a)[ip.PluralCase]}function XE(a){return a in np||(np[a]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[a]),np[a]}var ip=function(a){return a[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData",a}(ip||{});const rp="en-US";let Ly=rp;function sb(a,l,u,h,p){if(a=Fe(a),Array.isArray(a))for(let g=0;g<a.length;g++)sb(a[g],l,u,h,p);else{const g=rn(),w=qe(),C=Bi();let x=Rh(a)?a:Fe(a.provide);const k=Xf(a),N=1048575&C.providerIndexes,j=C.directiveStart,ne=C.providerIndexes>>20;if(Rh(a)||!a.multi){const ae=new oa(k,p,Ya),ke=ob(x,l,p?N:N+ne,j);-1===ke?(Ha(Bt(C,w),g,x),qy(g,a,l.length),l.push(x),C.directiveStart++,C.directiveEnd++,p&&(C.providerIndexes+=1048576),u.push(ae),w.push(ae)):(u[ke]=ae,w[ke]=ae)}else{const ae=ob(x,l,N+ne,j),ke=ob(x,l,N,N+ne),ut=ke>=0&&u[ke];if(p&&!ut||!p&&!(ae>=0&&u[ae])){Ha(Bt(C,w),g,x);const St=function Zy(a,l,u,h,p){const g=new oa(a,u,Ya);return g.multi=[],g.index=l,g.componentProviders=0,Gy(g,p,h&&!u),g}(p?I2:ab,u.length,p,h,k);!p&&ut&&(u[ke].providerFactory=St),qy(g,a,l.length,0),l.push(x),C.directiveStart++,C.directiveEnd++,p&&(C.providerIndexes+=1048576),u.push(St),w.push(St)}else qy(g,a,ae>-1?ae:ke,Gy(u[p?ke:ae],k,!p&&h));!p&&h&&ut&&u[ke].componentProviders++}}}function qy(a,l,u,h){const p=Rh(l),g=function wO(a){return!!a.useClass}(l);if(p||g){const x=(g?Fe(l.useClass):l).prototype.ngOnDestroy;if(x){const k=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const N=k.indexOf(u);-1===N?k.push(u,[h,x]):k[N+1].push(h,x)}else k.push(u,x)}}}function Gy(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function ob(a,l,u,h){for(let p=u;p<h;p++)if(l[p]===a)return p;return-1}function ab(a,l,u,h){return lb(this.multi,[])}function I2(a,l,u,h){const p=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,C=Pl(u,u[rt],this.providerFactory.index,h);g=C.slice(0,w),lb(p,g);for(let x=w;x<C.length;x++)g.push(C[x])}else g=[],lb(p,g);return g}function lb(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function $y(a,l=[]){return u=>{u.providersResolver=(h,p)=>function sk(a,l,u){const h=rn();if(h.firstCreatePass){const p=wr(a);sb(u,h.data,h.blueprint,p,!0),sb(l,h.data,h.blueprint,p,!1)}}(h,p?p(a):a,l)}}class Wl{}class cb{}function ok(a,l){return new Yy(a,l??null,[])}class Yy extends Wl{constructor(l,u,h){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new JT(this);const p=Di(l);this._bootstrapComponents=Wa(p.bootstrap),this._r3Injector=om(l,u,[{provide:Wl,useValue:this},{provide:Lh,useValue:this.componentFactoryResolver},...h],ue(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Ky extends cb{constructor(l){super(),this.moduleType=l}create(l){return new Yy(this.moduleType,l,[])}}class Wm extends Wl{constructor(l){super(),this.componentFactoryResolver=new JT(this),this.instance=null;const u=new od([...l.providers,{provide:Wl,useValue:this},{provide:Lh,useValue:this.componentFactoryResolver}],l.parent||sd(),l.debugName,new Set(["environment"]));this.injector=u,l.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function E2(a,l,u=null){return new Wm({providers:a,parent:l,debugName:u,runEnvironmentInitializers:!0}).injector}let ak=(()=>{var a;class l{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h)){const p=K_(0,h.type),g=p.length>0?E2([p],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h,g)}return this.cachedInjectors.get(h)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return(a=l).\u0275prov=Xe({token:a,providedIn:"environment",factory:()=>new a(lt(eo))}),l})();function vd(a){a.getStandaloneInjector=l=>l.get(ak).getOrCreateStandaloneInjector(a)}function Jy(a,l,u){const h=Rr()+a,p=qe();return p[h]===Yt?jl(p,h,u?l.call(u):l()):dd(p,h)}function Xy(a,l,u,h){return function mb(a,l,u,h,p,g){const w=l+u;return Ls(a,w,p)?jl(a,w+1,g?h.call(g,p):h(p)):lp(a,w+1)}(qe(),Rr(),a,l,u,h)}function ev(a,l,u,h,p){return function gb(a,l,u,h,p,g,w){const C=l+u;return hd(a,C,p,g)?jl(a,C+2,w?h.call(w,p,g):h(p,g)):lp(a,C+2)}(qe(),Rr(),a,l,u,h,p)}function Xm(a,l,u,h,p,g){return P2(qe(),Rr(),a,l,u,h,p,g)}function ap(a,l,u,h,p,g,w){return function cp(a,l,u,h,p,g,w,C,x){const k=l+u;return Go(a,k,p,g,w,C)?jl(a,k+4,x?h.call(x,p,g,w,C):h(p,g,w,C)):lp(a,k+4)}(qe(),Rr(),a,l,u,h,p,g,w)}function fb(a,l,u,h,p,g,w,C){const x=Rr()+a,k=qe(),N=Go(k,x,u,h,p,g);return Ls(k,x+4,w)||N?jl(k,x+5,C?l.call(C,u,h,p,g,w):l(u,h,p,g,w)):dd(k,x+5)}function k2(a,l,u,h,p,g,w,C,x){const k=Rr()+a,N=qe(),j=Go(N,k,u,h,p,g);return hd(N,k+4,w,C)||j?jl(N,k+6,x?l.call(x,u,h,p,g,w,C):l(u,h,p,g,w,C)):dd(N,k+6)}function tv(a,l,u,h,p,g,w,C,x,k){const N=Rr()+a,j=qe();let ne=Go(j,N,u,h,p,g);return vm(j,N+4,w,C,x)||ne?jl(j,N+7,k?l.call(k,u,h,p,g,w,C,x):l(u,h,p,g,w,C,x)):dd(j,N+7)}function iv(a,l,u,h){return function _b(a,l,u,h,p,g){let w=l+u,C=!1;for(let x=0;x<p.length;x++)Ls(a,w++,p[x])&&(C=!0);return C?jl(a,w,h.apply(g,p)):lp(a,w)}(qe(),Rr(),a,l,u,h)}function lp(a,l){const u=a[l];return u===Yt?void 0:u}function P2(a,l,u,h,p,g,w,C){const x=l+u;return vm(a,x,p,g,w)?jl(a,x+3,C?h.call(C,p,g,w):h(p,g,w)):lp(a,x+3)}function eg(a,l){const u=rn();let h;const p=a+Jt;u.firstCreatePass?(h=function tg(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks??=[]).push(p,h.onDestroy)):h=u.data[p];const g=h.factory||(h.factory=Ds(h.type)),C=Jn(Ya);try{const x=se(!1),k=g();return se(x),function fM(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,qe(),p,k),k}finally{Jn(C)}}function yb(a,l,u,h,p){const g=a+Jt,w=qe(),C=uo(w,g);return function ma(a,l){return a[rt].data[l].pure}(w,g)?P2(w,Rr(),l,C.transform,u,h,p,C):C.transform(u,h,p)}function dp(a){return l=>{setTimeout(a,void 0,l)}}const fo=class Yl extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let p=l,g=u||(()=>null),w=h;if(l&&"object"==typeof l){const x=l;p=x.next?.bind(x),g=x.error?.bind(x),w=x.complete?.bind(x)}this.__isAsync&&(g=dp(g),p&&(p=dp(p)),w&&(w=dp(w)));const C=super.subscribe({next:p,error:g,complete:w});return l instanceof G.w0&&l.add(C),C}};function N2(){return this._results[Symbol.iterator]()}class ai{get changes(){return this._changes||(this._changes=new fo)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ai.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=N2)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const p=function Gr(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function _h(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let p=a[h],g=l[h];if(u&&(p=u(p),g=u(g)),g!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ng(a,l,u,h=!0){const p=l[rt];if(function LD(a,l,u,h){const p=ui+h,g=u.length;h>0&&(u[p-1][Mr]=l),h<g-ui?(l[Mr]=u[p],Gu(u,ui+h,l)):(u.push(l),l[Mr]=null),l[$n]=u;const w=l[Ro];null!==w&&u!==w&&function FD(a,l){const u=a[Xn];l[wi]!==l[$n][$n][wi]&&(a[yl]=!0),null===u?a[Xn]=[l]:u.push(l)}(w,l);const C=l[Es];null!==C&&C.insertView(a),l[Ut]|=128}(p,l,a,u),h){const g=JI(u,a),w=l[$t],C=V_(w,a[Yi]);null!==C&&function ND(a,l,u,h,p,g){h[Cn]=p,h[Wi]=l,Wf(a,h,u,1,p,g)}(p,a[Wi],w,l,C,g)}}let hp=(()=>{class l{}return l.__NG_ELEMENT_ID__=fk,l})();const hk=hp,pk=class extends hk{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,u){return this.createEmbeddedViewImpl(l,u)}createEmbeddedViewImpl(l,u,h){const p=function rv(a,l,u,h){const p=l.tView,C=hm(a,p,u,4096&a[Ut]?4096:16,null,l,null,null,null,h?.injector??null,h?.hydrationInfo??null);C[Ro]=a[l.index];const k=a[Es];return null!==k&&(C[Es]=k.createEmbeddedView(p)),j1(p,C,u),C}(this._declarationLView,this._declarationTContainer,l,{injector:u,hydrationInfo:h});return new Gh(p)}};function fk(){return ov(Bi(),qe())}function ov(a,l){return 4&a.type?new pk(l,a,Fh(a,l)):null}let rg=(()=>{class l{}return l.__NG_ELEMENT_ID__=U2,l})();function U2(){return cv(Bi(),qe())}const wb=rg,av=class extends wb{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Fh(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){const l=Uo(this._hostTNode,this._hostLView);if(Sc(l)){const u=O(l,this._hostLView),h=D(l);return new qr(u[rt].data[h+8],u)}return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=bb(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-ui}createEmbeddedView(l,u,h){let p,g;"number"==typeof h?p=h:null!=h&&(p=h.index,g=h.injector);const C=l.createEmbeddedViewImpl(u||{},g,null);return this.insertImpl(C,p,false),C}createComponent(l,u,h,p,g){const w=l&&!function Ac(a){return"function"==typeof a}(l);let C;if(w)C=u;else{const Ke=u||{};C=Ke.index,h=Ke.injector,p=Ke.projectableNodes,g=Ke.environmentInjector||Ke.ngModuleRef}const x=w?l:new ud(ln(l)),k=h||this.parentInjector;if(!g&&null==x.ngModule){const ut=(w?k:this.parentInjector).get(eo,null);ut&&(g=ut)}ln(x.componentType??{});const ae=x.create(k,p,null,g);return this.insertImpl(ae.hostView,C,false),ae}insert(l,u){return this.insertImpl(l,u,!1)}insertImpl(l,u,h){const p=l._lView;if(function bf(a){return vr(a[$n])}(p)){const x=this.indexOf(l);if(-1!==x)this.detach(x);else{const k=p[$n],N=new av(k,k[Wi],k[$n]);N.detach(N.indexOf(l))}}const w=this._adjustIndex(u),C=this._lContainer;return ng(C,p,w,!h),l.attachToViewContainerRef(),Gu(lv(C),w,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=bb(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=L_(this._lContainer,u);h&&(Zu(lv(this._lContainer),u),F_(h[rt],h))}detach(l){const u=this._adjustIndex(l,-1),h=L_(this._lContainer,u);return h&&null!=Zu(lv(this._lContainer),u)?new Gh(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function bb(a){return a[8]}function lv(a){return a[8]||(a[8]=[])}function cv(a,l){let u;const h=l[a.index];return vr(h)?u=h:(u=gm(h,l,null,a),l[a.index]=u,Uh(l,u)),H2(u,l,a,h),new av(u,a,l)}let H2=function z2(a,l,u,h){if(a[Yi])return;let p;p=8&u.type?Mn(h):function gk(a,l){const u=a[$t],h=u.createComment(""),p=br(l,a);return Za(u,V_(u,p),h,function UD(a,l){return a.nextSibling(l)}(u,p),!1),h}(l,u),a[Yi]=p};class mp{constructor(l){this.queryList=l,this.matches=null}clone(){return new mp(this.queryList)}setDirty(){this.queryList.setDirty()}}class og{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let g=0;g<h;g++){const w=u.getByIndex(g);p.push(this.queries[w.indexInDeclarationView].clone())}return new og(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==dv(l,u).matches&&this.queries[u].setDirty()}}class Cb{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class wd{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,p);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new wd(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class bd{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new bd(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const g=h[p];this.matchTNodeWithReadOption(l,u,_k(u,g)),this.matchTNodeWithReadOption(l,u,Dc(u,l,g,!1,!1))}else h===hp?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Dc(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===ld||p===rg||p===hp&&4&u.type)this.addMatch(u.index,-2);else{const g=Dc(u,l,p,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function _k(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function j2(a,l,u,h){return-1===u?function zi(a,l){return 11&a.type?Fh(a,l):4&a.type?ov(a,l):null}(l,a):-2===u?function yk(a,l,u){return u===ld?Fh(l,a):u===hp?ov(l,a):u===rg?cv(l,a):void 0}(a,l,h):Pl(a,a[rt],u,l)}function q2(a,l,u,h){const p=l[Es].queries[h];if(null===p.matches){const g=a.data,w=u.matches,C=[];for(let x=0;x<w.length;x+=2){const k=w[x];C.push(k<0?null:j2(l,g[k],w[x+1],u.metadata.read))}p.matches=C}return p.matches}function Ib(a,l,u,h){const p=a.queries.getByIndex(u),g=p.matches;if(null!==g){const w=q2(a,l,p,u);for(let C=0;C<g.length;C+=2){const x=g[C];if(x>0)h.push(w[C/2]);else{const k=g[C+1],N=l[-x];for(let j=ui;j<N.length;j++){const ne=N[j];ne[Ro]===ne[$n]&&Ib(ne[rt],ne,k,h)}if(null!==N[Xn]){const j=N[Xn];for(let ne=0;ne<j.length;ne++){const ae=j[ne];Ib(ae[rt],ae,k,h)}}}}}return h}function Tb(a){const l=qe(),u=rn(),h=Af();Cc(h+1);const p=dv(u,h);if(a.dirty&&function wf(a){return 4==(4&a[Ut])}(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const g=p.crossesNgTemplate?Ib(u,l,h,[]):q2(u,l,p,h);a.reset(g,mA),a.notifyOnChanges()}return!0}return!1}function Eb(a,l,u){const h=rn();h.firstCreatePass&&(Sb(h,new Cb(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),il(h,qe(),l)}function xb(a,l,u,h){const p=rn();if(p.firstCreatePass){const g=Bi();Sb(p,new Cb(l,u,h),g.index),function Z2(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}il(p,qe(),u)}function ag(){return function G2(a,l){return a[Es].queries[l].queryList}(qe(),Af())}function il(a,l,u){const h=new ai(4==(4&u));(function RO(a,l,u,h){const p=ZT(l);p.push(u),a.firstCreatePass&&$T(a).push(h,p.length-1)})(a,l,h,h.destroy),null===l[Es]&&(l[Es]=new og),l[Es].queries.push(new mp(h))}function Sb(a,l,u){null===a.queries&&(a.queries=new wd),a.queries.track(new bd(l,u))}function dv(a,l){return a.queries.getByIndex(l)}function gp(a,l){return ov(a,l)}function Cd(a){return!!Di(a)}const Sd=new On("Application Initializer");let vv=(()=>{var a;class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p}),this.appInits=vt(Sd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const h=[];for(const g of this.appInits){const w=g();if(pw(w))h.push(w);else if(_E(w)){const C=new Promise((x,k)=>{w.subscribe({complete:x,error:k})});h.push(C)}}const p=()=>{this.done=!0,this.resolve()};Promise.all(h).then(()=>{p()}).catch(g=>{this.reject(g)}),0===h.length&&p(),this.initialized=!0}}return(a=l).\u0275fac=function(h){return new(h||a)},a.\u0275prov=Xe({token:a,factory:a.\u0275fac,providedIn:"root"}),l})(),fi=(()=>{var a;class l{log(h){console.log(h)}warn(h){console.warn(h)}}return(a=l).\u0275fac=function(h){return new(h||a)},a.\u0275prov=Xe({token:a,factory:a.\u0275fac,providedIn:"platform"}),l})();const Zc=new On("LocaleId",{providedIn:"root",factory:()=>vt(Zc,Rt.Optional|Rt.SkipSelf)||function Mt(){return typeof $localize<"u"&&$localize.locale||rp}()}),Tn=new On("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let lg=(()=>{var a;class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new L.X(!1)}add(){this.hasPendingTasks.next(!0);const h=this.taskId++;return this.pendingTasks.add(h),h}remove(h){this.pendingTasks.delete(h),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(a=l).\u0275fac=function(h){return new(h||a)},a.\u0275prov=Xe({token:a,factory:a.\u0275fac,providedIn:"root"}),l})();class Rb{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let Dd=(()=>{var a;class l{compileModuleSync(h){return new Ky(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const p=this.compileModuleSync(h),w=Wa(Di(h).declarations).reduce((C,x)=>{const k=ln(x);return k&&C.push(new ud(k)),C},[]);return new Rb(p,w)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return(a=l).\u0275fac=function(h){return new(h||a)},a.\u0275prov=Xe({token:a,factory:a.\u0275fac,providedIn:"root"}),l})();function Fb(...a){}class Kr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fo(!1),this.onMicrotaskEmpty=new fo(!1),this.onStable=new fo(!1),this.onError=new fo(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function hg(){const a="function"==typeof Lt.requestAnimationFrame;let l=Lt[a?"requestAnimationFrame":"setTimeout"],u=Lt[a?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&l&&u){const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h);const p=u[Zone.__symbol__("OriginalDelegate")];p&&(u=p)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function Yc(a){const l=()=>{!function Ok(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Lt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Ii(a),a.isCheckStableRunning=!0,tr(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Ii(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,g,w,C)=>{try{return Kc(a),u.invokeTask(p,g,w,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),Iv(a)}},onInvoke:(u,h,p,g,w,C,x)=>{try{return Kc(a),u.invoke(p,g,w,C,x)}finally{a.shouldCoalesceRunChangeDetection&&l(),Iv(a)}},onHasTask:(u,h,p,g)=>{u.hasTask(p,g),h===p&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,Ii(a),tr(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,p,g)=>(u.handleError(p,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Kr.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(Kr.isInAngularZone())throw new ce(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,p){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+p,l,Rk,Fb,Fb);try{return g.runTask(w,u,h)}finally{g.cancelTask(w)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const Rk={};function tr(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Ii(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Kc(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Iv(a){a._nesting--,tr(a)}class ux{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fo,this.onMicrotaskEmpty=new fo,this.onStable=new fo,this.onError=new fo}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,p){return l.apply(u,h)}}const vp=new On("",{providedIn:"root",factory:Xl});function Xl(){const a=vt(Kr);let l=!0;const u=new re.y(p=>{l=a.isStable&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks,a.runOutsideAngular(()=>{p.next(l),p.complete()})}),h=new re.y(p=>{let g;a.runOutsideAngular(()=>{g=a.onStable.subscribe(()=>{Kr.assertNotInAngularZone(),queueMicrotask(()=>{!l&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks&&(l=!0,p.next(!0))})})});const w=a.onUnstable.subscribe(()=>{Kr.assertInAngularZone(),l&&(l=!1,a.runOutsideAngular(()=>{p.next(!1)}))});return()=>{g.unsubscribe(),w.unsubscribe()}});return(0,he.T)(u,h.pipe((0,Se.B)()))}const pg=new On(""),Qc=new On("");let Tv,rl=(()=>{var a;class l{constructor(h,p,g){this._ngZone=h,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tv||(function Jc(a){Tv=a}(g),g.addToWindow(p)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Kr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(h)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,p,g){let w=-1;p&&p>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==w),h(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:h,timeoutId:w,updateCb:g})}whenStable(h,p,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,p,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,p,g){return[]}}return(a=l).\u0275fac=function(h){return new(h||a)(lt(Kr),lt(wp),lt(Qc))},a.\u0275prov=Xe({token:a,factory:a.\u0275fac}),l})(),wp=(()=>{var a;class l{constructor(){this._applications=new Map}registerApplication(h,p){this._applications.set(h,p)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,p=!0){return Tv?.findTestabilityInTree(this,h,p)??null}}return(a=l).\u0275fac=function(h){return new(h||a)},a.\u0275prov=Xe({token:a,factory:a.\u0275fac,providedIn:"platform"}),l})(),_o=null;const Ev=new On("AllowMultipleToken"),ec=new On("PlatformDestroyListeners"),fg=new On("appBootstrapListener");class gg{constructor(l,u){this.name=l,this.token=u}}function Bb(a,l,u=[]){const h=`Platform: ${l}`,p=new On(h);return(g=[])=>{let w=Sv();if(!w||w.injector.get(Ev,!1)){const C=[...u,...g,{provide:p,useValue:!0}];a?a(C):function dx(a){if(_o&&!_o.get(Ev,!1))throw new ce(400,!1);(function Vb(){!function l_(a){fc=a}(()=>{throw new ce(600,!1)})})(),_o=a;const l=a.get(mn);(function hx(a){a.get(yT,null)?.forEach(u=>u())})(a)}(function Ub(a=[],l){return jo.create({name:l,providers:[{provide:J_,useValue:"platform"},{provide:ec,useValue:new Set([()=>_o=null])},...a]})}(C,h))}return function Xc(a){const l=Sv();if(!l)throw new ce(401,!1);return l}()}}function Sv(){return _o?.get(mn)??null}let mn=(()=>{var a;class l{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,p){const g=function bp(a="zone.js",l){return"noop"===a?new ux:"zone.js"===a?new Kr(l):a}(p?.ngZone,function Nn(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}({eventCoalescing:p?.ngZoneEventCoalescing,runCoalescing:p?.ngZoneRunCoalescing}));return g.run(()=>{const w=function T2(a,l,u){return new Yy(a,l,u)}(h.moduleType,this.injector,function fx(a){return[{provide:Kr,useFactory:a},{provide:Y_,multi:!0,useFactory:()=>{const l=vt(Bk,{optional:!0});return()=>l.initialize()}},{provide:zb,useFactory:px},{provide:vp,useFactory:Xl}]}(()=>g)),C=w.injector.get(lm,null);return g.runOutsideAngular(()=>{const x=g.onError.subscribe({next:k=>{C.handleError(k)}});w.onDestroy(()=>{Cp(this._modules,w),x.unsubscribe()})}),function Dv(a,l,u){try{const h=u();return pw(h)?h.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(C,g,()=>{const x=w.injector.get(vv);return x.runInitializers(),x.donePromise.then(()=>(function e2(a){de(a,"Expected localeId to be defined"),"string"==typeof a&&(Ly=a.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Zc,rp)||rp),this._moduleDoBootstrap(w),w))})})}bootstrapModule(h,p=[]){const g=Av({},p);return function mg(a,l,u){const h=new Ky(u);return Promise.resolve(h)}(0,0,h).then(w=>this.bootstrapModuleFactory(w,g))}_moduleDoBootstrap(h){const p=h.injector.get(Md);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(g=>p.bootstrap(g));else{if(!h.instance.ngDoBootstrap)throw new ce(-403,!1);h.instance.ngDoBootstrap(p)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const h=this._injector.get(ec,null);h&&(h.forEach(p=>p()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(a=l).\u0275fac=function(h){return new(h||a)(lt(jo))},a.\u0275prov=Xe({token:a,factory:a.\u0275fac,providedIn:"platform"}),l})();function Av(a,l){return Array.isArray(l)?l.reduce(Av,a):{...a,...l}}let Md=(()=>{var a;class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=vt(zb),this.zoneIsStable=vt(vp),this.componentTypes=[],this.components=[],this.isStable=vt(lg).hasPendingTasks.pipe((0,Me.w)(h=>h?(0,ye.of)(!1):this.zoneIsStable),(0,Ie.x)(),(0,Se.B)()),this._injector=vt(eo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,p){const g=h instanceof AT;if(!this._injector.get(vv).done)throw!g&&Po(h),new ce(405,!1);let C;C=g?h:this._injector.get(Lh).resolveComponentFactory(h),this.componentTypes.push(C.componentType);const x=function xv(a){return a.isBoundToModule}(C)?void 0:this._injector.get(Wl),N=C.create(jo.NULL,[],p||C.selector,x),j=N.location.nativeElement,ne=N.injector.get(pg,null);return ne?.registerApplication(j),N.onDestroy(()=>{this.detachView(N.hostView),Cp(this.components,N),ne?.unregisterApplication(j)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1}}attachView(h){const p=h;this._views.push(p),p.attachToAppRef(this)}detachView(h){const p=h;Cp(this._views,p),p.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const p=this._injector.get(fg,[]);p.push(...this._bootstrapListeners),p.forEach(g=>g(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>Cp(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new ce(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(a=l).\u0275fac=function(h){return new(h||a)},a.\u0275prov=Xe({token:a,factory:a.\u0275fac,providedIn:"root"}),l})();function Cp(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}const zb=new On("",{providedIn:"root",factory:()=>vt(lm).handleError.bind(void 0)});function px(){const a=vt(Kr),l=vt(lm);return u=>a.runOutsideAngular(()=>l.handleError(u))}let Bk=(()=>{var a;class l{constructor(){this.zone=vt(Kr),this.applicationRef=vt(Md)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(a=l).\u0275fac=function(h){return new(h||a)},a.\u0275prov=Xe({token:a,factory:a.\u0275fac,providedIn:"root"}),l})();function Uk(){return!1}let zk=(()=>{class l{}return l.__NG_ELEMENT_ID__=qi,l})();function qi(a){return function Mv(a,l,u){if(co(a)&&!u){const h=Vi(a.index,l);return new Gh(h,h)}return 47&a.type?new Gh(l[wi],l):null}(Bi(),qe(),16==(16&a))}class bg{constructor(){}supports(l){return ym(l)}create(l){return new Pd(l)}}const jb=(a,l)=>l;class Pd{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||jb}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,p=0,g=null;for(;u||h;){const w=!h||u&&u.currentIndex<xp(h,p,g)?u:h,C=xp(w,p,g),x=w.currentIndex;if(w===h)p--,h=h._nextRemoved;else if(u=u._next,null==w.previousIndex)p++;else{g||(g=[]);const k=C-p,N=x-p;if(k!=N){for(let ne=0;ne<k;ne++){const ae=ne<g.length?g[ne]:g[ne]=0,ke=ae+ne;N<=ke&&ke<k&&(g[ne]=ae+1)}g[w.previousIndex]=N-k}}C!==x&&l(w,C,x)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!ym(l))throw new ce(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,g,w,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)g=l[C],w=this._trackByFn(C,g),null!==u&&Object.is(u.trackById,w)?(h&&(u=this._verifyReinsertion(u,g,w,C)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,w,C),h=!0),u=u._next}else p=0,function VO(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Symbol.iterator]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,C=>{w=this._trackByFn(p,C),null!==u&&Object.is(u.trackById,w)?(h&&(u=this._verifyReinsertion(u,C,w,p)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,w,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,p){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,p)):l=this._addAfter(new Vs(u,h),g,p),l}_verifyReinsertion(l,u,h,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,g=l._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Cg),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cg),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Vs{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qb{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Cg{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new qb,this.map.set(u,h)),h.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xp(a,l,u){const h=a.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+l+p}class Gb{constructor(){}supports(l){return l instanceof Map||X1(l)}create(){return new Zb}}class Zb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||X1(l)))throw new ce(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const g=p._prev,w=p._next;return g&&(g._next=w),w&&(w._prev=g),p._next=null,p._prev=null,p}const h=new $b(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class $b{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wb(){return new Rv([new bg])}let Rv=(()=>{var a;class l{constructor(h){this.factories=h}static create(h,p){if(null!=p){const g=p.factories.slice();h=h.concat(g)}return new l(h)}static extend(h){return{provide:l,useFactory:p=>l.create(h,p||Wb()),deps:[[l,new $u,new Nl]]}}find(h){const p=this.factories.find(g=>g.supports(h));if(null!=p)return p;throw new ce(901,!1)}}return(a=l).\u0275prov=Xe({token:a,providedIn:"root",factory:Wb}),l})();function Yb(){return new Ov([new Gb])}let Ov=(()=>{var a;class l{constructor(h){this.factories=h}static create(h,p){if(p){const g=p.factories.slice();h=h.concat(g)}return new l(h)}static extend(h){return{provide:l,useFactory:p=>l.create(h,p||Yb()),deps:[[l,new $u,new Nl]]}}find(h){const p=this.factories.find(g=>g.supports(h));if(p)return p;throw new ce(901,!1)}}return(a=l).\u0275prov=Xe({token:a,providedIn:"root",factory:Yb}),l})();const vx=Bb(null,"core",[]);let Sp=(()=>{var a;class l{constructor(h){}}return(a=l).\u0275fac=function(h){return new(h||a)(lt(Md))},a.\u0275mod=wu({type:a}),a.\u0275inj=hn({}),l})();function Jb(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function sl(a){const l=ln(a);if(!l)return null;const u=new ud(l);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return l.standalone},get isSignal(){return l.signals}}}},3106:(mt,De,U)=>{"use strict";U.d(De,{Z:()=>nt});var s=U(9058),G=U(4537),L=U(4303),re=U(7879);class he{constructor(V,ze){this._delegate=V,this.firebase=ze,(0,L._addComponent)(V,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=V.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this._delegate.automaticDataCollectionEnabled=V}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(V=>{this._delegate.checkDestroyed(),V()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(V,ze=L._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(V);return!st.isInitialized()&&"EXPLICIT"===(null===(at=st.getComponent())||void 0===at?void 0:at.instantiationMode)&&st.initialize(),st.getImmediate({identifier:ze})}_removeServiceInstance(V,ze=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(V).clearInstance(ze)}_addComponent(V){(0,L._addComponent)(this._delegate,V)}_addOrOverwriteComponent(V){(0,L._addOrOverwriteComponent)(this._delegate,V)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function Ie(){const Fe=function Me(Fe){const V={},ze={__esModule:!0,initializeApp:function ce(oe,pe={}){const Re=L.initializeApp(oe,pe);if((0,s.r3)(V,Re.name))return V[Re.name];const Je=new Fe(Re,ze);return V[Re.name]=Je,Je},app:st,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function ge(oe){const pe=oe.name,Re=pe.replace("-compat","");if(L._registerComponent(oe)&&"PUBLIC"===oe.type){const Je=(_t=st())=>{if("function"!=typeof _t[Re])throw Se.create("invalid-app-argument",{appName:pe});return _t[Re]()};void 0!==oe.serviceProps&&(0,s.ZB)(Je,oe.serviceProps),ze[Re]=Je,Fe.prototype[Re]=function(..._t){return this._getService.bind(this,pe).apply(this,oe.multipleInstances?_t:[])}}return"PUBLIC"===oe.type?ze[Re]:null},removeApp:function at(oe){delete V[oe]},useAsService:function Pe(oe,pe){return"serverAuth"===pe?null:pe},modularAPIs:L}};function st(oe){if(!(0,s.r3)(V,oe=oe||L._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:oe});return V[oe]}return ze.default=ze,Object.defineProperty(ze,"apps",{get:function Ve(){return Object.keys(V).map(oe=>V[oe])}}),st.App=Fe,ze}(he);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function V(ze){(0,s.ZB)(Fe,ze)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Fe}(),Q=new re.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=Z;!function Le(Fe){(0,L.registerVersion)("@firebase/app-compat","0.2.1",Fe)}()},4303:(mt,De,U)=>{"use strict";U.r(De),U.d(De,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>hn,_DEFAULT_ENTRY_NAME:()=>ve,_addComponent:()=>S,_addOrOverwriteComponent:()=>X,_apps:()=>xe,_clearComponents:()=>je,_components:()=>Ee,_getProvider:()=>fe,_registerComponent:()=>de,_removeServiceInstance:()=>At,deleteApp:()=>Zi,getApp:()=>Kt,getApps:()=>li,initializeApp:()=>Fn,onLog:()=>ri,registerVersion:()=>Ni,setLogLevel:()=>yi});var s=U(5861),G=U(4537),L=U(7879),re=U(9058),he=U(1878);class ye{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(dt=>{if(function Se(ft){const Be=ft.getComponent();return"VERSION"===Be?.type}(dt)){const xt=dt.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(dt=>dt).join(" ")}}const Me="@firebase/app",Z=new L.Yd("@firebase/app"),ve="[DEFAULT]",be={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xe=new Map,Ee=new Map;function S(ft,Be){try{ft.container.addComponent(Be)}catch(dt){Z.debug(`Component ${Be.name} failed to register with FirebaseApp ${ft.name}`,dt)}}function X(ft,Be){ft.container.addOrOverwriteComponent(Be)}function de(ft){const Be=ft.name;if(Ee.has(Be))return Z.debug(`There were multiple attempts to register component ${Be}.`),!1;Ee.set(Be,ft);for(const dt of xe.values())S(dt,ft);return!0}function fe(ft,Be){const dt=ft.container.getProvider("heartbeat").getImmediate({optional:!0});return dt&&dt.triggerHeartbeat(),ft.container.getProvider(Be)}function At(ft,Be,dt=ve){fe(ft,Be).clearInstance(dt)}function je(){Ee.clear()}const Xe=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nt{constructor(Be,dt,xt){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},dt),this._name=dt.name,this._automaticDataCollectionEnabled=dt.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw Xe.create("app-deleted",{appName:this._name})}}const hn="9.16.0";function Fn(ft,Be={}){let dt=ft;"object"!=typeof Be&&(Be={name:Be});const xt=Object.assign({name:ve,automaticDataCollectionEnabled:!1},Be),Gt=xt.name;if("string"!=typeof Gt||!Gt)throw Xe.create("bad-app-name",{appName:String(Gt)});if(dt||(dt=(0,re.aH)()),!dt)throw Xe.create("no-options");const pn=xe.get(Gt);if(pn){if((0,re.vZ)(dt,pn.options)&&(0,re.vZ)(xt,pn.config))return pn;throw Xe.create("duplicate-app",{appName:Gt})}const J=new G.H0(Gt);for(const ie of Ee.values())J.addComponent(ie);const Y=new Nt(dt,xt,J);return xe.set(Gt,Y),Y}function Kt(ft=ve){const Be=xe.get(ft);if(!Be&&ft===ve)return Fn();if(!Be)throw Xe.create("no-app",{appName:ft});return Be}function li(){return Array.from(xe.values())}function Zi(ft){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,s.Z)(function*(ft){const Be=ft.name;xe.has(Be)&&(xe.delete(Be),yield Promise.all(ft.container.getProviders().map(dt=>dt.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function Ni(ft,Be,dt){var xt;let Gt=null!==(xt=be[ft])&&void 0!==xt?xt:ft;dt&&(Gt+=`-${dt}`);const pn=Gt.match(/\s|\//),J=Be.match(/\s|\//);if(pn||J){const Y=[`Unable to register library "${Gt}" with version "${Be}":`];return pn&&Y.push(`library name "${Gt}" contains illegal characters (whitespace or "/")`),pn&&J&&Y.push("and"),J&&Y.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void Z.warn(Y.join(" "))}de(new G.wA(`${Gt}-version`,()=>({library:Gt,version:Be}),"VERSION"))}function ri(ft,Be){if(null!==ft&&"function"!=typeof ft)throw Xe.create("invalid-log-argument");(0,L.Am)(ft,Be)}function yi(ft){(0,L.Ub)(ft)}const or="firebase-heartbeat-database",Rt=1,qt="firebase-heartbeat-store";let Zt=null;function Jn(){return Zt||(Zt=(0,he.X3)(or,Rt,{upgrade:(ft,Be)=>{0===Be&&ft.createObjectStore(qt)}}).catch(ft=>{throw Xe.create("idb-open",{originalErrorMessage:ft.message})})),Zt}function ar(){return(ar=(0,s.Z)(function*(ft){try{return(yield Jn()).transaction(qt).objectStore(qt).get(Jr(ft))}catch(Be){if(Be instanceof re.ZR)Z.warn(Be.message);else{const dt=Xe.create("idb-get",{originalErrorMessage:Be?.message});Z.warn(dt.message)}}})).apply(this,arguments)}function Lt(ft,Be){return ci.apply(this,arguments)}function ci(){return(ci=(0,s.Z)(function*(ft,Be){try{const xt=(yield Jn()).transaction(qt,"readwrite");return yield xt.objectStore(qt).put(Be,Jr(ft)),xt.done}catch(dt){if(dt instanceof re.ZR)Z.warn(dt.message);else{const xt=Xe.create("idb-set",{originalErrorMessage:dt?.message});Z.warn(xt.message)}}})).apply(this,arguments)}function Jr(ft){return`${ft.name}!${ft.options.appId}`}class tn{constructor(Be){this.container=Be,this._heartbeatsCache=null;const dt=this.container.getProvider("app").getImmediate();this._storage=new Xr(dt),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Be=this;return(0,s.Z)(function*(){const xt=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gt=Vn();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==Gt&&!Be._heartbeatsCache.heartbeats.some(pn=>pn.date===Gt))return Be._heartbeatsCache.heartbeats.push({date:Gt,agent:xt}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(pn=>{const J=new Date(pn.date).valueOf();return Date.now()-J<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,s.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const dt=Vn(),{heartbeatsToSend:xt,unsentEntries:Gt}=function Ar(ft,Be=1024){const dt=[];let xt=ft.slice();for(const Gt of ft){const pn=dt.find(J=>J.agent===Gt.agent);if(pn){if(pn.dates.push(Gt.date),es(dt)>Be){pn.dates.pop();break}}else if(dt.push({agent:Gt.agent,dates:[Gt.date]}),es(dt)>Be){dt.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:dt,unsentEntries:xt}}(Be._heartbeatsCache.heartbeats),pn=(0,re.L)(JSON.stringify({version:2,heartbeats:xt}));return Be._heartbeatsCache.lastSentHeartbeatDate=dt,Gt.length>0?(Be._heartbeatsCache.heartbeats=Gt,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),pn})()}}function Vn(){return(new Date).toISOString().substring(0,10)}class Xr{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,s.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function Dr(ft){return ar.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var dt=this;return(0,s.Z)(function*(){var xt;if(yield dt._canUseIndexedDBPromise){const pn=yield dt.read();return Lt(dt.app,{lastSentHeartbeatDate:null!==(xt=Be.lastSentHeartbeatDate)&&void 0!==xt?xt:pn.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var dt=this;return(0,s.Z)(function*(){var xt;if(yield dt._canUseIndexedDBPromise){const pn=yield dt.read();return Lt(dt.app,{lastSentHeartbeatDate:null!==(xt=Be.lastSentHeartbeatDate)&&void 0!==xt?xt:pn.lastSentHeartbeatDate,heartbeats:[...pn.heartbeats,...Be.heartbeats]})}})()}}function es(ft){return(0,re.L)(JSON.stringify({version:2,heartbeats:ft})).length}!function lr(ft){de(new G.wA("platform-logger",Be=>new ye(Be),"PRIVATE")),de(new G.wA("heartbeat",Be=>new tn(Be),"PRIVATE")),Ni(Me,"0.9.1",ft),Ni(Me,"0.9.1","esm2017"),Ni("fire-js","")}("")},4537:(mt,De,U)=>{"use strict";U.d(De,{H0:()=>Me,wA:()=>L,zt:()=>he});var s=U(5861),G=U(9058);class L{constructor(Z,Q,ue){this.name=Z,this.instanceFactory=Q,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const re="[DEFAULT]";class he{constructor(Z,Q){this.name=Z,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const Q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(Q)){const ue=new G.BH;if(this.instancesDeferred.set(Q,ue),this.isInitialized(Q)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:Q});Ze&&ue.resolve(Ze)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(Z){var Q;const ue=this.normalizeInstanceIdentifier(Z?.identifier),Ze=null!==(Q=Z?.optional)&&void 0!==Q&&Q;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Le){if(Ze)return null;throw Le}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function Se(Ie){return"EAGER"===Ie.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[Q,ue]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(Q);try{const Le=this.getOrInitializeService({instanceIdentifier:Ze});ue.resolve(Le)}catch{}}}}clearInstance(Z=re){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,s.Z)(function*(){const Q=Array.from(Z.instances.values());yield Promise.all([...Q.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...Q.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=re){return this.instances.has(Z)}getOptions(Z=re){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:Q={}}=Z,ue=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:ue,options:Q});for(const[Le,nt]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(Le)&&nt.resolve(Ze);return Ze}onInit(Z,Q){var ue;const Ze=this.normalizeInstanceIdentifier(Q),Le=null!==(ue=this.onInitCallbacks.get(Ze))&&void 0!==ue?ue:new Set;Le.add(Z),this.onInitCallbacks.set(Ze,Le);const nt=this.instances.get(Ze);return nt&&Z(nt,Ze),()=>{Le.delete(Z)}}invokeOnInitCallbacks(Z,Q){const ue=this.onInitCallbacks.get(Q);if(ue)for(const Ze of ue)try{Ze(Z,Q)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:Q={}}){let ue=this.instances.get(Z);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=Z,Ie===re?void 0:Ie),options:Q}),this.instances.set(Z,ue),this.instancesOptions.set(Z,Q),this.invokeOnInitCallbacks(ue,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,ue)}catch{}var Ie;return ue||null}normalizeInstanceIdentifier(Z=re){return this.component?this.component.multipleInstances?Z:re:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const Q=this.getProvider(Z.name);if(Q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);Q.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const Q=new he(Z,this);return this.providers.set(Z,Q),Q}getProviders(){return Array.from(this.providers.values())}}},7879:(mt,De,U)=>{"use strict";U.d(De,{Am:()=>Ie,Ub:()=>Me,Yd:()=>Se,in:()=>G});const s=[];var G=function(Z){return Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z}(G||{});const L={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},re=G.INFO,he={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},ye=(Z,Q,...ue)=>{if(Q<Z.logLevel)return;const Ze=(new Date).toISOString(),Le=he[Q];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Le](`[${Ze}]  ${Z.name}:`,...ue)};class Se{constructor(Q){this.name=Q,this._logLevel=re,this._logHandler=ye,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in G))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?L[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...Q),this._logHandler(this,G.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...Q),this._logHandler(this,G.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,G.INFO,...Q),this._logHandler(this,G.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,G.WARN,...Q),this._logHandler(this,G.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...Q),this._logHandler(this,G.ERROR,...Q)}}function Me(Z){s.forEach(Q=>{Q.setLogLevel(Z)})}function Ie(Z,Q){for(const ue of s){let Ze=null;Q&&Q.level&&(Ze=L[Q.level]),ue.userLogHandler=null===Z?null:(Le,nt,...Fe)=>{const V=Fe.map(ze=>{if(null==ze)return null;if("string"==typeof ze)return ze;if("number"==typeof ze||"boolean"==typeof ze)return ze.toString();if(ze instanceof Error)return ze.message;try{return JSON.stringify(ze)}catch{return null}}).filter(ze=>ze).join(" ");nt>=(Ze??Le.logLevel)&&Z({level:G[nt].toLowerCase(),message:V,args:Fe,type:Le.name})}}}},3182:(mt,De,U)=>{"use strict";U.d(De,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=U(4303);(0,s.registerVersion)("firebase","9.16.0","app")},7142:(mt,De,U)=>{"use strict";U.d(De,{Z:()=>s.Z});var s=U(3106);s.Z.registerVersion("firebase","9.16.0","app-compat")},6365:(mt,De,U)=>{"use strict";U.r(De);var s=U(5861),G=U(3106),L=U(2004),re=U(9058),Se=(U(4303),U(7879),U(4537));function Me(){return window}function Q(){return Q=(0,s.Z)(function*($,F,q){var me;const{BuildInfo:Ye}=Me();(0,L.ap)(F.sessionId,"AuthEvent did not contain a session ID");const lt=yield function ze($){return at.apply(this,arguments)}(F.sessionId),Ft={};return(0,L.aq)()?Ft.ibi=Ye.packageName:(0,L.ar)()?Ft.apn=Ye.packageName:(0,L.as)($,"operation-not-supported-in-this-environment"),Ye.displayName&&(Ft.appDisplayName=Ye.displayName),Ft.sessionId=lt,(0,L.at)($,q,F.type,void 0,null!==(me=F.eventId)&&void 0!==me?me:void 0,Ft)}),Q.apply(this,arguments)}function Ze(){return(Ze=(0,s.Z)(function*($){const{BuildInfo:F}=Me(),q={};(0,L.aq)()?q.iosBundleId=F.packageName:(0,L.ar)()?q.androidPackageName=F.packageName:(0,L.as)($,"operation-not-supported-in-this-environment"),yield(0,L.au)($,q)})).apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*($,F,q){const{cordova:me}=Me();let Ye=()=>{};try{yield new Promise((lt,Ft)=>{let vt=null;function bt(){var nn;lt();const qs=null===(nn=me.plugins.browsertab)||void 0===nn?void 0:nn.close;"function"==typeof qs&&qs(),"function"==typeof q?.close&&q.close()}function Rn(){vt||(vt=window.setTimeout(()=>{Ft((0,L.aw)($,"redirect-cancelled-by-user"))},2e3))}function vi(){"visible"===document?.visibilityState&&Rn()}F.addPassiveListener(bt),document.addEventListener("resume",Rn,!1),(0,L.ar)()&&document.addEventListener("visibilitychange",vi,!1),Ye=()=>{F.removePassiveListener(bt),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",vi,!1),vt&&window.clearTimeout(vt)}})}finally{Ye()}})).apply(this,arguments)}function at(){return(at=(0,s.Z)(function*($){const F=function st($){if((0,L.ap)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const F=new ArrayBuffer($.length),q=new Uint8Array(F);for(let me=0;me<$.length;me++)q[me]=$.charCodeAt(me);return q}($),q=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(q)).map(Ye=>Ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ve extends L.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(F)),super.onEvent(F)}initialized(){var F=this;return(0,s.Z)(function*(){yield F.initPromise})()}}function oe($){return pe.apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*($){const F=yield _t()._get(wn($));return F&&(yield _t()._remove(wn($))),F})).apply(this,arguments)}function Je(){const $=[];for(let q=0;q<20;q++){const me=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(me))}return $.join("")}function _t(){return(0,L.az)(L.b)}function wn($){return(0,L.aA)("authEvent",$.config.apiKey,$.name)}function bn($){if(!$?.includes("?"))return{};const[F,...q]=$.split("?");return(0,re.zd)(q.join("?"))}const ve=class Cs{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aB,this._overrideRedirectResult=L.aC}_initialize(F){var q=this;return(0,s.Z)(function*(){const me=F._key();let Ye=q.eventManagers.get(me);return Ye||(Ye=new Ve(F),q.eventManagers.set(me,Ye),q.attachCallbackListeners(F,Ye)),Ye})()}_openPopup(F){(0,L.as)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,q,me,Ye){var lt=this;return(0,s.Z)(function*(){!function V($){var F,q,me,Ye,lt,Ft,vt,bt,Rn,vi;const nn=Me();(0,L.ax)("function"==typeof(null===(F=nn?.universalLinks)||void 0===F?void 0:F.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.ax)(typeof(null===(q=nn?.BuildInfo)||void 0===q?void 0:q.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.ax)("function"==typeof(null===(lt=null===(Ye=null===(me=nn?.cordova)||void 0===me?void 0:me.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===lt?void 0:lt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.ax)("function"==typeof(null===(bt=null===(vt=null===(Ft=nn?.cordova)||void 0===Ft?void 0:Ft.plugins)||void 0===vt?void 0:vt.browsertab)||void 0===bt?void 0:bt.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.ax)("function"==typeof(null===(vi=null===(Rn=nn?.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===vi?void 0:vi.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const Ft=yield lt._initialize(F);yield Ft.initialized(),Ft.resetRedirect(),(0,L.aD)(),yield lt._originValidation(F);const vt=function ge($,F,q=null){return{type:F,eventId:q,urlResponse:null,sessionId:Je(),postBody:null,tenantId:$.tenantId,error:(0,L.aw)($,"no-auth-event")}}(F,me,Ye);yield function Pe($,F){return _t()._set(wn($),F)}(F,vt);const bt=yield function Z($,F,q){return Q.apply(this,arguments)}(F,vt,q),Rn=yield function Le($){const{cordova:F}=Me();return new Promise(q=>{F.plugins.browsertab.isAvailable(me=>{let Ye=null;me?F.plugins.browsertab.openUrl($):Ye=F.InAppBrowser.open($,(0,L.av)()?"_blank":"_system","location=yes"),q(Ye)})})}(bt);return function nt($,F,q){return Fe.apply(this,arguments)}(F,Ft,Rn)})()}_isIframeWebStorageSupported(F,q){throw new Error("Method not implemented.")}_originValidation(F){const q=F._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function ue($){return Ze.apply(this,arguments)}(F)),this.originValidationPromises[q]}attachCallbackListeners(F,q){const{universalLinks:me,handleOpenURL:Ye,BuildInfo:lt}=Me(),Ft=setTimeout((0,s.Z)(function*(){yield oe(F),q.onEvent(be())}),500),vt=function(){var vi=(0,s.Z)(function*(nn){clearTimeout(Ft);const qs=yield oe(F);let mu=null;qs&&nn?.url&&(mu=function Re($,F){var q,me;const Ye=function dn($){const F=bn($),q=F.link?decodeURIComponent(F.link):void 0,me=bn(q).link,Ye=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return bn(Ye).link||Ye||me||q||$}(F);if(Ye.includes("/__/auth/callback")){const lt=bn(Ye),Ft=lt.firebaseError?function kn($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(lt.firebaseError)):null,vt=null===(me=null===(q=Ft?.code)||void 0===q?void 0:q.split("auth/"))||void 0===me?void 0:me[1],bt=vt?(0,L.aw)(vt):null;return bt?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:bt,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Ye,postBody:null}}return null}(qs,nn.url)),q.onEvent(mu||be())});return function(qs){return vi.apply(this,arguments)}}();typeof me<"u"&&"function"==typeof me.subscribe&&me.subscribe(null,vt);const bt=Ye,Rn=`${lt.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var vi=(0,s.Z)(function*(nn){if(nn.toLowerCase().startsWith(Rn)&&vt({url:nn}),"function"==typeof bt)try{bt(nn)}catch(qs){console.error(qs)}});return function(nn){return vi.apply(this,arguments)}}()}};function be(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.aw)("no-auth-event")}}function de(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function At($=(0,re.z$)()){return!("file:"!==de()&&"ionic:"!==de()&&"capacitor:"!==de()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function hn(){try{const $=self.localStorage,F=L.aI();if($)return $.setItem(F,"1"),$.removeItem(F),!function Nt($=(0,re.z$)()){return function tt(){return(0,re.w1)()&&11===document?.documentMode}()||function Xe($=(0,re.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,re.hl)()}catch{return Fn()&&(0,re.hl)()}return!1}function Fn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kt(){return(function fe(){return"http:"===de()||"https:"===de()}()||(0,re.ru)()||At())&&!function je(){return(0,re.b$)()||(0,re.UG)()}()&&hn()&&!Fn()}function li(){return At()&&typeof document<"u"}function Oi(){return(Oi=(0,s.Z)(function*(){return!!li()&&new Promise($=>{const F=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),$(!0)})})})).apply(this,arguments)}const ri={LOCAL:"local",NONE:"none",SESSION:"session"},yi=L.ax,or="persistence";function qt($){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,s.Z)(function*($){yield $._initializationPromise;const F=Dr(),q=L.aA(or,$.config.apiKey,$.name);F&&F.setItem(q,$._getPersistence())})).apply(this,arguments)}function Dr(){var $;try{return(null===($=function Ni(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const ar=L.ax;class Lt{constructor(){this.browserResolver=L.az(L.k),this.cordovaResolver=L.az(ve),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aB,this._overrideRedirectResult=L.aC}_initialize(F){var q=this;return(0,s.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,q,me,Ye){var lt=this;return(0,s.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openPopup(F,q,me,Ye)})()}_openRedirect(F,q,me,Ye){var lt=this;return(0,s.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openRedirect(F,q,me,Ye)})()}_isIframeWebStorageSupported(F,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,q)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return li()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ar(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,s.Z)(function*(){if(F.underlyingResolver)return;const q=yield function Zi(){return Oi.apply(this,arguments)}();F.underlyingResolver=q?F.cordovaResolver:F.browserResolver})()}}function ci($){return $.unwrap()}function Dn($){return tn($)}function tn($){const{_tokenResponse:F}=$ instanceof re.ZR?$.customData:$;if(!F)return null;if(!($ instanceof re.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return L.P.credentialFromResult($);const q=F.providerId;if(!q||q===L.o.PASSWORD)return null;let me;switch(q){case L.o.GOOGLE:me=L.Q;break;case L.o.FACEBOOK:me=L.N;break;case L.o.GITHUB:me=L.T;break;case L.o.TWITTER:me=L.W;break;default:const{oauthIdToken:Ye,oauthAccessToken:lt,oauthTokenSecret:Ft,pendingToken:vt,nonce:bt}=F;return lt||Ft||Ye||vt?vt?q.startsWith("saml.")?L.aL._create(q,vt):L.J._fromParams({providerId:q,signInMethod:q,pendingToken:vt,idToken:Ye,accessToken:lt}):new L.U(q).credential({idToken:Ye,accessToken:lt,rawNonce:bt}):null}return $ instanceof re.ZR?me.credentialFromError($):me.credentialFromResult($)}function Vn($,F){return F.catch(q=>{throw q instanceof re.ZR&&function Is($,F){var q;const me=null===(q=F.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new es($,L.an($,F));else if(me){const Ye=tn(F),lt=F;Ye&&(lt.credential=Ye,lt.tenantId=me.tenantId||void 0,lt.email=me.email||void 0,lt.phoneNumber=me.phoneNumber||void 0)}}($,q),q}).then(q=>{const Ye=q.user;return{operationType:q.operationType,credential:Dn(q),additionalUserInfo:L.al(q),user:lr.getOrCreate(Ye)}})}function Ar($,F){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,s.Z)(function*($,F){const q=yield F;return{verificationId:q.verificationId,confirm:me=>Vn($,q.confirm(me))}})).apply(this,arguments)}class es{constructor(F,q){this.resolver=q,this.auth=function Jr($){return $.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Vn(ci(this.auth),this.resolver.resolveSignIn(F))}}class lr{constructor(F){this._delegate=F,this.multiFactor=L.ao(F)}static getOrCreate(F){return lr.USER_MAP.has(F)||lr.USER_MAP.set(F,new lr(F)),lr.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var q=this;return(0,s.Z)(function*(){return Vn(q.auth,L.Z(q._delegate,F))})()}linkWithPhoneNumber(F,q){var me=this;return(0,s.Z)(function*(){return Ar(me.auth,L.l(me._delegate,F,q))})()}linkWithPopup(F){var q=this;return(0,s.Z)(function*(){return Vn(q.auth,L.d(q._delegate,F,Lt))})()}linkWithRedirect(F){var q=this;return(0,s.Z)(function*(){return yield qt(L.aE(q.auth)),L.g(q._delegate,F,Lt)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var q=this;return(0,s.Z)(function*(){return Vn(q.auth,L._(q._delegate,F))})()}reauthenticateWithPhoneNumber(F,q){return Ar(this.auth,L.r(this._delegate,F,q))}reauthenticateWithPopup(F){return Vn(this.auth,L.e(this._delegate,F,Lt))}reauthenticateWithRedirect(F){var q=this;return(0,s.Z)(function*(){return yield qt(L.aE(q.auth)),L.h(q._delegate,F,Lt)})()}sendEmailVerification(F){return L.ab(this._delegate,F)}unlink(F){var q=this;return(0,s.Z)(function*(){return yield L.ak(q._delegate,F),q})()}updateEmail(F){return L.ag(this._delegate,F)}updatePassword(F){return L.ah(this._delegate,F)}updatePhoneNumber(F){return L.u(this._delegate,F)}updateProfile(F){return L.af(this._delegate,F)}verifyBeforeUpdateEmail(F,q){return L.ac(this._delegate,F,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}lr.USER_MAP=new WeakMap;const ft=L.ax;let Be=(()=>{class ${constructor(q,me){if(this.app=q,me.isInitialized())return this._delegate=me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ye}=q.options;ft(Ye,"invalid-api-key",{appName:q.name}),ft(Ye,"invalid-api-key",{appName:q.name});const lt=typeof window<"u"?Lt:void 0;this._delegate=me.initialize({options:{persistence:xt(Ye,q.name),popupRedirectResolver:lt}}),this._delegate._updateErrorMap(L.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?lr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,me){L.G(this._delegate,q,me)}applyActionCode(q){return L.a2(this._delegate,q)}checkActionCode(q){return L.a3(this._delegate,q)}confirmPasswordReset(q,me){return L.a1(this._delegate,q,me)}createUserWithEmailAndPassword(q,me){var Ye=this;return(0,s.Z)(function*(){return Vn(Ye._delegate,L.a5(Ye._delegate,q,me))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return L.aa(this._delegate,q)}isSignInWithEmailLink(q){return L.a8(this._delegate,q)}getRedirectResult(){var q=this;return(0,s.Z)(function*(){ft(Kt(),q._delegate,"operation-not-supported-in-this-environment");const me=yield L.j(q._delegate,Lt);return me?Vn(q._delegate,Promise.resolve(me)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function xe($,F){(0,L.aE)($)._logFramework(F)}(this._delegate,q)}onAuthStateChanged(q,me,Ye){const{next:lt,error:Ft,complete:vt}=dt(q,me,Ye);return this._delegate.onAuthStateChanged(lt,Ft,vt)}onIdTokenChanged(q,me,Ye){const{next:lt,error:Ft,complete:vt}=dt(q,me,Ye);return this._delegate.onIdTokenChanged(lt,Ft,vt)}sendSignInLinkToEmail(q,me){return L.a7(this._delegate,q,me)}sendPasswordResetEmail(q,me){return L.a0(this._delegate,q,me||void 0)}setPersistence(q){var me=this;return(0,s.Z)(function*(){let Ye;switch(function Rt($,F){yi(Object.values(ri).includes(F),$,"invalid-persistence-type"),(0,re.b$)()?yi(F!==ri.SESSION,$,"unsupported-persistence-type"):(0,re.UG)()?yi(F===ri.NONE,$,"unsupported-persistence-type"):Fn()?yi(F===ri.NONE||F===ri.LOCAL&&(0,re.hl)(),$,"unsupported-persistence-type"):yi(F===ri.NONE||hn(),$,"unsupported-persistence-type")}(me._delegate,q),q){case ri.SESSION:Ye=L.a;break;case ri.LOCAL:Ye=(yield L.az(L.i)._isAvailable())?L.i:L.b;break;case ri.NONE:Ye=L.L;break;default:return L.as("argument-error",{appName:me._delegate.name})}return me._delegate.setPersistence(Ye)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Vn(this._delegate,L.X(this._delegate))}signInWithCredential(q){return Vn(this._delegate,L.Y(this._delegate,q))}signInWithCustomToken(q){return Vn(this._delegate,L.$(this._delegate,q))}signInWithEmailAndPassword(q,me){return Vn(this._delegate,L.a6(this._delegate,q,me))}signInWithEmailLink(q,me){return Vn(this._delegate,L.a9(this._delegate,q,me))}signInWithPhoneNumber(q,me){return Ar(this._delegate,L.s(this._delegate,q,me))}signInWithPopup(q){var me=this;return(0,s.Z)(function*(){return ft(Kt(),me._delegate,"operation-not-supported-in-this-environment"),Vn(me._delegate,L.c(me._delegate,q,Lt))})()}signInWithRedirect(q){var me=this;return(0,s.Z)(function*(){return ft(Kt(),me._delegate,"operation-not-supported-in-this-environment"),yield qt(me._delegate),L.f(me._delegate,q,Lt)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return L.a4(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=ri,$})();function dt($,F,q){let me=$;"function"!=typeof $&&({next:me,error:F,complete:q}=$);const Ye=me;return{next:Ft=>Ye(Ft&&lr.getOrCreate(Ft)),error:F,complete:q}}function xt($,F){const q=function Jn($,F){const q=Dr();if(!q)return[];const me=L.aA(or,$,F);switch(q.getItem(me)){case ri.NONE:return[L.L];case ri.LOCAL:return[L.i,L.a];case ri.SESSION:return[L.a];default:return[]}}($,F);if(typeof self<"u"&&!q.includes(L.i)&&q.push(L.i),typeof window<"u")for(const me of[L.b,L.a])q.includes(me)||q.push(me);return q.includes(L.L)||q.push(L.L),q}class Gt{constructor(){this.providerId="phone",this._delegate=new L.P(ci(G.Z.auth()))}static credential(F,q){return L.P.credential(F,q)}verifyPhoneNumber(F,q){return this._delegate.verifyPhoneNumber(F,q)}unwrap(){return this._delegate}}Gt.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,Gt.PROVIDER_ID=L.P.PROVIDER_ID;const pn=L.ax;class J{constructor(F,q,me=G.Z.app()){var Ye;pn(null===(Ye=me.options)||void 0===Ye?void 0:Ye.apiKey,"invalid-api-key",{appName:me.name}),this._delegate=new L.R(F,q,me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ie($){$.INTERNAL.registerComponent(new Se.wA("auth-compat",F=>{const q=F.getProvider("app-compat").getImmediate(),me=F.getProvider("auth");return new Be(q,me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.M,FacebookAuthProvider:L.N,GithubAuthProvider:L.T,GoogleAuthProvider:L.Q,OAuthProvider:L.U,SAMLAuthProvider:L.V,PhoneAuthProvider:Gt,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:J,TwitterAuthProvider:L.W,Auth:Be,AuthCredential:L.H,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.3.1")}(G.Z)},1878:(mt,De,U)=>{"use strict";U.d(De,{Lj:()=>ce,X3:()=>st});var s=U(5861);const G=(pe,Re)=>Re.some(Je=>pe instanceof Je);let L,re;const Se=new WeakMap,Me=new WeakMap,Ie=new WeakMap,Z=new WeakMap,Q=new WeakMap;let Le={get(pe,Re,Je){if(pe instanceof IDBTransaction){if("done"===Re)return Me.get(pe);if("objectStoreNames"===Re)return pe.objectStoreNames||Ie.get(pe);if("store"===Re)return Je.objectStoreNames[1]?void 0:Je.objectStore(Je.objectStoreNames[0])}return ze(pe[Re])},set:(pe,Re,Je)=>(pe[Re]=Je,!0),has:(pe,Re)=>pe instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in pe};function V(pe){return"function"==typeof pe?function Fe(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...Re){return pe.apply(at(this),Re),ze(Se.get(this))}:function(...Re){return ze(pe.apply(at(this),Re))}:function(Re,...Je){const _t=pe.call(at(this),Re,...Je);return Ie.set(_t,Re.sort?Re.sort():[Re]),ze(_t)}}(pe):(pe instanceof IDBTransaction&&function Ze(pe){if(Me.has(pe))return;const Re=new Promise((Je,_t)=>{const wn=()=>{pe.removeEventListener("complete",kn),pe.removeEventListener("error",dn),pe.removeEventListener("abort",dn)},kn=()=>{Je(),wn()},dn=()=>{_t(pe.error||new DOMException("AbortError","AbortError")),wn()};pe.addEventListener("complete",kn),pe.addEventListener("error",dn),pe.addEventListener("abort",dn)});Me.set(pe,Re)}(pe),G(pe,function he(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,Le):pe)}function ze(pe){if(pe instanceof IDBRequest)return function ue(pe){const Re=new Promise((Je,_t)=>{const wn=()=>{pe.removeEventListener("success",kn),pe.removeEventListener("error",dn)},kn=()=>{Je(ze(pe.result)),wn()},dn=()=>{_t(pe.error),wn()};pe.addEventListener("success",kn),pe.addEventListener("error",dn)});return Re.then(Je=>{Je instanceof IDBCursor&&Se.set(Je,pe)}).catch(()=>{}),Q.set(Re,pe),Re}(pe);if(Z.has(pe))return Z.get(pe);const Re=V(pe);return Re!==pe&&(Z.set(pe,Re),Q.set(Re,pe)),Re}const at=pe=>Q.get(pe);function st(pe,Re,{blocked:Je,upgrade:_t,blocking:wn,terminated:kn}={}){const dn=indexedDB.open(pe,Re),bn=ze(dn);return _t&&dn.addEventListener("upgradeneeded",qn=>{_t(ze(dn.result),qn.oldVersion,qn.newVersion,ze(dn.transaction))}),Je&&dn.addEventListener("blocked",()=>Je()),bn.then(qn=>{kn&&qn.addEventListener("close",()=>kn()),wn&&qn.addEventListener("versionchange",()=>wn())}).catch(()=>{}),bn}function ce(pe,{blocked:Re}={}){const Je=indexedDB.deleteDatabase(pe);return Re&&Je.addEventListener("blocked",()=>Re()),ze(Je).then(()=>{})}const Ve=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],Pe=new Map;function oe(pe,Re){if(!(pe instanceof IDBDatabase)||Re in pe||"string"!=typeof Re)return;if(Pe.get(Re))return Pe.get(Re);const Je=Re.replace(/FromIndex$/,""),_t=Re!==Je,wn=ge.includes(Je);if(!(Je in(_t?IDBIndex:IDBObjectStore).prototype)||!wn&&!Ve.includes(Je))return;const kn=function(){var dn=(0,s.Z)(function*(bn,...qn){const Cs=this.transaction(bn,wn?"readwrite":"readonly");let ve=Cs.store;return _t&&(ve=ve.index(qn.shift())),(yield Promise.all([ve[Je](...qn),wn&&Cs.done]))[0]});return function(qn){return dn.apply(this,arguments)}}();return Pe.set(Re,kn),kn}!function nt(pe){Le=pe(Le)}(pe=>({...pe,get:(Re,Je,_t)=>oe(Re,Je)||pe.get(Re,Je,_t),has:(Re,Je)=>!!oe(Re,Je)||pe.has(Re,Je)}))},5861:(mt,De,U)=>{"use strict";function s(L,re,he,ye,Se,Me,Ie){try{var Z=L[Me](Ie),Q=Z.value}catch(ue){return void he(ue)}Z.done?re(Q):Promise.resolve(Q).then(ye,Se)}function G(L){return function(){var re=this,he=arguments;return new Promise(function(ye,Se){var Me=L.apply(re,he);function Ie(Q){s(Me,ye,Se,Ie,Z,"next",Q)}function Z(Q){s(Me,ye,Se,Ie,Z,"throw",Q)}Ie(void 0)})}}U.d(De,{Z:()=>G})},7582:(mt,De,U)=>{"use strict";function re(ve,be){var xe={};for(var Ee in ve)Object.prototype.hasOwnProperty.call(ve,Ee)&&be.indexOf(Ee)<0&&(xe[Ee]=ve[Ee]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(Ee=Object.getOwnPropertySymbols(ve);S<Ee.length;S++)be.indexOf(Ee[S])<0&&Object.prototype.propertyIsEnumerable.call(ve,Ee[S])&&(xe[Ee[S]]=ve[Ee[S]])}return xe}function ue(ve,be,xe,Ee){return new(xe||(xe=Promise))(function(X,de){function fe(tt){try{je(Ee.next(tt))}catch(Xe){de(Xe)}}function At(tt){try{je(Ee.throw(tt))}catch(Xe){de(Xe)}}function je(tt){tt.done?X(tt.value):function S(X){return X instanceof xe?X:new xe(function(de){de(X)})}(tt.value).then(fe,At)}je((Ee=Ee.apply(ve,be||[])).next())})}function ce(ve){return this instanceof ce?(this.v=ve,this):new ce(ve)}function Ve(ve,be,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,Ee=xe.apply(ve,be||[]),X=[];return S={},de("next"),de("throw"),de("return"),S[Symbol.asyncIterator]=function(){return this},S;function de(Nt){Ee[Nt]&&(S[Nt]=function(hn){return new Promise(function(Fn,Kt){X.push([Nt,hn,Fn,Kt])>1||fe(Nt,hn)})})}function fe(Nt,hn){try{!function At(Nt){Nt.value instanceof ce?Promise.resolve(Nt.value.v).then(je,tt):Xe(X[0][2],Nt)}(Ee[Nt](hn))}catch(Fn){Xe(X[0][3],Fn)}}function je(Nt){fe("next",Nt)}function tt(Nt){fe("throw",Nt)}function Xe(Nt,hn){Nt(hn),X.shift(),X.length&&fe(X[0][0],X[0][1])}}function Pe(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,be=ve[Symbol.asyncIterator];return be?be.call(ve):(ve=function Fe(ve){var be="function"==typeof Symbol&&Symbol.iterator,xe=be&&ve[be],Ee=0;if(xe)return xe.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&Ee>=ve.length&&(ve=void 0),{value:ve&&ve[Ee++],done:!ve}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),xe={},Ee("next"),Ee("throw"),Ee("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Ee(X){xe[X]=ve[X]&&function(de){return new Promise(function(fe,At){!function S(X,de,fe,At){Promise.resolve(At).then(function(je){X({value:je,done:fe})},de)}(fe,At,(de=ve[X](de)).done,de.value)})}}}U.d(De,{FC:()=>Ve,KL:()=>Pe,_T:()=>re,mG:()=>ue,qq:()=>ce}),"function"==typeof SuppressedError&&SuppressedError}},mt=>{mt(mt.s=9032)}]);